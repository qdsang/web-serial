var U6=Object.defineProperty;var G6=(n,e,t)=>e in n?U6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var tn=(n,e,t)=>G6(n,typeof e!="symbol"?e+"":e,t);import{r as Me,w as Ye,S as er,aw as Op,ax as v0,x as rt,j as gn,ag as Ee,y as _e,z as me,A as fe,G as ct,P as z,H as U,O as xt,a6 as Nt,u as V,L as Ce,M as it,ay as ao,e as Ey,i as Mi,ao as Qy,R as At,az as W6,c as qe,B as Dt,D as qt,F as Ry,g as El,X as Pr,o as Uu,C as kn,n as vn,a2 as yp,W as dh,J as kt,aA as Y6,l as fh,ad as Md,k as K6,aB as Tt,t as Mr,af as Qt,U as bp,E as ni,K as ss,an as qa,h as J6,f as wp,a8 as zy,a1 as e7,a9 as t7,I as n7,Q as i7,aC as r7,at as s7,aD as o7}from"./vue-DDR9gto8.js";import{E as Xt,a as Dy,b as Iy,c as os,d as vo,e as Pa,f as Kn,g as O0,h as yt,i as Oo,j as a7,k as l7,M as u7,l as yg,m as c7,n as h7}from"./utils-Cyu2rTjj.js";import{r as d7,a as f7,b as p7}from"./xterm-BZdChWd0.js";import{C as m7,V as Et,M as To,T as ko,Q as bc,S as bg,a as Rn,R as g7,P as v7,b as br,c as O7,d as Cd,e as Ny,L as xp,f as Po,F as ph,h as tr,i as si,j as Cr,k as Hi,l as y7,m as Ly,D as wc,n as xc,I as b7,o as w7,O as Fa,p as Sp,q as x7,B as y0,r as S7,s as Zy,N as k7,t as _7,u as $7,v as Ed,w as kp,x as qo,y as A7,z as T7,A as Ma,E as Ha,G as ja,H as Es,J as By,K as Ca,U as P7,W as Sc,X as M7,Y as Xi,Z as Qd,_ as Vy,$ as C7,a0 as Mo,a1 as Hs,a2 as Ua,a3 as E7,a4 as Q7,a5 as R7,a6 as z7,a7 as D7,a8 as Xy,a9 as I7,aa as wg,ab as xg,ac as Sg,ad as kg,ae as Ga,af as qy,ag as N7,ah as L7,ai as Z7,aj as yo,ak as _p,al as B7,g as Fy,am as Co,an as Hy,ao as jy,ap as V7,aq as Uy,ar as X7,as as q7,at as _g,au as Rd,av as F7,aw as H7,ax as j7,ay as U7,az as G7,aA as W7,aB as Y7,aC as K7}from"./three-DCFYVoNR.js";import{u as Gy}from"./uplot-C0BbzL7s.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();const tu={serial:{baudRate:115200,dataBits:8,stopBits:1,parity:"none",flowControl:"none"},display:{showTime:!0,showMs:!1,showHex:!0,showText:!0,showNewline:!0,autoScroll:!1,timeOut:5},send:{isHexSend:!1,addCRLF:!1,addCRLFType:`
`,autoSend:!1,autoSendInterval:1e3,addChecksum:!1,content:"",history:[],historyMaxLength:100},layout:{splitPaneSize:75,leftActiveTab:"0",rightActiveTab:"0"},charts:{list:[{id:1,name:"Chart 1",fields:["pitch","roll","yaw"]}]},canvas:{items:[]}},Is=class Is{constructor(){tn(this,"configs",{});this.loadAllConfigs()}static getInstance(){return Is.instance||(Is.instance=new Is),Is.instance}loadAllConfigs(){for(const[e,t]of Object.entries(tu)){const i=localStorage.getItem(`config.${e}`);this.configs[e]=i?{...t,...JSON.parse(i)}:t}}getConfig(e){return this.configs[e]||tu[e]}setConfig(e,t){this.configs[e]={...this.configs[e],...t},localStorage.setItem(`config.${e}`,JSON.stringify(this.configs[e]))}useConfig(e){const t=Me(this.getConfig(e));return Ye(t,i=>{this.setConfig(e,i)},{deep:!0}),t}resetConfig(e){this.configs[e]={...tu[e]},localStorage.setItem(`config.${e}`,JSON.stringify(this.configs[e]))}resetAllConfigs(){Object.keys(tu).forEach(e=>{this.resetConfig(e)})}};tn(Is,"instance");let Er=Is;const Ns=class Ns{constructor(){tn(this,"handlers",new Map)}static getInstance(){return Ns.instance||(Ns.instance=new Ns),Ns.instance}emit(e,t){const i=this.handlers.get(e);i&&(i.forEach((r,s)=>{r.callback(t),r.once&&i.splice(s,1)}),i.length===0&&this.handlers.delete(e))}on(e,t,i=!1){var r;this.handlers.has(e)||this.handlers.set(e,[]),(r=this.handlers.get(e))==null||r.push({callback:t,once:i})}once(e,t){this.on(e,t,!0)}off(e,t){if(!t){this.handlers.delete(e);return}const i=this.handlers.get(e);if(!i)return;const r=i.findIndex(s=>s.callback===t);r!==-1&&(i.splice(r,1),i.length===0&&this.handlers.delete(e))}useEvent(e,t){this.on(e,t),er(()=>{this.off(e,t)})}};tn(Ns,"instance");let vi=Ns;const Ut={SERIAL_DATA:"serial-data",SERIAL_SEND:"serial-send",DATA_UPDATE:"data-update",TERM_WRITE:"term-write",SERIAL_ERROR:"error"},J7=vi.getInstance(),Ls=class Ls{constructor(){tn(this,"textEncoder");tn(this,"textDecoder");tn(this,"isConnected",!1);tn(this,"sendQueue",[]);tn(this,"maxQueueSize",1e3);tn(this,"processingQueue",!1);this.textEncoder=new TextEncoder,this.textDecoder=new TextDecoder}static getInstance(){return Ls.instance||(Ls.instance=new Ls),Ls.instance}setConnected(e){this.isConnected=e,e||this.clearSendQueue()}isSerialConnected(){return this.isConnected}validateHexString(e){return/^[0-9A-Fa-f\s]*$/.test(e)&&e.replace(/\s/g,"").length%2===0}stringToUint8Array(e,t=!1){if(t){if(!this.validateHexString(e))throw new Error("无效的HEX格式字符串");const i=e.replace(/[^0-9A-Fa-f]/g,""),r=new Uint8Array(i.length/2);for(let s=0;s<i.length;s+=2)r[s/2]=parseInt(i.substr(s,2),16);return r}return this.textEncoder.encode(e)}uint8ArrayToHexString(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0").toUpperCase()).join(" ")}uint8ArrayToString(e){try{return this.textDecoder.decode(e)}catch(t){return console.error("解码数据时出错:",t),""}}formatLogMessage(e,t){try{const i=new Date,r=[];if(t.showTime){const o=i.toLocaleTimeString();if(t.showMs){const a=i.getMilliseconds().toString().padStart(3,"0");r.push(`[${o}.${a}]`)}else r.push(`[${o}]`)}if(t.showHex){const o=this.uint8ArrayToHexString(e);r.push(o)}if(t.showText){const o=this.uint8ArrayToString(e);t.showHex?r.push(`| ${o}`):r.push(o)}return t.showNewline?r.push(`
`):r.push(""),r.join(" ")}catch(i){return console.error("格式化日志消息时出错:",i),`[${new Date().toLocaleTimeString()}] 错误: 无法格式化消息
`}}async addToSendQueue(e){if(!this.isConnected)throw new Error("串口未连接");if(this.sendQueue.length>=this.maxQueueSize)throw new Error("发送队列已满");this.sendQueue.push(e),this.processingQueue||await this.processSendQueue()}clearSendQueue(){this.sendQueue=[],this.processingQueue=!1}async processSendQueue(){if(!(this.processingQueue||this.sendQueue.length===0)){for(this.processingQueue=!0;this.sendQueue.length>0&&this.isConnected;){const e=this.sendQueue.shift();if(e)try{J7.emit(Ut.SERIAL_SEND,e),await new Promise(t=>setTimeout(t,10))}catch(t){console.error("发送数据时出错:",t)}}this.processingQueue=!1}}calculateChecksum(e){return e.reduce((t,i)=>t^i,0)}appendChecksum(e){const t=this.calculateChecksum(e),i=new Uint8Array(e.length+1);return i.set(e),i[e.length]=t,i}verifyChecksum(e){if(e.length<1)return!1;const t=e[e.length-1],i=this.calculateChecksum(e.slice(0,-1));return t===i}};tn(Ls,"instance");let Fo=Ls;const Gu=(n,e,t,i)=>({id:n,key:e,name:e,keyAddr:0,keySize:0,dataType:i||"number",description:"",value:t,avg:typeof t=="number"?t:null,avgSum:typeof t=="number"?t:null,min:typeof t=="number"?t:null,max:typeof t=="number"?t:null,lastUpdate:Date.now(),updateCount:1,isEditing:!1}),ex=[Gu(1,"pitch",0,"number"),Gu(1,"roll",0,"number"),Gu(1,"yaw",0,"number")],$p=Op("field",{state:()=>({fields:v0("config.fields",ex),nextId:v0("config.nextId",1),columnVisibility:v0("config.columnVisibility",{key:!0,name:!1,keyAddr:!1,keySize:!1,dataType:!0,description:!1,value:!0,avg:!1,min:!1,max:!1,lastUpdate:!0,updateCount:!0})}),actions:{createField(n,e,t){const i=Gu(this.nextId++,n,e,t);return this.fields.push(i),i},updateField(n,e){n.value=e,n.lastUpdate=Date.now(),n.updateCount++,typeof e=="number"&&(n.avgSum==null&&(n.avgSum=0),n.avgSum+=e,n.avg=Math.floor(n.avgSum/n.updateCount*1e3)/1e3,(n.min===null||e<n.min)&&(n.min=e),(n.max===null||e>n.max)&&(n.max=e))},deleteField(n){const e=this.fields.findIndex(t=>t.id===n);e!==-1&&this.fields.splice(e,1)},toggleColumnVisibility(){},saveToLocalStorage(){},loadFromLocalStorage(){},exportData(){const n=JSON.stringify(this.fields,null,2),e=new Blob([n],{type:"application/json"}),t=URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.download=`data-export-${new Date().toISOString()}.json`,i.click(),URL.revokeObjectURL(t)},async importData(n){try{const e=await n.text(),t=JSON.parse(e);return this.fields=t,!0}catch(e){return console.error("导入数据失败:",e),!1}}}}),nu=vi.getInstance(),$g=`let cache = '';

// 处理接收的数据
async function DataReceiver(data) {
  cache += uint8ArrayToString(data);
  // 数据格式："pitch:-0.13,roll:0.00,yaw:0.07\\n"

  if (cache.indexOf('\\n') !== -1) {
    const lines = cache.split('\\n');
    cache = lines.pop() || '';
    
    for (const line of lines) {
      let files = line.split(',')
      let data = {};
      files.map((str) => {
        let s2 = str.split(':')
        if (s2.length === 2) {
          data[s2[0]] = parseFloat(s2[1])
        }
      })
      
      // 更新到数据表
      updateDataTable(data);
    }
  }
  return data;
}

// 处理发送的数据
async function DataSender(data) {
  // checksum
  // await sleep(10);

  return data;
}

// 定时发送数据
setInterval(async () => {
  const bytes = new Uint8Array(3);
  // sendHex(bytes);
}, 1000);

// 支持的函数
// stringToUint8Array();
// uint8ArrayToHexString();
// uint8ArrayToString();

`,Zs=class Zs{constructor(){tn(this,"scripts",[]);tn(this,"currentScript",{id:Date.now(),name:"新建脚本",code:"",isRunning:!1});tn(this,"serialHelper",Fo.getInstance());tn(this,"runtimer",{DataReceiverInterface:null,DataSenderInterface:null});tn(this,"RuntimerTimerIntervals",[]);tn(this,"RuntimerTimerouts",[]);this.loadScripts()}static getInstance(){return Zs.instance||(Zs.instance=new Zs),Zs.instance}getScripts(){return this.scripts}getCurrentScript(){return this.currentScript}setCurrentScript(e){this.currentScript=e}addScript(e="新脚本",t=$g){const i={id:Date.now(),name:e,code:t,isRunning:!1};return this.scripts.push(i),this.currentScript=i,this.saveScripts(),i}removeScript(e){const t=this.scripts.findIndex(i=>i.id===e);t>-1&&(this.scripts.splice(t,1),this.currentScript.id===e&&(this.scripts.length===0&&this.addScript(),this.currentScript=this.scripts[0]),this.saveScripts())}async runScript(){let e=this.currentScript;if(!e.isRunning){e.isRunning=!0;try{const t={stringToUint8Array:this.serialHelper.stringToUint8Array.bind(this.serialHelper),uint8ArrayToHexString:this.serialHelper.uint8ArrayToHexString.bind(this.serialHelper),uint8ArrayToString:this.serialHelper.uint8ArrayToString.bind(this.serialHelper),sendText:s=>{const o=this.serialHelper.stringToUint8Array(s);nu.emit(Ut.SERIAL_SEND,o)},sendHex:s=>{let o=s;typeof s=="string"&&(o=this.serialHelper.stringToUint8Array(s,!0)),nu.emit(Ut.SERIAL_SEND,o)},updateDataTable:s=>{nu.emit(Ut.DATA_UPDATE,s)},getDataTables:()=>{const s=$p();return JSON.parse(JSON.stringify(s.fields))},sleep:s=>new Promise(o=>setTimeout(o,s)),setTimeout:(s,o)=>{const a=setTimeout(s,o);return this.RuntimerTimerouts.push(a),a},setInterval:(s,o)=>{const a=setInterval(s,o);return this.RuntimerTimerIntervals.push(a),a}},i=`
return (async function() {
  ${e.code}


  let DataReceiverInterface = typeof DataReceiver == 'undefined' ? null : DataReceiver;
  let DataSenderInterface = typeof DataSender == 'undefined'? null : DataSender;
  return { DataReceiverInterface, DataSenderInterface };
})()
      `,r=new Function("context",`with(context) { ${i} }`);this.runtimer=await r(t)}catch(t){console.error("脚本执行错误:",t),nu.emit(Ut.SERIAL_ERROR,{error:t instanceof Error?t.message:"未知错误"}),this.stopScript()}}}stopScript(){this.currentScript.isRunning=!1,this.RuntimerTimerouts.forEach(clearTimeout),this.RuntimerTimerouts=[],this.RuntimerTimerIntervals.forEach(clearInterval),this.RuntimerTimerIntervals=[]}async getRuntimer(){return this.currentScript.isRunning||await this.runScript(),this.runtimer}saveScripts(){localStorage.setItem("config.serialScripts",JSON.stringify(this.scripts))}loadScripts(){const e=localStorage.getItem("config.serialScripts");if(e)try{this.scripts=JSON.parse(e)}catch(t){console.error("加载脚本失败:",t)}this.scripts.length===0&&this.addScript("数据处理Demo（key:val,key:val）",$g),this.scripts.map(t=>{t.isRunning=!1}),this.currentScript=this.scripts[0]||this.currentScript}};tn(Zs,"instance");let kc=Zs;const Jn=Me([]),tx=Er.getInstance(),nx=tx.useConfig("serial"),zd=Me(null),ix=[{name:"Arduino UNO",vendorId:"2341",productId:"0043"},{name:"Arduino Mega",vendorId:"2341",productId:"0010"},{name:"Arduino Nano",vendorId:"0403",productId:"6001"},{name:"ATmega32U4",vendorId:"2341",productId:"8036"},{name:"CP2102/CP2102N",vendorId:"10c4",productId:"ea60"},{name:"FT2232H",vendorId:"0403",productId:"6010"},{name:"FTDI Basic",vendorId:"0403",productId:"6001"},{name:"CH340",vendorId:"1a86",productId:"7523"},{name:"CH9102",vendorId:"1a86",productId:"55d4"},{name:"PL2303",vendorId:"067b",productId:"2303"},{name:"PL2303HX",vendorId:"067b",productId:"2303"},{name:"ESP USB_SERIAL_JTAG",vendorId:"303a",productId:"1001"},{name:"ESP USB Bridge",vendorId:"303a",productId:"1002"},{name:"ESP32-S2 USB CDC",vendorId:"303a",productId:"0002"},{name:"ESP32-S3 USB CDC",vendorId:"303a",productId:"0009"},{name:"CH9102F",vendorId:"1a86",productId:"55d4"},{name:"CH340G",vendorId:"1a86",productId:"7523"},{name:"STM32 Virtual COM Port",vendorId:"0483",productId:"5740"},{name:"STM32 USB CDC",vendorId:"0483",productId:"5740"}],rx=n=>{if(!n.getInfo().usbProductId)return"串口设备";const e=(n.getInfo().usbVendorId||0).toString(16).padStart(4,"0"),t=(n.getInfo().usbProductId||0).toString(16).padStart(4,"0"),i=ix.find(r=>r.vendorId.toLowerCase()===e.toLowerCase()&&r.productId.toLowerCase()===t.toLowerCase());return i?`${i.name} (VID:${e} PID:${t})`:`未知设备 (VID:${e} PID:${t})`},Wy=n=>{var e;return"serialport_"+(((e=n.getInfo().usbProductId)==null?void 0:e.toString())||"")},Yy=n=>({id:Wy(n),title:rx(n),type:"serialport",port:n}),sx=async()=>{var n;(n=navigator.serial)==null||n.getPorts().then(e=>{e.map(t=>{let i=Wy(t);Jn.value.find(s=>s.id===i)||Jn.value.push(Yy(t))})})},ox=async()=>{try{const n=await navigator.serial.requestPort();return Yy(n)}catch(n){n.message!="Failed to execute 'requestPort' on 'Serial': No port selected by the user."&&Xt.error("串口连接失败："+n),console.error(n)}return null},ax=async n=>{try{const e=n.port;await e.open(nx.value),zd.value=e;let t=e.writable.getWriter(),i=e.readable.getReader();return{writer:t,reader:i}}catch(e){Xt.error("串口连接失败："+e),console.log(e)}},lx=async()=>{try{zd.value&&await zd.value.close()}catch(n){Xt.error("断开设备失败："+n),console.log(n)}},Bs=class Bs{constructor(){tn(this,"timers");this.timers=new Map}static getInstance(){return Bs.instance||(Bs.instance=new Bs),Bs.instance}animationFrame(e){const t=this.timers.get(e);if(!t||!t.isRunning)return;const i=performance.now(),r=i-t.lastTime;r>=t.interval&&(t.callback(),t.lastTime=i-r%t.interval),t.requestId=requestAnimationFrame(()=>this.animationFrame(e))}startTimer(e,t,i){this.timers.has(e)&&this.stopTimer(e),this.timers.set(e,{callback:t,interval:i,lastTime:performance.now(),requestId:null,isRunning:!0});const r=this.timers.get(e);r.requestId=requestAnimationFrame(()=>this.animationFrame(e))}stopTimer(e){const t=this.timers.get(e);t&&(t.isRunning=!1,t.requestId!==null&&(cancelAnimationFrame(t.requestId),t.requestId=null))}resumeTimer(e){const t=this.timers.get(e);t&&!t.isRunning&&(t.isRunning=!0,t.lastTime=performance.now(),t.requestId=requestAnimationFrame(()=>this.animationFrame(e)))}clearTimer(e){this.stopTimer(e),this.timers.delete(e)}clearAllTimers(){for(const e of this.timers.keys())this.clearTimer(e)}isTimerRunning(e){const t=this.timers.get(e);return t?t.isRunning:!1}};tn(Bs,"instance");let Dd=Bs;const ux=()=>"mock",cx=()=>"mock",hx=n=>({id:cx(),title:ux(),type:"mock",port:n});Jn.value.push(hx(null));const Ky=Me(!1),Jy=Dd.getInstance(),e2="mock_imu_simulation",dx=n=>new Promise(e=>setTimeout(e,n)),fx=async()=>{t2(),Ky.value=!0;const{writable:n,readable:e}=new TransformStream({transform(a,l){l.enqueue(a)}});let t=n.getWriter(),i=e.getReader(),r=0,s=0,o=0;return await dx(1e3-Date.now()%1e3),Jy.startTimer(e2,()=>{r+=Math.random()*.4-.2,s+=Math.random()*.4-.1,o+=Math.random()*.4-0;let a=`pitch:${r.toFixed(2)},roll:${s.toFixed(2)},yaw:${o.toFixed(2)}
`;const l=new TextEncoder().encode(a);t.write(l)},50),{writer:t,reader:i}},t2=()=>{Jy.stopTimer(e2),Ky.value=!1},px=async n=>fx(),mx=async()=>{t2()},gx=n=>"未知设备"+n,n2=n=>"usb",i2=n=>({id:n2(),title:gx(n),type:"usb",port:n}),vx=async()=>{var n;(n=navigator.usb)==null||n.getDevices().then(e=>{e.map(t=>{let i=n2();Jn.value.find(s=>s.id===i)||Jn.value.push(i2(t))})})},Ox=async()=>{try{const n=await navigator.usb.requestDevice({filters:[]});return i2(n)}catch(n){n.message!="Failed to execute 'requestDevice' on 'USB': No device selected."&&Xt.error("串口连接失败："+n),console.error(n)}return null},yx=async n=>(console.log(n),null),bx=n=>"未知设备"+n,wx=n=>"bluetooth",xx=n=>({id:wx(),title:bx(n),type:"bluetooth",port:n}),Sx=async()=>{try{const n=await navigator.bluetooth.requestDevice({acceptAllDevices:!0});return xx(n)}catch(n){n.message!="User cancelled the requestDevice() chooser."&&Xt.error("串口连接失败："+n),console.error(n)}return null},kx=async n=>null,_x={class:"serial-config"},$x={class:"config-container"},Ax={class:"port-section"},Tx={class:"port-list"},Px=rt({__name:"SerialConfig",setup(n){const t=Er.getInstance().useConfig("serial"),i=kc.getInstance(),r=vi.getInstance(),s=Me(null),o=Me(null),a=Me(!1),l=Me(""),u=[921600,460800,230400,115200,57600,38400,19200,9600,4800,2400,1200];Ye(t,async()=>{if(a.value){try{await v()}catch{}try{const w=Jn.value.find(R=>R.id===l.value);w&&await m(w)}catch(w){Xt.error("更新串口参数失败："+w)}}},{deep:!0});const h=async w=>{const R=await i.getRuntimer();R.DataReceiverInterface&&(w=await R.DataReceiverInterface(w)),r.emit(Ut.SERIAL_DATA,w)},d=async()=>{let w=null;switch(l.value){case"authorizedSerial":w=await ox();break;case"authorizedUSB":w=await Ox();break;case"authorizedBluetooth":w=await Sx();break;case"websocket":break;case"webstlink":case"script":case"dap":case"adb":Xt.warning("该设备类型开发中"),l.value="";break;default:w=Jn.value.find(R=>R.id===l.value)}w?m(w):l.value=""},m=async w=>{Jn.value.find(M=>M.id===w.id)||Jn.value.push(w);let Q;try{w.type==="serialport"?Q=await ax(w):w.type==="mock"?Q=await px(w):w.type==="usb"?Q=await yx(w):w.type==="bluetooth"&&(Q=await kx(w))}catch(M){Xt.error("串口连接失败："+M),console.log(M)}Q?(s.value=Q.writer,o.value=Q.reader,a.value=!0,Xt.success("串口连接成功"),b(),l.value=w.id):l.value=""},v=async()=>{try{o.value&&(await o.value.cancel(),o.value.releaseLock()),s.value&&(await s.value.close(),s.value.releaseLock())}catch(w){console.log(w)}a.value=!1;try{await lx(),await mx(),Xt.success("设备已断开")}catch(w){Xt.error("断开设备失败："+w),console.log(w)}},b=async()=>{for(;a.value&&o.value;)try{const{value:w,done:R}=await o.value.read();if(R)break;h(w)}catch(w){Xt.error("读取串口数据失败："+w);break}},k=async w=>{if(!a.value||!s.value){w.length==1&&w[0]==13?r.emit(Ut.TERM_WRITE,w):Xt.error("设备未连接");return}const R=await i.getRuntimer();R.DataSenderInterface&&(w=await R.DataSenderInterface(w));try{await s.value.write(w),Xt.success({message:"发送成功",grouping:!0,duration:1800,showClose:!0})}catch(Q){console.log(Q),Xt.error("发送数据失败："+Q)}},_=Me({url:"",history:[]}),T=w=>{w&&(_.value.url=w,_.value.history.includes(w)||(_.value.history.push(w),localStorage.setItem("config.wsConfig",JSON.stringify(_.value))))};gn(()=>{r.on(Ut.SERIAL_SEND,k),sx(),vx()}),er(()=>{r.off(Ut.SERIAL_SEND,k)});const $=()=>{if(a.value)v();else{const w=Jn.value.find(R=>R.id===l.value);w&&m(w)}};return(w,R)=>{const Q=Ee("el-option"),M=Ee("el-option-group"),B=Ee("el-select"),N=Ee("el-button"),K=Ee("el-button-group"),q=Ee("el-form-item"),Z=Ee("el-form");return me(),_e("div",_x,[fe("div",$x,[fe("div",Ax,[fe("div",Tx,[z(B,{modelValue:l.value,"onUpdate:modelValue":R[0]||(R[0]=re=>l.value=re),onChange:d,placeholder:"选择设备",size:"small"},{default:U(()=>[z(Q,{label:"选择设备",value:""}),z(M,{label:"串口设备"},{default:U(()=>[z(Q,{label:"授权串口设备",value:"authorizedSerial"}),(me(!0),_e(xt,null,Nt(V(Jn).filter(re=>re.type=="serialport"),re=>(me(),ct(Q,{key:re.id,label:re.title,value:re.id},null,8,["label","value"]))),128))]),_:1}),z(M,{label:"WebUSB设备"},{default:U(()=>[z(Q,{label:"授权WebUSB设备",value:"authorizedUSB"}),(me(!0),_e(xt,null,Nt(V(Jn).filter(re=>re.type=="usb"),re=>(me(),ct(Q,{key:re.id,label:re.title,value:re.id},null,8,["label","value"]))),128))]),_:1}),z(M,{label:"蓝牙设备"},{default:U(()=>[z(Q,{label:"授权蓝牙设备",value:"authorizedBluetooth"}),(me(!0),_e(xt,null,Nt(V(Jn).filter(re=>re.type=="bluetooth"),re=>(me(),ct(Q,{key:re.id,label:re.title,value:re.id},null,8,["label","value"]))),128))]),_:1}),z(M,{label:"其他"},{default:U(()=>[z(Q,{label:"WebSocket",value:"websocket"}),z(Q,{label:"脚本",value:"script"}),z(Q,{label:"Stlink",value:"webstlink"}),z(Q,{label:"DAP",value:"dap"}),z(Q,{label:"adb",value:"adb"}),z(Q,{label:"模拟数据(IMU)",value:"mock"})]),_:1})]),_:1},8,["modelValue"])]),z(K,null,{default:U(()=>[z(N,{type:a.value?"danger":"primary",onClick:$,size:"small"},{default:U(()=>[Ce(it(a.value?"断开":"连接"),1)]),_:1},8,["type"])]),_:1})]),l.value=="websocket"?(me(),ct(Z,{key:0,model:_.value,inline:!0,size:"small",class:"config-section"},{default:U(()=>[z(q,{label:"ws"},{default:U(()=>[z(B,{modelValue:_.value.url,"onUpdate:modelValue":R[1]||(R[1]=re=>_.value.url=re),filterable:"","allow-create":"",onChange:T,style:{width:"300px"}},{default:U(()=>[(me(!0),_e(xt,null,Nt(_.value.history,re=>(me(),ct(Q,{key:re,label:re,value:re},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])):(me(),ct(Z,{key:1,model:V(t),inline:!0,size:"small",class:"config-section"},{default:U(()=>[z(q,{label:"波特率"},{default:U(()=>[z(B,{modelValue:V(t).baudRate,"onUpdate:modelValue":R[2]||(R[2]=re=>V(t).baudRate=re),style:{width:"80px"}},{default:U(()=>[(me(),_e(xt,null,Nt(u,re=>z(Q,{key:re,value:re},null,8,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),z(q,{label:"数据位"},{default:U(()=>[z(B,{modelValue:V(t).dataBits,"onUpdate:modelValue":R[3]||(R[3]=re=>V(t).dataBits=re),style:{width:"50px"}},{default:U(()=>[(me(),_e(xt,null,Nt([8,7,6,5],re=>z(Q,{key:re,value:re},null,8,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),z(q,{label:"停止位"},{default:U(()=>[z(B,{modelValue:V(t).stopBits,"onUpdate:modelValue":R[4]||(R[4]=re=>V(t).stopBits=re),style:{width:"50px"}},{default:U(()=>[(me(),_e(xt,null,Nt([1,2],re=>z(Q,{key:re,value:re},null,8,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),z(q,{label:"校验位"},{default:U(()=>[z(B,{modelValue:V(t).parity,"onUpdate:modelValue":R[5]||(R[5]=re=>V(t).parity=re),style:{width:"60px"}},{default:U(()=>[z(Q,{label:"无",value:"none"}),z(Q,{label:"奇校验",value:"odd"}),z(Q,{label:"偶校验",value:"even"})]),_:1},8,["modelValue"])]),_:1}),z(q,{label:"流控制"},{default:U(()=>[z(B,{modelValue:V(t).flowControl,"onUpdate:modelValue":R[6]||(R[6]=re=>V(t).flowControl=re),style:{width:"60px"}},{default:U(()=>[z(Q,{label:"无",value:"none"}),z(Q,{label:"硬件流控",value:"hardware"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]))])])}}}),yn=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t},Mx=yn(Px,[["__scopeId","data-v-1bd72a3e"]]);var Cx=d7(),Ex=f7(),Qx=p7();const Rx={class:"serial-log"},zx={class:"controls"},Dx={class:"received-bytes"},Ix=rt({__name:"SerialLogTerm",setup(n){const e=vi.getInstance(),i=Er.getInstance().useConfig("display"),r=ao(),s=Me(i.value),o=Fo.getInstance();let a=[],l=new Uint8Array,u=null,c=0,h=null,d=null;const m=Me(0),v=()=>{h&&h.clear(),a=[],m.value=0},b=B=>{e.emit(Ut.SERIAL_SEND,new TextEncoder().encode(B))},k=B=>B?{background:"#1e1e1e",foreground:"#d4d4d4",selectionBackground:"#3a3a3a"}:{background:"#ffffff",foreground:"#000000",selectionBackground:"#d4d4d4"},_=()=>{h=new Cx.Terminal({cursorBlink:!0,convertEol:!0,fontFamily:"Consolas,Liberation Mono,Menlo,Courier,monospace",fontSize:14,theme:k(r.value),scrollback:1e4});const B=new Qx.SearchAddon;h.loadAddon(B),d=new Ex.FitAddon,h.loadAddon(d),h.onData(b);const N=document.getElementById("terminal");N&&(h.open(N),h.write(`
\x1B[36m   _____           _       _   _______          _ 
  / ____|         (_)     | | |__   __|        | |
 | (___   ___ _ __ _  __ _| |    | | ___   ___ | |
  \\___ \\ / _ \\ '__| |/ _\` | |    | |/ _ \\ / _ \\| |
  ____) |  __/ |  | | (_| | |    | | (_) | (_) | |
 |_____/ \\___|_|  |_|\\__,_|_|    |_|\\___/ \\___/|_|

\x1B[0m
\x1B[35m=== Serial Tool ===\x1B[0m
\x1B[32m版本: v2.1.0\x1B[0m
\x1B[0m
功能特点:
- 🔌 支持串口和WebUSB设备连接
- 📝 实时数据收发显示
- 🎨 支持文本和HEX格式数据发送
- 📜 支持自定义脚本编写和执行
- 🎯 快捷发送功能
- ⚙️ 可配置的显示选项
- 🌙 暗色主题支持

\x1B[33m开始使用:
1. 点击顶部的连接按钮选择串口设备
2. 配置串口参数（波特率等）
3. 开始接收/发送数据\x1B[0m

`)),setTimeout(()=>{d==null||d.fit()},120)},T=B=>{B in s.value&&(s.value[B]=!s.value[B])},$=B=>{if(l=new Uint8Array([...l,...B]),m.value+=B.length,s.value.timeOut==0){w();return}if(u&&clearTimeout(u),c==0)c=Date.now();else if(Date.now()-c>=s.value.timeOut){c=0,w();return}u=window.setTimeout(()=>{c=0,w()},s.value.timeOut)},w=()=>{const B=o.formatLogMessage(l,s.value);h&&(requestAnimationFrame(()=>{h&&(h.write(B),s.value.autoScroll&&h.scrollToBottom())}),a.push(B)),l=new Uint8Array};Ye(r,B=>{h&&(h.options.theme=k(B))});const R=()=>{setTimeout(()=>{d==null||d.fit()},120)},Q=B=>{if(h){let N=o.uint8ArrayToString(B);h.write(N)}};gn(()=>{_(),e.on(Ut.SERIAL_DATA,$),e.on(Ut.TERM_WRITE,Q),window.addEventListener("resize",R)}),er(()=>{e.off(Ut.SERIAL_DATA,$),e.off(Ut.TERM_WRITE,Q),window.removeEventListener("resize",R),u&&clearTimeout(u),h&&h.dispose()});const M=()=>{if(!h)return;const N=`serial-log-${new Date().toISOString().replace(/[:.]/g,"-")}.txt`,K=a.join(`
`),q=new Blob([K],{type:"text/plain;charset=utf-8"}),Z=URL.createObjectURL(q),re=document.createElement("a");re.href=Z,re.download=N,document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(Z)};return(B,N)=>{const K=Ee("el-button"),q=Ee("el-button-group"),Z=Ee("el-input-number"),re=Ee("el-tooltip");return me(),_e("div",Rx,[fe("div",zx,[z(q,{class:"me-2"},{default:U(()=>[z(K,{type:s.value.showTime?"primary":"default",size:"small",onClick:N[0]||(N[0]=P=>T("showTime"))},{default:U(()=>N[7]||(N[7]=[Ce(" 时间 ")])),_:1},8,["type"]),z(K,{type:s.value.showMs?"primary":"default",size:"small",onClick:N[1]||(N[1]=P=>T("showMs"))},{default:U(()=>N[8]||(N[8]=[Ce(" 毫秒 ")])),_:1},8,["type"]),z(K,{type:s.value.showHex?"primary":"default",size:"small",onClick:N[2]||(N[2]=P=>T("showHex"))},{default:U(()=>N[9]||(N[9]=[Ce(" HEX ")])),_:1},8,["type"]),z(K,{type:s.value.showText?"primary":"default",size:"small",onClick:N[3]||(N[3]=P=>T("showText"))},{default:U(()=>N[10]||(N[10]=[Ce(" TEXT ")])),_:1},8,["type"]),z(K,{type:s.value.showNewline?"primary":"default",size:"small",onClick:N[4]||(N[4]=P=>T("showNewline"))},{default:U(()=>N[11]||(N[11]=[Ce(" 换行 ")])),_:1},8,["type"])]),_:1}),z(q,{class:"me-2",style:{"white-space":"nowrap"}},{default:U(()=>[z(K,{type:s.value.autoScroll?"primary":"default",size:"small",onClick:N[5]||(N[5]=P=>T("autoScroll"))},{default:U(()=>N[12]||(N[12]=[Ce(" 自动滚动 ")])),_:1},8,["type"]),z(K,{type:"danger",size:"small",onClick:v},{default:U(()=>N[13]||(N[13]=[Ce(" 清空 ")])),_:1}),z(K,{type:"primary",size:"small",onClick:M},{default:U(()=>N[14]||(N[14]=[Ce(" 导出 ")])),_:1})]),_:1}),z(re,{class:"box-item",effect:"dark",content:"分包超时时间(ms)",placement:"bottom"},{default:U(()=>[z(Z,{modelValue:s.value.timeOut,"onUpdate:modelValue":N[6]||(N[6]=P=>s.value.timeOut=P),min:0,max:3e3,step:5,size:"small"},{prefix:U(()=>N[15]||(N[15]=[])),suffix:U(()=>N[16]||(N[16]=[fe("span",null,"ms",-1)])),_:1},8,["modelValue"])]),_:1}),fe("div",Dx,[fe("span",null,"接收: "+it(m.value)+" 字节",1)])]),N[17]||(N[17]=fe("div",{class:"terminal-container"},[fe("div",{id:"terminal"})],-1))])}}}),Nx=yn(Ix,[["__scopeId","data-v-4cf5fd89"]]),Lx={class:"serial-send"},Zx={class:"controls"},Bx={class:"me-2",style:{display:"inline-block"}},Vx={class:"send-content"},Xx=rt({__name:"SerialSend",setup(n){const e=vi.getInstance(),i=Er.getInstance().useConfig("send");let r=null;const s=Fo.getInstance(),o=()=>{try{let h=i.value.content;i.value.addCRLF&&(h+=i.value.addCRLFType);let d=s.stringToUint8Array(h,i.value.isHexSend);i.value.addChecksum&&(d=s.appendChecksum(d)),e.emit(Ut.SERIAL_SEND,d),h&&!i.value.history.includes(i.value.content)&&(i.value.history.unshift(i.value.content),i.value.history.length>i.value.historyMaxLength&&i.value.history.pop())}catch(h){return console.error("发送数据时出错:",h),Xt.error("发送数据时出错"+h),e.emit(Ut.SERIAL_ERROR,{message:h instanceof Error?h.message:"发送数据时出错"}),!1}return!0},a=()=>{i.value.autoSend?r=window.setInterval(()=>{o()||(r&&(clearInterval(r),r=null),i.value.autoSend=!1)},i.value.autoSendInterval):r&&(clearInterval(r),r=null)},l=h=>{i.value.autoSendInterval=h,i.value.autoSend&&r&&(clearInterval(r),r=window.setInterval(o,h))};let u=-1;const c=h=>{if(!h.metaKey&&!h.ctrlKey&&!h.shiftKey&&h.key==="Enter")return o(),u=-1,h.preventDefault(),!1;const d=h.target;if(h.key==="ArrowUp"||h.key==="ArrowDown"){const m=d.selectionStart,b=!i.value.content.slice(0,m).includes(`
`);if(u==-1&&!b)return}else u=-1;h.key==="ArrowUp"?(h.preventDefault(),u===-1&&i.value.content.trim()&&!i.value.history.includes(i.value.content)&&(i.value.history.unshift(i.value.content),i.value.history.length>i.value.historyMaxLength&&i.value.history.pop()),i.value.history.length>0&&(u=Math.min(u+1,i.value.history.length-1),i.value.content=i.value.history[u],d.selectionStart=d.selectionEnd=0)):h.key==="ArrowDown"&&(h.preventDefault(),u>-1&&(u--,i.value.content=u===-1?"":i.value.history[u],d.selectionStart=d.selectionEnd=0))};return(h,d)=>{const m=Ee("el-switch"),v=Ee("el-checkbox"),b=Ee("el-option"),k=Ee("el-select"),_=Ee("el-input-number"),T=Ee("el-button"),$=Ee("el-input");return me(),_e("div",Lx,[fe("div",Zx,[z(m,{modelValue:V(i).isHexSend,"onUpdate:modelValue":d[0]||(d[0]=w=>V(i).isHexSend=w),"active-text":"HEX","inactive-text":"TEXT",class:"me-2"},null,8,["modelValue"]),fe("div",Bx,[z(v,{modelValue:V(i).addCRLF,"onUpdate:modelValue":d[1]||(d[1]=w=>V(i).addCRLF=w),label:"",class:"",style:{"vertical-align":"middle"}},null,8,["modelValue"]),z(k,{modelValue:V(i).addCRLFType,"onUpdate:modelValue":d[2]||(d[2]=w=>V(i).addCRLFType=w),size:"small",style:{width:"80px"},onChange:d[3]||(d[3]=w=>V(i).addCRLF=!0)},{default:U(()=>[z(b,{value:`\r
`,label:"CRLF(\\r\\n)"}),z(b,{value:"\r",label:"CR(\\r)"}),z(b,{value:`
`,label:"LF(\\n)"}),z(b,{value:`

`,label:"LF2(\\n\\n)"})]),_:1},8,["modelValue"])]),z(v,{modelValue:V(i).addChecksum,"onUpdate:modelValue":d[4]||(d[4]=w=>V(i).addChecksum=w),label:"校验和",class:"me-2"},null,8,["modelValue"]),z(v,{modelValue:V(i).autoSend,"onUpdate:modelValue":d[5]||(d[5]=w=>V(i).autoSend=w),onChange:a,label:"自动发送",class:"me-2"},null,8,["modelValue"]),z(_,{modelValue:V(i).autoSendInterval,"onUpdate:modelValue":d[6]||(d[6]=w=>V(i).autoSendInterval=w),step:100,onChange:l,size:"small",class:"me-2",title:"自动发送时间间隔"},{suffix:U(()=>d[8]||(d[8]=[fe("span",null,"ms",-1)])),_:1},8,["modelValue"]),z(T,{type:"primary",onClick:o,class:"me-2"},{default:U(()=>d[9]||(d[9]=[Ce("发送")])),_:1})]),fe("div",Vx,[z($,{modelValue:V(i).content,"onUpdate:modelValue":d[7]||(d[7]=w=>V(i).content=w),type:"textarea",rows:5,placeholder:V(i).isHexSend?"请输入HEX格式数据，如：AA BB CC 11 22":"请输入要发送的文本",onKeydown:c},null,8,["modelValue","placeholder"])])])}}}),qx=yn(Xx,[["__scopeId","data-v-f49a4901"]]),Fx={class:"serial-log"},Hx=rt({__name:"SerialLog",setup(n){return(e,t)=>(me(),_e("div",Fx,[z(Nx,{class:"serial-term"}),z(qx,{class:"serial-send"})]))}}),jx=yn(Hx,[["__scopeId","data-v-9a1e85ef"]]);function mh(n){return Ey()?(Uu(n),!0):!1}function Or(n){return typeof n=="function"?n():V(n)}const Ux=typeof window<"u"&&typeof document<"u",Gx=n=>typeof n<"u",Wx=Object.prototype.toString,Yx=n=>Wx.call(n)==="[object Object]",Kx=()=>{};function Jx(n,e){function t(...i){return new Promise((r,s)=>{Promise.resolve(n(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(r).catch(s)})}return t}const r2=n=>n();function e8(n=r2){const e=Me(!0);function t(){e.value=!1}function i(){e.value=!0}const r=(...s)=>{e.value&&n(...s)};return{isActive:J6(e),pause:t,resume:i,eventFilter:r}}function Ag(n,e=!1,t="Timeout"){return new Promise((i,r)=>{setTimeout(e?()=>r(t):i,n)})}function t8(n,e,t={}){const{eventFilter:i=r2,...r}=t;return Ye(n,Jx(i,e),r)}function bo(n,e,t={}){const{eventFilter:i,...r}=t,{eventFilter:s,pause:o,resume:a,isActive:l}=e8(i);return{stop:t8(n,e,{...r,eventFilter:s}),pause:o,resume:a,isActive:l}}function n8(n,e={}){if(!fh(n))return Md(n);const t=Array.isArray(n.value)?Array.from({length:n.value.length}):{};for(const i in n.value)t[i]=K6(()=>({get(){return n.value[i]},set(r){var s;if((s=Or(e.replaceRef))!=null?s:!0)if(Array.isArray(n.value)){const a=[...n.value];a[i]=r,n.value=a}else{const a={...n.value,[i]:r};Object.setPrototypeOf(a,Object.getPrototypeOf(n.value)),n.value=a}else n.value[i]=r}}));return t}function Id(n,e=!1){function t(h,{flush:d="sync",deep:m=!1,timeout:v,throwOnTimeout:b}={}){let k=null;const T=[new Promise($=>{k=Ye(n,w=>{h(w)!==e&&(k==null||k(),$(w))},{flush:d,deep:m,immediate:!0})})];return v!=null&&T.push(Ag(v,b).then(()=>Or(n)).finally(()=>k==null?void 0:k())),Promise.race(T)}function i(h,d){if(!fh(h))return t(w=>w===h,d);const{flush:m="sync",deep:v=!1,timeout:b,throwOnTimeout:k}=d??{};let _=null;const $=[new Promise(w=>{_=Ye([n,h],([R,Q])=>{e!==(R===Q)&&(_==null||_(),w(R))},{flush:m,deep:v,immediate:!0})})];return b!=null&&$.push(Ag(b,k).then(()=>Or(n)).finally(()=>(_==null||_(),Or(n)))),Promise.race($)}function r(h){return t(d=>!!d,h)}function s(h){return i(null,h)}function o(h){return i(void 0,h)}function a(h){return t(Number.isNaN,h)}function l(h,d){return t(m=>{const v=Array.from(m);return v.includes(h)||v.includes(Or(h))},d)}function u(h){return c(1,h)}function c(h=1,d){let m=-1;return t(()=>(m+=1,m>=h),d)}return Array.isArray(Or(n))?{toMatch:t,toContains:l,changed:u,changedTimes:c,get not(){return Id(n,!e)}}:{toMatch:t,toBe:i,toBeTruthy:r,toBeNull:s,toBeNaN:a,toBeUndefined:o,changed:u,changedTimes:c,get not(){return Id(n,!e)}}}function Nd(n){return Id(n)}function i8(n){var e;const t=Or(n);return(e=t==null?void 0:t.$el)!=null?e:t}const s2=Ux?window:void 0;function o2(...n){let e,t,i,r;if(typeof n[0]=="string"||Array.isArray(n[0])?([t,i,r]=n,e=s2):[e,t,i,r]=n,!e)return Kx;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);const s=[],o=()=>{s.forEach(c=>c()),s.length=0},a=(c,h,d,m)=>(c.addEventListener(h,d,m),()=>c.removeEventListener(h,d,m)),l=Ye(()=>[i8(e),Or(r)],([c,h])=>{if(o(),!c)return;const d=Yx(h)?{...h}:h;s.push(...t.flatMap(m=>i.map(v=>a(c,m,v,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return mh(u),u}function r8(n){return typeof n=="function"?n:typeof n=="string"?e=>e.key===n:Array.isArray(n)?e=>n.includes(e.key):()=>!0}function Tg(...n){let e,t,i={};n.length===3?(e=n[0],t=n[1],i=n[2]):n.length===2?typeof n[1]=="object"?(e=!0,t=n[0],i=n[1]):(e=n[0],t=n[1]):(e=!0,t=n[0]);const{target:r=s2,eventName:s="keydown",passive:o=!1,dedupe:a=!1}=i,l=r8(e);return o2(r,s,c=>{c.repeat&&Or(a)||l(c)&&t(c)},o)}function s8(n){return JSON.parse(JSON.stringify(n))}function b0(n,e,t,i={}){var r,s,o;const{clone:a=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:h,shouldEmit:d}=i,m=El(),v=t||(m==null?void 0:m.emit)||((r=m==null?void 0:m.$emit)==null?void 0:r.bind(m))||((o=(s=m==null?void 0:m.proxy)==null?void 0:s.$emit)==null?void 0:o.bind(m==null?void 0:m.proxy));let b=u;e||(e="modelValue"),b=b||`update:${e.toString()}`;const k=$=>a?typeof a=="function"?a($):s8($):$,_=()=>Gx(n[e])?k(n[e]):h,T=$=>{d?d($)&&v(b,$):v(b,$)};if(l){const $=_(),w=Me($);let R=!1;return Ye(()=>n[e],Q=>{R||(R=!0,w.value=k(Q),vn(()=>R=!1))}),Ye(w,Q=>{!R&&(Q!==n[e]||c)&&T(Q)},{deep:c}),w}else return qe({get(){return _()},set($){T($)}})}var o8={value:()=>{}};function gh(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new Wu(t)}function Wu(n){this._=n}function a8(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}Wu.prototype=gh.prototype={constructor:Wu,on:function(n,e){var t=this._,i=a8(n+"",t),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(n=i[s]).type)&&(r=l8(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(n=i[s]).type)t[r]=Pg(t[r],n.name,e);else if(e==null)for(r in t)t[r]=Pg(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new Wu(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,s;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)}};function l8(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function Pg(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=o8,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}var Ld="http://www.w3.org/1999/xhtml";const Mg={svg:"http://www.w3.org/2000/svg",xhtml:Ld,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vh(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),Mg.hasOwnProperty(e)?{space:Mg[e],local:n}:n}function u8(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Ld&&e.documentElement.namespaceURI===Ld?e.createElement(n):e.createElementNS(t,n)}}function c8(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function a2(n){var e=vh(n);return(e.local?c8:u8)(e)}function h8(){}function Ap(n){return n==null?h8:function(){return this.querySelector(n)}}function d8(n){typeof n!="function"&&(n=Ap(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=n.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new oi(i,this._parents)}function f8(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function p8(){return[]}function l2(n){return n==null?p8:function(){return this.querySelectorAll(n)}}function m8(n){return function(){return f8(n.apply(this,arguments))}}function g8(n){typeof n=="function"?n=m8(n):n=l2(n);for(var e=this._groups,t=e.length,i=[],r=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(i.push(n.call(l,l.__data__,u,o)),r.push(l));return new oi(i,r)}function u2(n){return function(){return this.matches(n)}}function c2(n){return function(e){return e.matches(n)}}var v8=Array.prototype.find;function O8(n){return function(){return v8.call(this.children,n)}}function y8(){return this.firstElementChild}function b8(n){return this.select(n==null?y8:O8(typeof n=="function"?n:c2(n)))}var w8=Array.prototype.filter;function x8(){return Array.from(this.children)}function S8(n){return function(){return w8.call(this.children,n)}}function k8(n){return this.selectAll(n==null?x8:S8(typeof n=="function"?n:c2(n)))}function _8(n){typeof n!="function"&&(n=u2(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,u=0;u<o;++u)(l=s[u])&&n.call(l,l.__data__,u,s)&&a.push(l);return new oi(i,this._parents)}function h2(n){return new Array(n.length)}function $8(){return new oi(this._enter||this._groups.map(h2),this._parents)}function _c(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}_c.prototype={constructor:_c,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function A8(n){return function(){return n}}function T8(n,e,t,i,r,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],i[o]=a):t[o]=new _c(n,s[o]);for(;o<l;++o)(a=e[o])&&(r[o]=a)}function P8(n,e,t,i,r,s,o){var a,l,u=new Map,c=e.length,h=s.length,d=new Array(c),m;for(a=0;a<c;++a)(l=e[a])&&(d[a]=m=o.call(l,l.__data__,a,e)+"",u.has(m)?r[a]=l:u.set(m,l));for(a=0;a<h;++a)m=o.call(n,s[a],a,s)+"",(l=u.get(m))?(i[a]=l,l.__data__=s[a],u.delete(m)):t[a]=new _c(n,s[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(d[a])===l&&(r[a]=l)}function M8(n){return n.__data__}function C8(n,e){if(!arguments.length)return Array.from(this,M8);var t=e?P8:T8,i=this._parents,r=this._groups;typeof n!="function"&&(n=A8(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=i[u],h=r[u],d=h.length,m=E8(n.call(c,c&&c.__data__,u,i)),v=m.length,b=a[u]=new Array(v),k=o[u]=new Array(v),_=l[u]=new Array(d);t(c,h,b,k,_,m,e);for(var T=0,$=0,w,R;T<v;++T)if(w=b[T]){for(T>=$&&($=T+1);!(R=k[$])&&++$<v;);w._next=R||null}}return o=new oi(o,i),o._enter=a,o._exit=l,o}function E8(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Q8(){return new oi(this._exit||this._groups.map(h2),this._parents)}function R8(n,e,t){var i=this.enter(),r=this,s=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(r=e(r),r&&(r=r.selection())),t==null?s.remove():t(s),i&&r?i.merge(r).order():r}function z8(n){for(var e=n.selection?n.selection():n,t=this._groups,i=e._groups,r=t.length,s=i.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var u=t[l],c=i[l],h=u.length,d=a[l]=new Array(h),m,v=0;v<h;++v)(m=u[v]||c[v])&&(d[v]=m);for(;l<r;++l)a[l]=t[l];return new oi(a,this._parents)}function D8(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var i=n[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function I8(n){n||(n=N8);function e(h,d){return h&&d?n(h.__data__,d.__data__):!h-!d}for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s){for(var o=t[s],a=o.length,l=r[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new oi(r,this._parents).order()}function N8(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function L8(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function Z8(){return Array.from(this)}function B8(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function V8(){let n=0;for(const e of this)++n;return n}function X8(){return!this.node()}function q8(n){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var r=e[t],s=0,o=r.length,a;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this}function F8(n){return function(){this.removeAttribute(n)}}function H8(n){return function(){this.removeAttributeNS(n.space,n.local)}}function j8(n,e){return function(){this.setAttribute(n,e)}}function U8(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function G8(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function W8(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function Y8(n,e){var t=vh(n);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((e==null?t.local?H8:F8:typeof e=="function"?t.local?W8:G8:t.local?U8:j8)(t,e))}function d2(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function K8(n){return function(){this.style.removeProperty(n)}}function J8(n,e,t){return function(){this.style.setProperty(n,e,t)}}function eS(n,e,t){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,t)}}function tS(n,e,t){return arguments.length>1?this.each((e==null?K8:typeof e=="function"?eS:J8)(n,e,t??"")):Ho(this.node(),n)}function Ho(n,e){return n.style.getPropertyValue(e)||d2(n).getComputedStyle(n,null).getPropertyValue(e)}function nS(n){return function(){delete this[n]}}function iS(n,e){return function(){this[n]=e}}function rS(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function sS(n,e){return arguments.length>1?this.each((e==null?nS:typeof e=="function"?rS:iS)(n,e)):this.node()[n]}function f2(n){return n.trim().split(/^|\s+/)}function Tp(n){return n.classList||new p2(n)}function p2(n){this._node=n,this._names=f2(n.getAttribute("class")||"")}p2.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function m2(n,e){for(var t=Tp(n),i=-1,r=e.length;++i<r;)t.add(e[i])}function g2(n,e){for(var t=Tp(n),i=-1,r=e.length;++i<r;)t.remove(e[i])}function oS(n){return function(){m2(this,n)}}function aS(n){return function(){g2(this,n)}}function lS(n,e){return function(){(e.apply(this,arguments)?m2:g2)(this,n)}}function uS(n,e){var t=f2(n+"");if(arguments.length<2){for(var i=Tp(this.node()),r=-1,s=t.length;++r<s;)if(!i.contains(t[r]))return!1;return!0}return this.each((typeof e=="function"?lS:e?oS:aS)(t,e))}function cS(){this.textContent=""}function hS(n){return function(){this.textContent=n}}function dS(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function fS(n){return arguments.length?this.each(n==null?cS:(typeof n=="function"?dS:hS)(n)):this.node().textContent}function pS(){this.innerHTML=""}function mS(n){return function(){this.innerHTML=n}}function gS(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function vS(n){return arguments.length?this.each(n==null?pS:(typeof n=="function"?gS:mS)(n)):this.node().innerHTML}function OS(){this.nextSibling&&this.parentNode.appendChild(this)}function yS(){return this.each(OS)}function bS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wS(){return this.each(bS)}function xS(n){var e=typeof n=="function"?n:a2(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function SS(){return null}function kS(n,e){var t=typeof n=="function"?n:a2(n),i=e==null?SS:typeof e=="function"?e:Ap(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}function _S(){var n=this.parentNode;n&&n.removeChild(this)}function $S(){return this.each(_S)}function AS(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function TS(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function PS(n){return this.select(n?TS:AS)}function MS(n){return arguments.length?this.property("__data__",n):this.node().__data__}function CS(n){return function(e){n.call(this,e,this.__data__)}}function ES(n){return n.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}function QS(n){return function(){var e=this.__on;if(e){for(var t=0,i=-1,r=e.length,s;t<r;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function RS(n,e,t){return function(){var i=this.__on,r,s=CS(e);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=t),r.value=e;return}}this.addEventListener(n.type,s,t),r={type:n.type,name:n.name,value:e,listener:s,options:t},i?i.push(r):this.__on=[r]}}function zS(n,e,t){var i=ES(n+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(r=0,c=a[l];r<s;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?RS:QS,r=0;r<s;++r)this.each(a(i[r],e,t));return this}function v2(n,e,t){var i=d2(n),r=i.CustomEvent;typeof r=="function"?r=new r(e,t):(r=i.document.createEvent("Event"),t?(r.initEvent(e,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(e,!1,!1)),n.dispatchEvent(r)}function DS(n,e){return function(){return v2(this,n,e)}}function IS(n,e){return function(){return v2(this,n,e.apply(this,arguments))}}function NS(n,e){return this.each((typeof e=="function"?IS:DS)(n,e))}function*LS(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var O2=[null];function oi(n,e){this._groups=n,this._parents=e}function Ql(){return new oi([[document.documentElement]],O2)}function ZS(){return this}oi.prototype=Ql.prototype={constructor:oi,select:d8,selectAll:g8,selectChild:b8,selectChildren:k8,filter:_8,data:C8,enter:$8,exit:Q8,join:R8,merge:z8,selection:ZS,order:D8,sort:I8,call:L8,nodes:Z8,node:B8,size:V8,empty:X8,each:q8,attr:Y8,style:tS,property:sS,classed:uS,text:fS,html:vS,raise:yS,lower:wS,append:xS,insert:kS,remove:$S,clone:PS,datum:MS,on:zS,dispatch:NS,[Symbol.iterator]:LS};function _i(n){return typeof n=="string"?new oi([[document.querySelector(n)]],[document.documentElement]):new oi([[n]],O2)}function BS(n){let e;for(;e=n.sourceEvent;)n=e;return n}function Bi(n,e){if(n=BS(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[n.clientX-r.left-e.clientLeft,n.clientY-r.top-e.clientTop]}}return[n.pageX,n.pageY]}const VS={passive:!1},ol={capture:!0,passive:!1};function w0(n){n.stopImmediatePropagation()}function Eo(n){n.preventDefault(),n.stopImmediatePropagation()}function y2(n){var e=n.document.documentElement,t=_i(n).on("dragstart.drag",Eo,ol);"onselectstart"in e?t.on("selectstart.drag",Eo,ol):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function b2(n,e){var t=n.document.documentElement,i=_i(n).on("dragstart.drag",null);e&&(i.on("click.drag",Eo,ol),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in t?i.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const iu=n=>()=>n;function Zd(n,{sourceEvent:e,subject:t,target:i,identifier:r,active:s,x:o,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Zd.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function XS(n){return!n.ctrlKey&&!n.button}function qS(){return this.parentNode}function FS(n,e){return e??{x:n.x,y:n.y}}function HS(){return navigator.maxTouchPoints||"ontouchstart"in this}function jS(){var n=XS,e=qS,t=FS,i=HS,r={},s=gh("start","drag","end"),o=0,a,l,u,c,h=0;function d(w){w.on("mousedown.drag",m).filter(i).on("touchstart.drag",k).on("touchmove.drag",_,VS).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(w,R){if(!(c||!n.call(this,w,R))){var Q=$(this,e.call(this,w,R),w,R,"mouse");Q&&(_i(w.view).on("mousemove.drag",v,ol).on("mouseup.drag",b,ol),y2(w.view),w0(w),u=!1,a=w.clientX,l=w.clientY,Q("start",w))}}function v(w){if(Eo(w),!u){var R=w.clientX-a,Q=w.clientY-l;u=R*R+Q*Q>h}r.mouse("drag",w)}function b(w){_i(w.view).on("mousemove.drag mouseup.drag",null),b2(w.view,u),Eo(w),r.mouse("end",w)}function k(w,R){if(n.call(this,w,R)){var Q=w.changedTouches,M=e.call(this,w,R),B=Q.length,N,K;for(N=0;N<B;++N)(K=$(this,M,w,R,Q[N].identifier,Q[N]))&&(w0(w),K("start",w,Q[N]))}}function _(w){var R=w.changedTouches,Q=R.length,M,B;for(M=0;M<Q;++M)(B=r[R[M].identifier])&&(Eo(w),B("drag",w,R[M]))}function T(w){var R=w.changedTouches,Q=R.length,M,B;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),M=0;M<Q;++M)(B=r[R[M].identifier])&&(w0(w),B("end",w,R[M]))}function $(w,R,Q,M,B,N){var K=s.copy(),q=Bi(N||Q,R),Z,re,P;if((P=t.call(w,new Zd("beforestart",{sourceEvent:Q,target:d,identifier:B,active:o,x:q[0],y:q[1],dx:0,dy:0,dispatch:K}),M))!=null)return Z=P.x-q[0]||0,re=P.y-q[1]||0,function j(L,H,ee){var ce=q,te;switch(L){case"start":r[B]=j,te=o++;break;case"end":delete r[B],--o;case"drag":q=Bi(ee||H,R),te=o;break}K.call(L,w,new Zd(L,{sourceEvent:H,subject:P,target:d,identifier:B,active:te,x:q[0]+Z,y:q[1]+re,dx:q[0]-ce[0],dy:q[1]-ce[1],dispatch:K}),M)}}return d.filter=function(w){return arguments.length?(n=typeof w=="function"?w:iu(!!w),d):n},d.container=function(w){return arguments.length?(e=typeof w=="function"?w:iu(w),d):e},d.subject=function(w){return arguments.length?(t=typeof w=="function"?w:iu(w),d):t},d.touchable=function(w){return arguments.length?(i=typeof w=="function"?w:iu(!!w),d):i},d.on=function(){var w=s.on.apply(s,arguments);return w===s?d:w},d.clickDistance=function(w){return arguments.length?(h=(w=+w)*w,d):Math.sqrt(h)},d}function Pp(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function w2(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function Rl(){}var al=.7,$c=1/al,Qo="\\s*([+-]?\\d+)\\s*",ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",US=/^#([0-9a-f]{3,8})$/,GS=new RegExp(`^rgb\\(${Qo},${Qo},${Qo}\\)$`),WS=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),YS=new RegExp(`^rgba\\(${Qo},${Qo},${Qo},${ll}\\)$`),KS=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${ll}\\)$`),JS=new RegExp(`^hsl\\(${ll},${Yi},${Yi}\\)$`),e9=new RegExp(`^hsla\\(${ll},${Yi},${Yi},${ll}\\)$`),Cg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pp(Rl,ul,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Eg,formatHex:Eg,formatHex8:t9,formatHsl:n9,formatRgb:Qg,toString:Qg});function Eg(){return this.rgb().formatHex()}function t9(){return this.rgb().formatHex8()}function n9(){return x2(this).formatHsl()}function Qg(){return this.rgb().formatRgb()}function ul(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=US.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?Rg(e):t===3?new qn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?ru(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?ru(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=GS.exec(n))?new qn(e[1],e[2],e[3],1):(e=WS.exec(n))?new qn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=YS.exec(n))?ru(e[1],e[2],e[3],e[4]):(e=KS.exec(n))?ru(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=JS.exec(n))?Ig(e[1],e[2]/100,e[3]/100,1):(e=e9.exec(n))?Ig(e[1],e[2]/100,e[3]/100,e[4]):Cg.hasOwnProperty(n)?Rg(Cg[n]):n==="transparent"?new qn(NaN,NaN,NaN,0):null}function Rg(n){return new qn(n>>16&255,n>>8&255,n&255,1)}function ru(n,e,t,i){return i<=0&&(n=e=t=NaN),new qn(n,e,t,i)}function i9(n){return n instanceof Rl||(n=ul(n)),n?(n=n.rgb(),new qn(n.r,n.g,n.b,n.opacity)):new qn}function Bd(n,e,t,i){return arguments.length===1?i9(n):new qn(n,e,t,i??1)}function qn(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}Pp(qn,Bd,w2(Rl,{brighter(n){return n=n==null?$c:Math.pow($c,n),new qn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?al:Math.pow(al,n),new qn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new qn(js(this.r),js(this.g),js(this.b),Ac(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zg,formatHex:zg,formatHex8:r9,formatRgb:Dg,toString:Dg}));function zg(){return`#${Vs(this.r)}${Vs(this.g)}${Vs(this.b)}`}function r9(){return`#${Vs(this.r)}${Vs(this.g)}${Vs(this.b)}${Vs((isNaN(this.opacity)?1:this.opacity)*255)}`}function Dg(){const n=Ac(this.opacity);return`${n===1?"rgb(":"rgba("}${js(this.r)}, ${js(this.g)}, ${js(this.b)}${n===1?")":`, ${n})`}`}function Ac(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function js(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Vs(n){return n=js(n),(n<16?"0":"")+n.toString(16)}function Ig(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new $i(n,e,t,i)}function x2(n){if(n instanceof $i)return new $i(n.h,n.s,n.l,n.opacity);if(n instanceof Rl||(n=ul(n)),!n)return new $i;if(n instanceof $i)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=NaN,a=s-r,l=(s+r)/2;return a?(e===s?o=(t-i)/a+(t<i)*6:t===s?o=(i-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new $i(o,a,l,n.opacity)}function s9(n,e,t,i){return arguments.length===1?x2(n):new $i(n,e,t,i??1)}function $i(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}Pp($i,s9,w2(Rl,{brighter(n){return n=n==null?$c:Math.pow($c,n),new $i(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?al:Math.pow(al,n),new $i(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new qn(x0(n>=240?n-240:n+120,r,i),x0(n,r,i),x0(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new $i(Ng(this.h),su(this.s),su(this.l),Ac(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Ac(this.opacity);return`${n===1?"hsl(":"hsla("}${Ng(this.h)}, ${su(this.s)*100}%, ${su(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Ng(n){return n=(n||0)%360,n<0?n+360:n}function su(n){return Math.max(0,Math.min(1,n||0))}function x0(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const S2=n=>()=>n;function o9(n,e){return function(t){return n+t*e}}function a9(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function l9(n){return(n=+n)==1?k2:function(e,t){return t-e?a9(e,t,n):S2(isNaN(e)?t:e)}}function k2(n,e){var t=e-n;return t?o9(n,t):S2(isNaN(n)?e:n)}const Lg=function n(e){var t=l9(e);function i(r,s){var o=t((r=Bd(r)).r,(s=Bd(s)).r),a=t(r.g,s.g),l=t(r.b,s.b),u=k2(r.opacity,s.opacity);return function(c){return r.r=o(c),r.g=a(c),r.b=l(c),r.opacity=u(c),r+""}}return i.gamma=n,i}(1);function es(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var Vd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S0=new RegExp(Vd.source,"g");function u9(n){return function(){return n}}function c9(n){return function(e){return n(e)+""}}function h9(n,e){var t=Vd.lastIndex=S0.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(i=Vd.exec(n))&&(r=S0.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:es(i,r)})),t=S0.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?c9(l[0].x):u9(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)a[(h=l[c]).i]=h.x(u);return a.join("")})}var Zg=180/Math.PI,Xd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _2(n,e,t,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*i)&&(t-=n*l,i-=e*l),(a=Math.sqrt(t*t+i*i))&&(t/=a,i/=a,l/=a),n*i<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,n)*Zg,skewX:Math.atan(l)*Zg,scaleX:o,scaleY:a}}var ou;function d9(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Xd:_2(e.a,e.b,e.c,e.d,e.e,e.f)}function f9(n){return n==null||(ou||(ou=document.createElementNS("http://www.w3.org/2000/svg","g")),ou.setAttribute("transform",n),!(n=ou.transform.baseVal.consolidate()))?Xd:(n=n.matrix,_2(n.a,n.b,n.c,n.d,n.e,n.f))}function $2(n,e,t,i){function r(u){return u.length?u.pop()+" ":""}function s(u,c,h,d,m,v){if(u!==h||c!==d){var b=m.push("translate(",null,e,null,t);v.push({i:b-4,x:es(u,h)},{i:b-2,x:es(c,d)})}else(h||d)&&m.push("translate("+h+e+d+t)}function o(u,c,h,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:h.push(r(h)+"rotate(",null,i)-2,x:es(u,c)})):c&&h.push(r(h)+"rotate("+c+i)}function a(u,c,h,d){u!==c?d.push({i:h.push(r(h)+"skewX(",null,i)-2,x:es(u,c)}):c&&h.push(r(h)+"skewX("+c+i)}function l(u,c,h,d,m,v){if(u!==h||c!==d){var b=m.push(r(m)+"scale(",null,",",null,")");v.push({i:b-4,x:es(u,h)},{i:b-2,x:es(c,d)})}else(h!==1||d!==1)&&m.push(r(m)+"scale("+h+","+d+")")}return function(u,c){var h=[],d=[];return u=n(u),c=n(c),s(u.translateX,u.translateY,c.translateX,c.translateY,h,d),o(u.rotate,c.rotate,h,d),a(u.skewX,c.skewX,h,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,d),u=c=null,function(m){for(var v=-1,b=d.length,k;++v<b;)h[(k=d[v]).i]=k.x(m);return h.join("")}}}var p9=$2(d9,"px, ","px)","deg)"),m9=$2(f9,", ",")",")"),g9=1e-12;function Bg(n){return((n=Math.exp(n))+1/n)/2}function v9(n){return((n=Math.exp(n))-1/n)/2}function O9(n){return((n=Math.exp(2*n))-1)/(n+1)}const y9=function n(e,t,i){function r(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],h=o[1],d=o[2],m=c-a,v=h-l,b=m*m+v*v,k,_;if(b<g9)_=Math.log(d/u)/e,k=function(M){return[a+M*m,l+M*v,u*Math.exp(e*M*_)]};else{var T=Math.sqrt(b),$=(d*d-u*u+i*b)/(2*u*t*T),w=(d*d-u*u-i*b)/(2*d*t*T),R=Math.log(Math.sqrt($*$+1)-$),Q=Math.log(Math.sqrt(w*w+1)-w);_=(Q-R)/e,k=function(M){var B=M*_,N=Bg(R),K=u/(t*T)*(N*O9(e*B+R)-v9(R));return[a+K*m,l+K*v,u*N/Bg(e*B+R)]}}return k.duration=_*1e3*e/Math.SQRT2,k}return r.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return n(o,a,l)},r}(Math.SQRT2,2,4);var jo=0,Ea=0,Oa=0,A2=1e3,Tc,Qa,Pc=0,eo=0,Oh=0,cl=typeof performance=="object"&&performance.now?performance:Date,T2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Mp(){return eo||(T2(b9),eo=cl.now()+Oh)}function b9(){eo=0}function Mc(){this._call=this._time=this._next=null}Mc.prototype=P2.prototype={constructor:Mc,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?Mp():+t)+(e==null?0:+e),!this._next&&Qa!==this&&(Qa?Qa._next=this:Tc=this,Qa=this),this._call=n,this._time=t,qd()},stop:function(){this._call&&(this._call=null,this._time=1/0,qd())}};function P2(n,e,t){var i=new Mc;return i.restart(n,e,t),i}function w9(){Mp(),++jo;for(var n=Tc,e;n;)(e=eo-n._time)>=0&&n._call.call(void 0,e),n=n._next;--jo}function Vg(){eo=(Pc=cl.now())+Oh,jo=Ea=0;try{w9()}finally{jo=0,S9(),eo=0}}function x9(){var n=cl.now(),e=n-Pc;e>A2&&(Oh-=e,Pc=n)}function S9(){for(var n,e=Tc,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Tc=t);Qa=n,qd(i)}function qd(n){if(!jo){Ea&&(Ea=clearTimeout(Ea));var e=n-eo;e>24?(n<1/0&&(Ea=setTimeout(Vg,n-cl.now()-Oh)),Oa&&(Oa=clearInterval(Oa))):(Oa||(Pc=cl.now(),Oa=setInterval(x9,A2)),jo=1,T2(Vg))}}function Xg(n,e,t){var i=new Mc;return e=e==null?0:+e,i.restart(r=>{i.stop(),n(r+e)},e,t),i}var k9=gh("start","end","cancel","interrupt"),_9=[],M2=0,qg=1,Fd=2,Yu=3,Fg=4,Hd=5,Ku=6;function yh(n,e,t,i,r,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;$9(n,t,{name:e,index:i,group:r,on:k9,tween:_9,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:M2})}function Cp(n,e){var t=Qi(n,e);if(t.state>M2)throw new Error("too late; already scheduled");return t}function nr(n,e){var t=Qi(n,e);if(t.state>Yu)throw new Error("too late; already running");return t}function Qi(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function $9(n,e,t){var i=n.__transition,r;i[e]=t,t.timer=P2(s,0,t.time);function s(u){t.state=qg,t.timer.restart(o,t.delay,t.time),t.delay<=u&&o(u-t.delay)}function o(u){var c,h,d,m;if(t.state!==qg)return l();for(c in i)if(m=i[c],m.name===t.name){if(m.state===Yu)return Xg(o);m.state===Fg?(m.state=Ku,m.timer.stop(),m.on.call("interrupt",n,n.__data__,m.index,m.group),delete i[c]):+c<e&&(m.state=Ku,m.timer.stop(),m.on.call("cancel",n,n.__data__,m.index,m.group),delete i[c])}if(Xg(function(){t.state===Yu&&(t.state=Fg,t.timer.restart(a,t.delay,t.time),a(u))}),t.state=Fd,t.on.call("start",n,n.__data__,t.index,t.group),t.state===Fd){for(t.state=Yu,r=new Array(d=t.tween.length),c=0,h=-1;c<d;++c)(m=t.tween[c].value.call(n,n.__data__,t.index,t.group))&&(r[++h]=m);r.length=h+1}}function a(u){for(var c=u<t.duration?t.ease.call(null,u/t.duration):(t.timer.restart(l),t.state=Hd,1),h=-1,d=r.length;++h<d;)r[h].call(n,c);t.state===Hd&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){t.state=Ku,t.timer.stop(),delete i[e];for(var u in i)return;delete n.__transition}}function Ju(n,e){var t=n.__transition,i,r,s=!0,o;if(t){e=e==null?null:e+"";for(o in t){if((i=t[o]).name!==e){s=!1;continue}r=i.state>Fd&&i.state<Hd,i.state=Ku,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete t[o]}s&&delete n.__transition}}function A9(n){return this.each(function(){Ju(this,n)})}function T9(n,e){var t,i;return function(){var r=nr(this,n),s=r.tween;if(s!==t){i=t=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function P9(n,e,t){var i,r;if(typeof t!="function")throw new Error;return function(){var s=nr(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:t},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=a;break}l===u&&r.push(a)}s.tween=r}}function M9(n,e){var t=this._id;if(n+="",arguments.length<2){for(var i=Qi(this.node(),t).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((e==null?T9:P9)(t,n,e))}function Ep(n,e,t){var i=n._id;return n.each(function(){var r=nr(this,i);(r.value||(r.value={}))[e]=t.apply(this,arguments)}),function(r){return Qi(r,i).value[e]}}function C2(n,e){var t;return(typeof e=="number"?es:e instanceof ul?Lg:(t=ul(e))?(e=t,Lg):h9)(n,e)}function C9(n){return function(){this.removeAttribute(n)}}function E9(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Q9(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=e(i=o,t)}}function R9(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=e(i=o,t)}}function z9(n,e,t){var i,r,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttribute(n):(o=this.getAttribute(n),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function D9(n,e,t){var i,r,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function I9(n,e){var t=vh(n),i=t==="transform"?m9:C2;return this.attrTween(n,typeof e=="function"?(t.local?D9:z9)(t,i,Ep(this,"attr."+n,e)):e==null?(t.local?E9:C9)(t):(t.local?R9:Q9)(t,i,e))}function N9(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function L9(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function Z9(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&L9(n,s)),t}return r._value=e,r}function B9(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&N9(n,s)),t}return r._value=e,r}function V9(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var i=vh(n);return this.tween(t,(i.local?Z9:B9)(i,e))}function X9(n,e){return function(){Cp(this,n).delay=+e.apply(this,arguments)}}function q9(n,e){return e=+e,function(){Cp(this,n).delay=e}}function F9(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?X9:q9)(e,n)):Qi(this.node(),e).delay}function H9(n,e){return function(){nr(this,n).duration=+e.apply(this,arguments)}}function j9(n,e){return e=+e,function(){nr(this,n).duration=e}}function U9(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?H9:j9)(e,n)):Qi(this.node(),e).duration}function G9(n,e){if(typeof e!="function")throw new Error;return function(){nr(this,n).ease=e}}function W9(n){var e=this._id;return arguments.length?this.each(G9(e,n)):Qi(this.node(),e).ease}function Y9(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;nr(this,n).ease=t}}function K9(n){if(typeof n!="function")throw new Error;return this.each(Y9(this._id,n))}function J9(n){typeof n!="function"&&(n=u2(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,u=0;u<o;++u)(l=s[u])&&n.call(l,l.__data__,u,s)&&a.push(l);return new Qr(i,this._parents,this._name,this._id)}function ek(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,i=e.length,r=t.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var l=e[a],u=t[a],c=l.length,h=o[a]=new Array(c),d,m=0;m<c;++m)(d=l[m]||u[m])&&(h[m]=d);for(;a<i;++a)o[a]=e[a];return new Qr(o,this._parents,this._name,this._id)}function tk(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function nk(n,e,t){var i,r,s=tk(e)?Cp:nr;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(e,t),o.on=r}}function ik(n,e){var t=this._id;return arguments.length<2?Qi(this.node(),t).on.on(n):this.each(nk(t,n,e))}function rk(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function sk(){return this.on("end.remove",rk(this._id))}function ok(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Ap(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],l=a.length,u=s[o]=new Array(l),c,h,d=0;d<l;++d)(c=a[d])&&(h=n.call(c,c.__data__,d,a))&&("__data__"in c&&(h.__data__=c.__data__),u[d]=h,yh(u[d],e,t,d,u,Qi(c,t)));return new Qr(s,this._parents,e,t)}function ak(n){var e=this._name,t=this._id;typeof n!="function"&&(n=l2(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l=i[a],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var d=n.call(c,c.__data__,h,l),m,v=Qi(c,t),b=0,k=d.length;b<k;++b)(m=d[b])&&yh(m,e,t,b,d,v);s.push(d),o.push(c)}return new Qr(s,o,e,t)}var lk=Ql.prototype.constructor;function uk(){return new lk(this._groups,this._parents)}function ck(n,e){var t,i,r;return function(){var s=Ho(this,n),o=(this.style.removeProperty(n),Ho(this,n));return s===o?null:s===t&&o===i?r:r=e(t=s,i=o)}}function E2(n){return function(){this.style.removeProperty(n)}}function hk(n,e,t){var i,r=t+"",s;return function(){var o=Ho(this,n);return o===r?null:o===i?s:s=e(i=o,t)}}function dk(n,e,t){var i,r,s;return function(){var o=Ho(this,n),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),Ho(this,n))),o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a))}}function fk(n,e){var t,i,r,s="style."+e,o="end."+s,a;return function(){var l=nr(this,n),u=l.on,c=l.value[s]==null?a||(a=E2(e)):void 0;(u!==t||r!==c)&&(i=(t=u).copy()).on(o,r=c),l.on=i}}function pk(n,e,t){var i=(n+="")=="transform"?p9:C2;return e==null?this.styleTween(n,ck(n,i)).on("end.style."+n,E2(n)):typeof e=="function"?this.styleTween(n,dk(n,i,Ep(this,"style."+n,e))).each(fk(this._id,n)):this.styleTween(n,hk(n,i,e),t).on("end.style."+n,null)}function mk(n,e,t){return function(i){this.style.setProperty(n,e.call(this,i),t)}}function gk(n,e,t){var i,r;function s(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&mk(n,o,t)),i}return s._value=e,s}function vk(n,e,t){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,gk(n,e,t??""))}function Ok(n){return function(){this.textContent=n}}function yk(n){return function(){var e=n(this);this.textContent=e??""}}function bk(n){return this.tween("text",typeof n=="function"?yk(Ep(this,"text",n)):Ok(n==null?"":n+""))}function wk(n){return function(e){this.textContent=n.call(this,e)}}function xk(n){var e,t;function i(){var r=n.apply(this,arguments);return r!==t&&(e=(t=r)&&wk(r)),e}return i._value=n,i}function Sk(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,xk(n))}function kk(){for(var n=this._name,e=this._id,t=Q2(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=Qi(l,e);yh(l,n,t,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Qr(i,this._parents,n,t)}function _k(){var n,e,t=this,i=t._id,r=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--r===0&&s()}};t.each(function(){var u=nr(this,i),c=u.on;c!==n&&(e=(n=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),r===0&&s()})}var $k=0;function Qr(n,e,t,i){this._groups=n,this._parents=e,this._name=t,this._id=i}function Q2(){return++$k}var dr=Ql.prototype;Qr.prototype={constructor:Qr,select:ok,selectAll:ak,selectChild:dr.selectChild,selectChildren:dr.selectChildren,filter:J9,merge:ek,selection:uk,transition:kk,call:dr.call,nodes:dr.nodes,node:dr.node,size:dr.size,empty:dr.empty,each:dr.each,on:ik,attr:I9,attrTween:V9,style:pk,styleTween:vk,text:bk,textTween:Sk,remove:sk,tween:M9,delay:F9,duration:U9,ease:W9,easeVarying:K9,end:_k,[Symbol.iterator]:dr[Symbol.iterator]};function Ak(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Tk={time:null,delay:0,duration:250,ease:Ak};function Pk(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function Mk(n){var e,t;n instanceof Qr?(e=n._id,n=n._name):(e=Q2(),(t=Tk).time=Mp(),n=n==null?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&yh(l,n,e,u,o,t||Pk(l,e));return new Qr(i,this._parents,n,e)}Ql.prototype.interrupt=A9;Ql.prototype.transition=Mk;const au=n=>()=>n;function Ck(n,{sourceEvent:e,target:t,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function wr(n,e,t){this.k=n,this.x=e,this.y=t}wr.prototype={constructor:wr,scale:function(n){return n===1?this:new wr(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new wr(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Uo=new wr(1,0,0);wr.prototype;function k0(n){n.stopImmediatePropagation()}function ya(n){n.preventDefault(),n.stopImmediatePropagation()}function Ek(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Qk(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Hg(){return this.__zoom||Uo}function Rk(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function zk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dk(n,e,t){var i=n.invertX(e[0][0])-t[0][0],r=n.invertX(e[1][0])-t[1][0],s=n.invertY(e[0][1])-t[0][1],o=n.invertY(e[1][1])-t[1][1];return n.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Ik(){var n=Ek,e=Qk,t=Dk,i=Rk,r=zk,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=y9,u=gh("start","zoom","end"),c,h,d,m=500,v=150,b=0,k=10;function _(P){P.property("__zoom",Hg).on("wheel.zoom",B,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",K).filter(r).on("touchstart.zoom",q).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",re).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(P,j,L,H){var ee=P.selection?P.selection():P;ee.property("__zoom",Hg),P!==ee?R(P,j,L,H):ee.interrupt().each(function(){Q(this,arguments).event(H).start().zoom(null,typeof j=="function"?j.apply(this,arguments):j).end()})},_.scaleBy=function(P,j,L,H){_.scaleTo(P,function(){var ee=this.__zoom.k,ce=typeof j=="function"?j.apply(this,arguments):j;return ee*ce},L,H)},_.scaleTo=function(P,j,L,H){_.transform(P,function(){var ee=e.apply(this,arguments),ce=this.__zoom,te=L==null?w(ee):typeof L=="function"?L.apply(this,arguments):L,he=ce.invert(te),W=typeof j=="function"?j.apply(this,arguments):j;return t($(T(ce,W),te,he),ee,o)},L,H)},_.translateBy=function(P,j,L,H){_.transform(P,function(){return t(this.__zoom.translate(typeof j=="function"?j.apply(this,arguments):j,typeof L=="function"?L.apply(this,arguments):L),e.apply(this,arguments),o)},null,H)},_.translateTo=function(P,j,L,H,ee){_.transform(P,function(){var ce=e.apply(this,arguments),te=this.__zoom,he=H==null?w(ce):typeof H=="function"?H.apply(this,arguments):H;return t(Uo.translate(he[0],he[1]).scale(te.k).translate(typeof j=="function"?-j.apply(this,arguments):-j,typeof L=="function"?-L.apply(this,arguments):-L),ce,o)},H,ee)};function T(P,j){return j=Math.max(s[0],Math.min(s[1],j)),j===P.k?P:new wr(j,P.x,P.y)}function $(P,j,L){var H=j[0]-L[0]*P.k,ee=j[1]-L[1]*P.k;return H===P.x&&ee===P.y?P:new wr(P.k,H,ee)}function w(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function R(P,j,L,H){P.on("start.zoom",function(){Q(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){Q(this,arguments).event(H).end()}).tween("zoom",function(){var ee=this,ce=arguments,te=Q(ee,ce).event(H),he=e.apply(ee,ce),W=L==null?w(he):typeof L=="function"?L.apply(ee,ce):L,ae=Math.max(he[1][0]-he[0][0],he[1][1]-he[0][1]),Oe=ee.__zoom,we=typeof j=="function"?j.apply(ee,ce):j,Ne=l(Oe.invert(W).concat(ae/Oe.k),we.invert(W).concat(ae/we.k));return function(Re){if(Re===1)Re=we;else{var Ke=Ne(Re),be=ae/Ke[2];Re=new wr(be,W[0]-Ke[0]*be,W[1]-Ke[1]*be)}te.zoom(null,Re)}})}function Q(P,j,L){return!L&&P.__zooming||new M(P,j)}function M(P,j){this.that=P,this.args=j,this.active=0,this.sourceEvent=null,this.extent=e.apply(P,j),this.taps=0}M.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,j){return this.mouse&&P!=="mouse"&&(this.mouse[1]=j.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=j.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=j.invert(this.touch1[0])),this.that.__zoom=j,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var j=_i(this.that).datum();u.call(P,this.that,new Ck(P,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:u}),j)}};function B(P,...j){if(!n.apply(this,arguments))return;var L=Q(this,j).event(P),H=this.__zoom,ee=Math.max(s[0],Math.min(s[1],H.k*Math.pow(2,i.apply(this,arguments)))),ce=Bi(P);if(L.wheel)(L.mouse[0][0]!==ce[0]||L.mouse[0][1]!==ce[1])&&(L.mouse[1]=H.invert(L.mouse[0]=ce)),clearTimeout(L.wheel);else{if(H.k===ee)return;L.mouse=[ce,H.invert(ce)],Ju(this),L.start()}ya(P),L.wheel=setTimeout(te,v),L.zoom("mouse",t($(T(H,ee),L.mouse[0],L.mouse[1]),L.extent,o));function te(){L.wheel=null,L.end()}}function N(P,...j){if(d||!n.apply(this,arguments))return;var L=P.currentTarget,H=Q(this,j,!0).event(P),ee=_i(P.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",ae,!0),ce=Bi(P,L),te=P.clientX,he=P.clientY;y2(P.view),k0(P),H.mouse=[ce,this.__zoom.invert(ce)],Ju(this),H.start();function W(Oe){if(ya(Oe),!H.moved){var we=Oe.clientX-te,Ne=Oe.clientY-he;H.moved=we*we+Ne*Ne>b}H.event(Oe).zoom("mouse",t($(H.that.__zoom,H.mouse[0]=Bi(Oe,L),H.mouse[1]),H.extent,o))}function ae(Oe){ee.on("mousemove.zoom mouseup.zoom",null),b2(Oe.view,H.moved),ya(Oe),H.event(Oe).end()}}function K(P,...j){if(n.apply(this,arguments)){var L=this.__zoom,H=Bi(P.changedTouches?P.changedTouches[0]:P,this),ee=L.invert(H),ce=L.k*(P.shiftKey?.5:2),te=t($(T(L,ce),H,ee),e.apply(this,j),o);ya(P),a>0?_i(this).transition().duration(a).call(R,te,H,P):_i(this).call(_.transform,te,H,P)}}function q(P,...j){if(n.apply(this,arguments)){var L=P.touches,H=L.length,ee=Q(this,j,P.changedTouches.length===H).event(P),ce,te,he,W;for(k0(P),te=0;te<H;++te)he=L[te],W=Bi(he,this),W=[W,this.__zoom.invert(W),he.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==W[2]&&(ee.touch1=W,ee.taps=0):(ee.touch0=W,ce=!0,ee.taps=1+!!c);c&&(c=clearTimeout(c)),ce&&(ee.taps<2&&(h=W[0],c=setTimeout(function(){c=null},m)),Ju(this),ee.start())}}function Z(P,...j){if(this.__zooming){var L=Q(this,j).event(P),H=P.changedTouches,ee=H.length,ce,te,he,W;for(ya(P),ce=0;ce<ee;++ce)te=H[ce],he=Bi(te,this),L.touch0&&L.touch0[2]===te.identifier?L.touch0[0]=he:L.touch1&&L.touch1[2]===te.identifier&&(L.touch1[0]=he);if(te=L.that.__zoom,L.touch1){var ae=L.touch0[0],Oe=L.touch0[1],we=L.touch1[0],Ne=L.touch1[1],Re=(Re=we[0]-ae[0])*Re+(Re=we[1]-ae[1])*Re,Ke=(Ke=Ne[0]-Oe[0])*Ke+(Ke=Ne[1]-Oe[1])*Ke;te=T(te,Math.sqrt(Re/Ke)),he=[(ae[0]+we[0])/2,(ae[1]+we[1])/2],W=[(Oe[0]+Ne[0])/2,(Oe[1]+Ne[1])/2]}else if(L.touch0)he=L.touch0[0],W=L.touch0[1];else return;L.zoom("touch",t($(te,he,W),L.extent,o))}}function re(P,...j){if(this.__zooming){var L=Q(this,j).event(P),H=P.changedTouches,ee=H.length,ce,te;for(k0(P),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),ce=0;ce<ee;++ce)te=H[ce],L.touch0&&L.touch0[2]===te.identifier?delete L.touch0:L.touch1&&L.touch1[2]===te.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(te=Bi(te,this),Math.hypot(h[0]-te[0],h[1]-te[1])<k)){var he=_i(this).on("dblclick.zoom");he&&he.apply(this,arguments)}}}return _.wheelDelta=function(P){return arguments.length?(i=typeof P=="function"?P:au(+P),_):i},_.filter=function(P){return arguments.length?(n=typeof P=="function"?P:au(!!P),_):n},_.touchable=function(P){return arguments.length?(r=typeof P=="function"?P:au(!!P),_):r},_.extent=function(P){return arguments.length?(e=typeof P=="function"?P:au([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),_):e},_.scaleExtent=function(P){return arguments.length?(s[0]=+P[0],s[1]=+P[1],_):[s[0],s[1]]},_.translateExtent=function(P){return arguments.length?(o[0][0]=+P[0][0],o[1][0]=+P[1][0],o[0][1]=+P[0][1],o[1][1]=+P[1][1],_):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},_.constrain=function(P){return arguments.length?(t=P,_):t},_.duration=function(P){return arguments.length?(a=+P,_):a},_.interpolate=function(P){return arguments.length?(l=P,_):l},_.on=function(){var P=u.on.apply(u,arguments);return P===u?_:P},_.clickDistance=function(P){return arguments.length?(b=(P=+P)*P,_):Math.sqrt(b)},_.tapDistance=function(P){return arguments.length?(k=+P,_):k},_}var We=(n=>(n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom",n))(We||{}),Qp=(n=>(n.Partial="partial",n.Full="full",n))(Qp||{}),Qs=(n=>(n.Bezier="default",n.SimpleBezier="simple-bezier",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n))(Qs||{}),fs=(n=>(n.Strict="strict",n.Loose="loose",n))(fs||{}),jd=(n=>(n.Arrow="arrow",n.ArrowClosed="arrowclosed",n))(jd||{}),Wa=(n=>(n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal",n))(Wa||{}),R2=(n=>(n.TopLeft="top-left",n.TopCenter="top-center",n.TopRight="top-right",n.BottomLeft="bottom-left",n.BottomCenter="bottom-center",n.BottomRight="bottom-right",n))(R2||{});function Ud(n){var e,t;const i=((t=(e=n.composedPath)==null?void 0:e.call(n))==null?void 0:t[0])||n.target,r=typeof(i==null?void 0:i.hasAttribute)=="function"?i.hasAttribute("contenteditable"):!1,s=typeof(i==null?void 0:i.closest)=="function"?i.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(i==null?void 0:i.nodeName)||r||!!s}function Nk(n){return n.ctrlKey||n.metaKey||n.shiftKey}function jg(n,e,t,i){const r=e.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(o=>o.trim().toLowerCase());if(r.length===1)return n.toLowerCase()===e.toLowerCase();i||t.add(n.toLowerCase());const s=r.every((o,a)=>t.has(o)&&Array.from(t.values())[a]===r[a]);return i&&t.delete(n.toLowerCase()),s}function Lk(n,e){return t=>{if(!t.code&&!t.key)return!1;const i=Zk(t.code,n);return Array.isArray(n)?n.some(r=>jg(t[i],r,e,t.type==="keyup")):jg(t[i],n,e,t.type==="keyup")}}function Zk(n,e){return e.includes(n)?"code":"key"}function Ya(n,e){const t=At(()=>Tt(e==null?void 0:e.actInsideInputWithModifier)??!1),i=At(()=>Tt(e==null?void 0:e.target)??window),r=Me(Tt(n)===!0);let s=!1;const o=new Set;let a=u(Tt(n));Ye(()=>Tt(n),(c,h)=>{typeof h=="boolean"&&typeof c!="boolean"&&l(),a=u(c)},{immediate:!0}),o2(["blur","contextmenu"],l),Tg((...c)=>a(...c),c=>{s=Nk(c),!((!s||s&&!t.value)&&Ud(c))&&(c.preventDefault(),r.value=!0)},{eventName:"keydown",target:i}),Tg((...c)=>a(...c),c=>{if(r.value){if((!s||s&&!t.value)&&Ud(c))return;s=!1,r.value=!1}},{eventName:"keyup",target:i});function l(){s=!1,o.clear(),r.value=Tt(n)===!0}function u(c){return c===null?(l(),()=>!1):typeof c=="boolean"?(l(),r.value=c,()=>!1):Array.isArray(c)||typeof c=="string"?Lk(c,o):c}return r}const z2="vue-flow__node-desc",D2="vue-flow__edge-desc",Bk="vue-flow__aria-live",I2=["Enter"," ","Escape"],Ro={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Cc(n){return{...n.computedPosition||{x:0,y:0},width:n.dimensions.width||0,height:n.dimensions.height||0}}function Ec(n,e){const t=Math.max(0,Math.min(n.x+n.width,e.x+e.width)-Math.max(n.x,e.x)),i=Math.max(0,Math.min(n.y+n.height,e.y+e.height)-Math.max(n.y,e.y));return Math.ceil(t*i)}function bh(n){return{width:n.offsetWidth,height:n.offsetHeight}}function Rr(n,e=0,t=1){return Math.min(Math.max(n,e),t)}function N2(n,e){return{x:Rr(n.x,e[0][0],e[1][0]),y:Rr(n.y,e[0][1],e[1][1])}}function Ug(n){const e=n.getRootNode();return"elementFromPoint"in e?e:window.document}function ps(n){return n&&typeof n=="object"&&"id"in n&&"source"in n&&"target"in n}function Us(n){return n&&typeof n=="object"&&"id"in n&&"position"in n&&!ps(n)}function Ra(n){return Us(n)&&"computedPosition"in n}function lu(n){return!Number.isNaN(n)&&Number.isFinite(n)}function Vk(n){return lu(n.width)&&lu(n.height)&&lu(n.x)&&lu(n.y)}function Xk(n,e,t){const i={id:n.id.toString(),type:n.type??"default",dimensions:qa({width:0,height:0}),computedPosition:qa({z:0,...n.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:an(n.data)?n.data:{},events:qa(an(n.events)?n.events:{})};return Object.assign(e??i,n,{id:n.id.toString(),parentNode:t})}function L2(n,e,t){var i,r;const s={id:n.id.toString(),type:n.type??(e==null?void 0:e.type)??"default",source:n.source.toString(),target:n.target.toString(),sourceHandle:(i=n.sourceHandle)==null?void 0:i.toString(),targetHandle:(r=n.targetHandle)==null?void 0:r.toString(),updatable:n.updatable??(t==null?void 0:t.updatable),selectable:n.selectable??(t==null?void 0:t.selectable),focusable:n.focusable??(t==null?void 0:t.focusable),data:an(n.data)?n.data:{},events:qa(an(n.events)?n.events:{}),label:n.label??"",interactionWidth:n.interactionWidth??(t==null?void 0:t.interactionWidth),...t??{}};return Object.assign(e??s,n,{id:n.id.toString()})}function Z2(n,e,t,i){const r=typeof n=="string"?n:n.id,s=new Set,o=i==="source"?"target":"source";for(const a of t)a[o]===r&&s.add(a[i]);return e.filter(a=>s.has(a.id))}function qk(...n){if(n.length===3){const[s,o,a]=n;return Z2(s,o,a,"target")}const[e,t]=n,i=typeof e=="string"?e:e.id;return t.filter(s=>ps(s)&&s.source===i).map(s=>t.find(o=>Us(o)&&o.id===s.target))}function Fk(...n){if(n.length===3){const[s,o,a]=n;return Z2(s,o,a,"source")}const[e,t]=n,i=typeof e=="string"?e:e.id;return t.filter(s=>ps(s)&&s.target===i).map(s=>t.find(o=>Us(o)&&o.id===s.source))}function B2({source:n,sourceHandle:e,target:t,targetHandle:i}){return`vueflow__edge-${n}${e??""}-${t}${i??""}`}function Hk(n,e){return e.some(t=>ps(t)&&t.source===n.source&&t.target===n.target&&(t.sourceHandle===n.sourceHandle||!t.sourceHandle&&!n.sourceHandle)&&(t.targetHandle===n.targetHandle||!t.targetHandle&&!n.targetHandle))}function Gd({x:n,y:e},{x:t,y:i,zoom:r}){return{x:n*r+t,y:e*r+i}}function hl({x:n,y:e},{x:t,y:i,zoom:r},s=!1,o=[1,1]){const a={x:(n-t)/r,y:(e-i)/r};return s?xh(a,o):a}function V2(n,e){return{x:Math.min(n.x,e.x),y:Math.min(n.y,e.y),x2:Math.max(n.x2,e.x2),y2:Math.max(n.y2,e.y2)}}function Qc({x:n,y:e,width:t,height:i}){return{x:n,y:e,x2:n+t,y2:e+i}}function X2({x:n,y:e,x2:t,y2:i}){return{x:n,y:e,width:t-n,height:i-e}}function jk(n,e){return X2(V2(Qc(n),Qc(e)))}function wh(n){let e={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let t=0;t<n.length;t++){const i=n[t];e=V2(e,Qc({...i.computedPosition,...i.dimensions}))}return X2(e)}function q2(n,e,t={x:0,y:0,zoom:1},i=!1,r=!1){const s={...hl(e,t),width:e.width/t.zoom,height:e.height/t.zoom},o=[];for(const a of n){const{dimensions:l,selectable:u=!0,hidden:c=!1}=a,h=l.width??a.width??null,d=l.height??a.height??null;if(r&&!u||c)continue;const m=Ec(s,Cc(a)),v=h===null||d===null,b=i&&m>0,k=(h??0)*(d??0);(v||b||m>=k||a.dragging)&&o.push(a)}return o}function Rs(n,e){const t=new Set;if(typeof n=="string")t.add(n);else if(n.length>=1)for(const i of n)t.add(i.id);return e.filter(i=>t.has(i.source)||t.has(i.target))}function Gg(n,e,t,i,r,s=.1,o={x:0,y:0}){const a=e/(n.width*(1+s)),l=t/(n.height*(1+s)),u=Math.min(a,l),c=Rr(u,i,r),h=n.x+n.width/2,d=n.y+n.height/2,m=e/2-h*c+(o.x??0),v=t/2-d*c+(o.y??0);return{x:m,y:v,zoom:c}}function Uk(n,e){return{x:e.x+n.x,y:e.y+n.y,z:(n.z>e.z?n.z:e.z)+1}}function F2(n,e){if(!n.parentNode)return!1;const t=e(n.parentNode);return t?t.selected?!0:F2(t,e):!1}function dl(n,e){return typeof n>"u"?"":typeof n=="string"?n:`${e?`${e}__`:""}${Object.keys(n).sort().map(i=>`${i}=${n[i]}`).join("&")}`}function Wg(n,e,t){return n<e?Rr(Math.abs(n-e),1,e)/e:n>t?-Rr(Math.abs(n-t),1,e)/e:0}function H2(n,e,t=15,i=40){const r=Wg(n.x,i,e.width-i)*t,s=Wg(n.y,i,e.height-i)*t;return[r,s]}function _0(n,e){if(e){const t=n.position.x+n.dimensions.width-e.dimensions.width,i=n.position.y+n.dimensions.height-e.dimensions.height;if(t>0||i>0||n.position.x<0||n.position.y<0){let r={};if(typeof e.style=="function"?r={...e.style(e)}:e.style&&(r={...e.style}),r.width=r.width??`${e.dimensions.width}px`,r.height=r.height??`${e.dimensions.height}px`,t>0)if(typeof r.width=="string"){const s=Number(r.width.replace("px",""));r.width=`${s+t}px`}else r.width+=t;if(i>0)if(typeof r.height=="string"){const s=Number(r.height.replace("px",""));r.height=`${s+i}px`}else r.height+=i;if(n.position.x<0){const s=Math.abs(n.position.x);if(e.position.x=e.position.x-s,typeof r.width=="string"){const o=Number(r.width.replace("px",""));r.width=`${o+s}px`}else r.width+=s;n.position.x=0}if(n.position.y<0){const s=Math.abs(n.position.y);if(e.position.y=e.position.y-s,typeof r.height=="string"){const o=Number(r.height.replace("px",""));r.height=`${o+s}px`}else r.height+=s;n.position.y=0}e.dimensions.width=Number(r.width.toString().replace("px","")),e.dimensions.height=Number(r.height.toString().replace("px","")),typeof e.style=="function"?e.style=s=>{const o=e.style;return{...o(s),...r}}:e.style={...e.style,...r}}}}function Yg(n,e){var t,i;const r=n.filter(o=>o.type==="add"||o.type==="remove");for(const o of r)if(o.type==="add")e.findIndex(l=>l.id===o.item.id)===-1&&e.push(o.item);else if(o.type==="remove"){const a=e.findIndex(l=>l.id===o.id);a!==-1&&e.splice(a,1)}const s=e.map(o=>o.id);for(const o of e)for(const a of n)if(a.id===o.id)switch(a.type){case"select":o.selected=a.selected;break;case"position":if(Ra(o)&&(typeof a.position<"u"&&(o.position=a.position),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&o.parentNode)){const l=e[s.indexOf(o.parentNode)];l&&Ra(l)&&_0(o,l)}break;case"dimensions":if(Ra(o)&&(typeof a.dimensions<"u"&&(o.dimensions=a.dimensions),typeof a.updateStyle<"u"&&a.updateStyle&&(o.style={...o.style||{},width:`${(t=a.dimensions)==null?void 0:t.width}px`,height:`${(i=a.dimensions)==null?void 0:i.height}px`}),typeof a.resizing<"u"&&(o.resizing=a.resizing),o.expandParent&&o.parentNode)){const l=e[s.indexOf(o.parentNode)];l&&Ra(l)&&(!!l.dimensions.width&&!!l.dimensions.height?_0(o,l):vn(()=>{_0(o,l)}))}break}return e}function Kr(n,e){return{id:n,type:"select",selected:e}}function Kg(n){return{item:n,type:"add"}}function Jg(n){return{id:n,type:"remove"}}function e1(n,e,t,i,r){return{id:n,source:e,target:t,sourceHandle:i||null,targetHandle:r||null,type:"remove"}}function ts(n,e=new Set,t=!1){const i=[];for(const[r,s]of n){const o=e.has(r);!(s.selected===void 0&&!o)&&s.selected!==o&&(t&&(s.selected=o),i.push(Kr(s.id,o)))}return i}function Xe(n){const e=new Set;let t=!1;const i=()=>e.size>0;n&&(t=!0,e.add(n));const r=a=>{e.delete(a)};return{on:a=>{n&&t&&e.delete(n),e.add(a);const l=()=>{r(a),n&&t&&e.add(n)};return mh(l),{off:l}},off:r,trigger:a=>Promise.all(Array.from(e).map(l=>l(a))),hasListeners:i,fns:e}}function t1(n,e,t){let i=n;do{if(i&&i.matches(e))return!0;if(i===t)return!1;i=i.parentElement}while(i);return!1}function Gk(n,e,t,i,r){var s,o;const a=[];for(const l of n)(l.selected||l.id===r)&&(!l.parentNode||!F2(l,i))&&(l.draggable||e&&typeof l.draggable>"u")&&a.push(qa({id:l.id,position:l.position||{x:0,y:0},distance:{x:t.x-((s=l.computedPosition)==null?void 0:s.x)||0,y:t.y-((o=l.computedPosition)==null?void 0:o.y)||0},from:l.computedPosition,extent:l.extent,parentNode:l.parentNode,dimensions:l.dimensions,expandParent:l.expandParent}));return a}function $0({id:n,dragItems:e,findNode:t}){const i=[];for(const r of e){const s=t(r.id);s&&i.push(s)}return[n?i.find(r=>r.id===n):i[0],i]}function j2(n){if(Array.isArray(n))switch(n.length){case 1:return[n[0],n[0],n[0],n[0]];case 2:return[n[0],n[1],n[0],n[1]];case 3:return[n[0],n[1],n[2],n[1]];case 4:return n;default:return[0,0,0,0]}return[n,n,n,n]}function Wk(n,e,t){const[i,r,s,o]=typeof n!="string"?j2(n.padding):[0,0,0,0];return t&&typeof t.computedPosition.x<"u"&&typeof t.computedPosition.y<"u"&&typeof t.dimensions.width<"u"&&typeof t.dimensions.height<"u"?[[t.computedPosition.x+o,t.computedPosition.y+i],[t.computedPosition.x+t.dimensions.width-r,t.computedPosition.y+t.dimensions.height-s]]:!1}function Yk(n,e,t,i){let r=n.extent||t;if((r==="parent"||!Array.isArray(r)&&(r==null?void 0:r.range)==="parent")&&!n.expandParent)if(n.parentNode&&i&&n.dimensions.width&&n.dimensions.height){const s=Wk(r,n,i);s&&(r=s)}else e(new fn(ln.NODE_EXTENT_INVALID,n.id)),r=t;else if(Array.isArray(r)){const s=(i==null?void 0:i.computedPosition.x)||0,o=(i==null?void 0:i.computedPosition.y)||0;r=[[r[0][0]+s,r[0][1]+o],[r[1][0]+s,r[1][1]+o]]}else if(r!=="parent"&&(r!=null&&r.range)&&Array.isArray(r.range)){const[s,o,a,l]=j2(r.padding),u=(i==null?void 0:i.computedPosition.x)||0,c=(i==null?void 0:i.computedPosition.y)||0;r=[[r.range[0][0]+u+l,r.range[0][1]+c+s],[r.range[1][0]+u-o,r.range[1][1]+c-a]]}return r==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:r}function Kk({width:n,height:e},t){return[t[0],[t[1][0]-(n||0),t[1][1]-(e||0)]]}function Rp(n,e,t,i,r){const s=Kk(n.dimensions,Yk(n,t,i,r)),o=N2(e,s);return{position:{x:o.x-((r==null?void 0:r.computedPosition.x)||0),y:o.y-((r==null?void 0:r.computedPosition.y)||0)},computedPosition:o}}function Go(n,e,t=We.Left,i=!1){const r=((e==null?void 0:e.x)??0)+n.computedPosition.x,s=((e==null?void 0:e.y)??0)+n.computedPosition.y,{width:o,height:a}=e??t_(n);if(i)return{x:r+o/2,y:s+a/2};switch((e==null?void 0:e.position)??t){case We.Top:return{x:r+o/2,y:s};case We.Right:return{x:r+o,y:s+a/2};case We.Bottom:return{x:r+o/2,y:s+a};case We.Left:return{x:r,y:s+a/2}}}function n1(n,e){return n&&(e?n.find(t=>t.id===e):n[0])||null}function Jk({sourcePos:n,targetPos:e,sourceWidth:t,sourceHeight:i,targetWidth:r,targetHeight:s,width:o,height:a,viewport:l}){const u={x:Math.min(n.x,e.x),y:Math.min(n.y,e.y),x2:Math.max(n.x+t,e.x+r),y2:Math.max(n.y+i,e.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Qc({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:o/l.zoom,height:a/l.zoom}),h=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),d=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(h*d)>0}function e_(n,e,t=!1){const i=typeof n.zIndex=="number";let r=i?n.zIndex:0;const s=e(n.source),o=e(n.target);return!s||!o?0:(t&&(r=i?n.zIndex:Math.max(s.computedPosition.z||0,o.computedPosition.z||0)),r)}var ln=(n=>(n.MISSING_STYLES="MISSING_STYLES",n.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",n.NODE_INVALID="NODE_INVALID",n.NODE_NOT_FOUND="NODE_NOT_FOUND",n.NODE_MISSING_PARENT="NODE_MISSING_PARENT",n.NODE_TYPE_MISSING="NODE_TYPE_MISSING",n.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",n.EDGE_INVALID="EDGE_INVALID",n.EDGE_NOT_FOUND="EDGE_NOT_FOUND",n.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",n.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",n.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",n.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",n.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",n.EDGE_ORPHANED="EDGE_ORPHANED",n.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",n))(ln||{});const i1={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:n=>`Node is invalid
Node: ${n}`,NODE_NOT_FOUND:n=>`Node not found
Node: ${n}`,NODE_MISSING_PARENT:(n,e)=>`Node is missing a parent
Node: ${n}
Parent: ${e}`,NODE_TYPE_MISSING:n=>`Node type is missing
Type: ${n}`,NODE_EXTENT_INVALID:n=>`Only child nodes can use a parent extent
Node: ${n}`,EDGE_INVALID:n=>`An edge needs a source and a target
Edge: ${n}`,EDGE_SOURCE_MISSING:(n,e)=>`Edge source is missing
Edge: ${n} 
Source: ${e}`,EDGE_TARGET_MISSING:(n,e)=>`Edge target is missing
Edge: ${n} 
Target: ${e}`,EDGE_TYPE_MISSING:n=>`Edge type is missing
Type: ${n}`,EDGE_SOURCE_TARGET_SAME:(n,e,t)=>`Edge source and target are the same
Edge: ${n} 
Source: ${e} 
Target: ${t}`,EDGE_SOURCE_TARGET_MISSING:(n,e,t)=>`Edge source or target is missing
Edge: ${n} 
Source: ${e} 
Target: ${t}`,EDGE_ORPHANED:n=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${n}`,EDGE_NOT_FOUND:n=>`Edge not found
Edge: ${n}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class fn extends Error{constructor(e,...t){var i;super((i=i1[e])==null?void 0:i.call(i1,...t)),this.name="VueFlowError",this.code=e,this.args=t}}function zp(n){return"clientX"in n}function U2(n){return"sourceEvent"in n}function ds(n,e){var t,i;const r=zp(n),s=r?n.clientX:(t=n.touches)==null?void 0:t[0].clientX,o=r?n.clientY:(i=n.touches)==null?void 0:i[0].clientY;return{x:s-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}}const Rc=()=>{var n;return typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf("Mac"))>=0};function t_(n){var e,t;return{width:((e=n.dimensions)==null?void 0:e.width)??n.width??0,height:((t=n.dimensions)==null?void 0:t.height)??n.height??0}}function xh(n,e=[1,1]){return{x:e[0]*Math.round(n.x/e[0]),y:e[1]*Math.round(n.y/e[1])}}const n_=()=>!0;function A0(n){n==null||n.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function i_(n,e,t){const i=[],r={x:n.x-t,y:n.y-t,width:t*2,height:t*2};for(const s of e.values())Ec(r,Cc(s))>0&&i.push(s);return i}const r_=250;function s_(n,e,t,i){var r,s;let o=[],a=Number.POSITIVE_INFINITY;const l=i_(n,t,e+r_);for(const u of l){const c=[...((r=u.handleBounds)==null?void 0:r.source)??[],...((s=u.handleBounds)==null?void 0:s.target)??[]];for(const h of c){if(i.nodeId===h.nodeId&&i.type===h.type&&i.id===h.id)continue;const{x:d,y:m}=Go(u,h,h.position,!0),v=Math.sqrt((d-n.x)**2+(m-n.y)**2);v>e||(v<a?(o=[{...h,x:d,y:m}],a=v):v===a&&o.push({...h,x:d,y:m}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(c=>c.type===u)??o[0]}return o[0]}function r1(n,{handle:e,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:u=n_},c,h,d){const m=s==="target",v=e?o.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:b,y:k}=ds(n),_=o.elementFromPoint(b,k),T=_!=null&&_.classList.contains(`${a}-flow__handle`)?_:v,$={handleDomNode:T,isValid:!1,connection:null,toHandle:null};if(T){const w=G2(void 0,T),R=T.getAttribute("data-nodeid"),Q=T.getAttribute("data-handleid"),M=T.classList.contains("connectable"),B=T.classList.contains("connectableend");if(!R||!w)return $;const N={source:m?R:i,sourceHandle:m?Q:r,target:m?i:R,targetHandle:m?r:Q};$.connection=N;const q=M&&B&&(t===fs.Strict?m&&w==="source"||!m&&w==="target":R!==i||Q!==r);$.isValid=q&&u(N,{nodes:h,edges:c,sourceNode:d(i),targetNode:d(R)}),$.toHandle=e}return $}function G2(n,e){return n||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function o_(n,e){let t=null;return e?t="valid":n&&!e&&(t="invalid"),t}function a_(n,e){let t=null;return e?t=!0:n&&!e&&(t=!1),t}function l_(n,e,t,i,r,s=!1){var o,a,l;const u=i.get(n);if(!u)return null;const c=r===fs.Strict?(o=u.handleBounds)==null?void 0:o[e]:[...((a=u.handleBounds)==null?void 0:a.source)??[],...((l=u.handleBounds)==null?void 0:l.target)??[]],h=(t?c==null?void 0:c.find(d=>d.id===t):c==null?void 0:c[0])??null;return h&&s?{...h,...Go(u,h,h.position,!0)}:h}const Wd={[We.Left]:We.Right,[We.Right]:We.Left,[We.Top]:We.Bottom,[We.Bottom]:We.Top},u_=["production","prod"];function Sh(n,...e){W2()&&console.warn(`[Vue Flow]: ${n}`,...e)}function W2(){return!u_.includes("production")}function s1(n,e,t,i){const r=e.querySelectorAll(`.vue-flow__handle.${n}`);return Array.from(r).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),position:o.getAttribute("data-handlepos"),nodeId:o.getAttribute("data-nodeid"),type:n,x:(a.left-t.left)/i,y:(a.top-t.top)/i,...bh(o)}})}function Yd(n,e,t,i,r,s=!1,o){r.value=!1,n.selected?(s||n.selected&&e)&&(i([n]),vn(()=>{o.blur()})):t([n])}function an(n){return typeof V(n)<"u"}function c_(n,e,t,i){if(!n||!n.source||!n.target)return t(new fn(ln.EDGE_INVALID,(n==null?void 0:n.id)??"[ID UNKNOWN]")),!1;let r;return ps(n)?r=n:r={...n,id:B2(n)},r=L2(r,void 0,i),Hk(r,e)?!1:r}function h_(n,e,t,i,r){if(!e.source||!e.target)return r(new fn(ln.EDGE_INVALID,n.id)),!1;if(!t)return r(new fn(ln.EDGE_NOT_FOUND,n.id)),!1;const{id:s,...o}=n;return{...o,id:i?B2(e):s,source:e.source,target:e.target,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle}}function o1(n,e,t){const i={},r=[];for(let s=0;s<n.length;++s){const o=n[s];if(!Us(o)){t(new fn(ln.NODE_INVALID,o==null?void 0:o.id)||`[ID UNKNOWN|INDEX ${s}]`);continue}const a=Xk(o,e(o.id),o.parentNode);o.parentNode&&(i[o.parentNode]=!0),r[s]=a}for(const s of r){const o=e(s.parentNode)||r.find(a=>a.id===s.parentNode);s.parentNode&&!o&&t(new fn(ln.NODE_MISSING_PARENT,s.id,s.parentNode)),(s.parentNode||i[s.id])&&(i[s.id]&&(s.isParent=!0),o&&(o.isParent=!0))}return r}function a1(n,e,t,i,r,s){let o=r;const a=i.get(o)||new Map;i.set(o,a.set(t,e)),o=`${r}-${n}`;const l=i.get(o)||new Map;if(i.set(o,l.set(t,e)),s){o=`${r}-${n}-${s}`;const u=i.get(o)||new Map;i.set(o,u.set(t,e))}}function T0(n,e,t){n.clear(),e.clear();for(const i of t){const{source:r,target:s,sourceHandle:o=null,targetHandle:a=null}=i,l={edgeId:i.id,source:r,target:s,sourceHandle:o,targetHandle:a},u=`${r}-${o}--${s}-${a}`,c=`${s}-${a}--${r}-${o}`;a1("source",l,c,n,r,o),a1("target",l,u,n,s,a),e.set(i.id,i)}}function l1(n,e){if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}function P0(n,e,t,i,r,s,o,a){const l=[];for(const u of n){const c=ps(u)?u:c_(u,a,r,s);if(!c)continue;const h=t(c.source),d=t(c.target);if(!h||!d){r(new fn(ln.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!h){r(new fn(ln.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!d){r(new fn(ln.EDGE_TARGET_MISSING,c.id,c.target));continue}if(e&&!e(c,{edges:a,nodes:o,sourceNode:h,targetNode:d})){r(new fn(ln.EDGE_INVALID,c.id));continue}const m=i(c.id);l.push({...L2(c,m,s),sourceNode:h,targetNode:d})}return l}const u1=Symbol("vueFlow"),kh=Symbol("nodeId"),Y2=Symbol("nodeRef"),d_=Symbol("edgeId"),f_=Symbol("edgeRef"),_h=Symbol("slots");function K2(n){const{vueFlowRef:e,snapToGrid:t,snapGrid:i,noDragClassName:r,nodes:s,nodeExtent:o,nodeDragThreshold:a,viewport:l,autoPanOnNodeDrag:u,autoPanSpeed:c,nodesDraggable:h,panBy:d,findNode:m,multiSelectionActive:v,nodesSelectionActive:b,selectNodesOnDrag:k,removeSelectedElements:_,addSelectedNodes:T,updateNodePositions:$,emits:w}=Rt(),{onStart:R,onDrag:Q,onStop:M,onClick:B,el:N,disabled:K,id:q,selectable:Z,dragHandle:re}=n,P=Me(!1);let j=[],L,H=null,ee={x:void 0,y:void 0},ce={x:0,y:0},te=null,he=!1,W=0,ae=!1;const Oe=J2(),we=({x:Le,y:Ie})=>{ee={x:Le,y:Ie};let Je=!1;if(j=j.map(ie=>{const J={x:Le-ie.distance.x,y:Ie-ie.distance.y},{computedPosition:se}=Rp(ie,t.value?xh(J,i.value):J,w.error,o.value,ie.parentNode?m(ie.parentNode):void 0);return Je=Je||ie.position.x!==se.x||ie.position.y!==se.y,ie.position=se,ie}),!!Je&&($(j,!0,!0),P.value=!0,te)){const[ie,J]=$0({id:q,dragItems:j,findNode:m});Q({event:te,node:ie,nodes:J})}},Ne=()=>{if(!H)return;const[Le,Ie]=H2(ce,H,c.value);if(Le!==0||Ie!==0){const Je={x:(ee.x??0)-Le/l.value.zoom,y:(ee.y??0)-Ie/l.value.zoom};d({x:Le,y:Ie})&&we(Je)}W=requestAnimationFrame(Ne)},Re=(Le,Ie)=>{he=!0;const Je=m(q);!k.value&&!v.value&&Je&&(Je.selected||_()),Je&&Tt(Z)&&k.value&&Yd(Je,v.value,T,_,b,!1,Ie);const ie=Oe(Le.sourceEvent);if(ee=ie,j=Gk(s.value,h.value,ie,m,q),j.length){const[J,se]=$0({id:q,dragItems:j,findNode:m});R({event:Le.sourceEvent,node:J,nodes:se})}},Ke=(Le,Ie)=>{var Je;Le.sourceEvent.type==="touchmove"&&Le.sourceEvent.touches.length>1||(a.value===0&&Re(Le,Ie),ee=Oe(Le.sourceEvent),H=((Je=e.value)==null?void 0:Je.getBoundingClientRect())||null,ce=ds(Le.sourceEvent,H))},be=(Le,Ie)=>{const Je=Oe(Le.sourceEvent);if(!ae&&he&&u.value&&(ae=!0,Ne()),!he){const ie=Je.xSnapped-(ee.x??0),J=Je.ySnapped-(ee.y??0);Math.sqrt(ie*ie+J*J)>a.value&&Re(Le,Ie)}(ee.x!==Je.xSnapped||ee.y!==Je.ySnapped)&&j.length&&he&&(te=Le.sourceEvent,ce=ds(Le.sourceEvent,H),we(Je))},ht=Le=>{if(!U2(Le)&&!he&&!P.value&&!v.value){const Ie=Le,Je=Oe(Ie),ie=Je.xSnapped-(ee.x??0),J=Je.ySnapped-(ee.y??0),se=Math.sqrt(ie*ie+J*J);se!==0&&se<=a.value&&(B==null||B(Ie));return}if(P.value=!1,ae=!1,he=!1,ee={x:void 0,y:void 0},cancelAnimationFrame(W),j.length){$(j,!1,!1);const[Ie,Je]=$0({id:q,dragItems:j,findNode:m});M({event:Le.sourceEvent,node:Ie,nodes:Je})}};return Ye([()=>Tt(K),N],([Le,Ie],Je,ie)=>{if(Ie){const J=_i(Ie);Le||(L=jS().on("start",se=>Ke(se,Ie)).on("drag",se=>be(se,Ie)).on("end",se=>ht(se)).filter(se=>{const oe=se.target,ye=Tt(re);return!se.button&&(!r.value||!t1(oe,`.${r.value}`,Ie)&&(!ye||t1(oe,ye,Ie)))}),J.call(L)),ie(()=>{J.on(".drag",null),L&&(L.on("start",null),L.on("drag",null),L.on("end",null))})}}),P}function p_(){return{doubleClick:Xe(),click:Xe(),mouseEnter:Xe(),mouseMove:Xe(),mouseLeave:Xe(),contextMenu:Xe(),updateStart:Xe(),update:Xe(),updateEnd:Xe()}}function m_(n,e){const t=p_();return t.doubleClick.on(i=>{var r,s;e.edgeDoubleClick(i),(s=(r=n.events)==null?void 0:r.doubleClick)==null||s.call(r,i)}),t.click.on(i=>{var r,s;e.edgeClick(i),(s=(r=n.events)==null?void 0:r.click)==null||s.call(r,i)}),t.mouseEnter.on(i=>{var r,s;e.edgeMouseEnter(i),(s=(r=n.events)==null?void 0:r.mouseEnter)==null||s.call(r,i)}),t.mouseMove.on(i=>{var r,s;e.edgeMouseMove(i),(s=(r=n.events)==null?void 0:r.mouseMove)==null||s.call(r,i)}),t.mouseLeave.on(i=>{var r,s;e.edgeMouseLeave(i),(s=(r=n.events)==null?void 0:r.mouseLeave)==null||s.call(r,i)}),t.contextMenu.on(i=>{var r,s;e.edgeContextMenu(i),(s=(r=n.events)==null?void 0:r.contextMenu)==null||s.call(r,i)}),t.updateStart.on(i=>{var r,s;e.edgeUpdateStart(i),(s=(r=n.events)==null?void 0:r.updateStart)==null||s.call(r,i)}),t.update.on(i=>{var r,s;e.edgeUpdate(i),(s=(r=n.events)==null?void 0:r.update)==null||s.call(r,i)}),t.updateEnd.on(i=>{var r,s;e.edgeUpdateEnd(i),(s=(r=n.events)==null?void 0:r.updateEnd)==null||s.call(r,i)}),Object.entries(t).reduce((i,[r,s])=>(i.emit[r]=s.trigger,i.on[r]=s.on,i),{emit:{},on:{}})}function J2(){const{viewport:n,snapGrid:e,snapToGrid:t}=Rt();return i=>{const r=U2(i)?i.sourceEvent:i,{x:s,y:o}=ds(r),a=hl({x:s,y:o},n.value),{x:l,y:u}=t.value?xh(a,e.value):a;return{xSnapped:l,ySnapped:u,...a}}}function uu(){return!0}function e4({handleId:n,nodeId:e,type:t,isValidConnection:i,edgeUpdaterType:r,onEdgeUpdate:s,onEdgeUpdateEnd:o}){const{id:a,vueFlowRef:l,connectionMode:u,connectionRadius:c,connectOnClick:h,connectionClickStartHandle:d,nodesConnectable:m,autoPanOnConnect:v,autoPanSpeed:b,findNode:k,panBy:_,startConnection:T,updateConnection:$,endConnection:w,emits:R,viewport:Q,edges:M,nodes:B,isValidConnection:N,nodeLookup:K}=Rt();let q=null,Z=!1,re=null;function P(L){var H;const ee=Tt(t)==="target",ce=zp(L),te=Ug(L.target);if(ce&&L.button===0||!ce){let he=function(et){ie=ds(et,Le),we=s_(hl(ie,Q.value,!1,[1,1]),c.value,K.value,oe),J||(se(),J=!0);const ge=r1(et,{handle:we,connectionMode:u.value,fromNodeId:Tt(e),fromHandleId:Tt(n),fromType:ee?"target":"source",isValidConnection:Oe,doc:te,lib:"vue",flowId:a,nodeLookup:K.value},M.value,B.value,k);re=ge.handleDomNode,q=ge.connection,Z=a_(!!we,ge.isValid);const ze={...Ue,isValid:Z,to:we&&Z?Gd({x:we.x,y:we.y},Q.value):ie,toHandle:ge.toHandle,toPosition:Z&&ge.toHandle?ge.toHandle.position:Wd[oe.position],toNode:ge.toHandle?K.value.get(ge.toHandle.nodeId):null};if(!(Z&&we&&(Ue!=null&&Ue.toHandle)&&ze.toHandle&&Ue.toHandle.type===ze.toHandle.type&&Ue.toHandle.nodeId===ze.toHandle.nodeId&&Ue.toHandle.id===ze.toHandle.id&&Ue.to.x===ze.to.x&&Ue.to.y===ze.to.y)){if($(we&&Z?Gd({x:we.x,y:we.y},Q.value):ie,ge.toHandle,o_(!!we,Z)),Ue=ze,!we&&!Z&&!re)return A0(Je);q&&q.source!==q.target&&re&&(A0(Je),Je=re,re.classList.add("connecting","vue-flow__handle-connecting"),re.classList.toggle("valid",!!Z),re.classList.toggle("vue-flow__handle-valid",!!Z))}},W=function(et){(we||re)&&q&&Z&&(s?s(et,q):R.connect(q)),R.connectEnd(et),r&&(o==null||o(et)),A0(Je),cancelAnimationFrame(Ne),w(et),J=!1,Z=!1,q=null,re=null,te.removeEventListener("mousemove",he),te.removeEventListener("mouseup",W),te.removeEventListener("touchmove",he),te.removeEventListener("touchend",W)};const ae=k(Tt(e));let Oe=Tt(i)||N.value||uu;!Oe&&ae&&(Oe=(ee?ae.isValidSourcePos:ae.isValidTargetPos)||uu);let we,Ne=0;const{x:Re,y:Ke}=ds(L),be=te==null?void 0:te.elementFromPoint(Re,Ke),ht=G2(Tt(r),be),Le=(H=l.value)==null?void 0:H.getBoundingClientRect();if(!Le||!ht)return;const Ie=l_(Tt(e),ht,Tt(n),K.value,u.value);if(!Ie)return;let Je,ie=ds(L,Le),J=!1;const se=()=>{if(!v.value)return;const[et,ge]=H2(ie,Le,b.value);_({x:et,y:ge}),Ne=requestAnimationFrame(se)},oe={...Ie,nodeId:Tt(e),type:ht,position:Ie.position},ye=K.value.get(Tt(e)),je={inProgress:!0,isValid:null,from:Go(ye,oe,We.Left,!0),fromHandle:oe,fromPosition:oe.position,fromNode:ye,to:ie,toHandle:null,toPosition:Wd[oe.position],toNode:null};T({nodeId:Tt(e),id:Tt(n),type:ht,position:(be==null?void 0:be.getAttribute("data-handlepos"))||We.Top},{x:Re-Le.left,y:Ke-Le.top}),R.connectStart({event:L,nodeId:Tt(e),handleId:Tt(n),handleType:ht});let Ue=je;te.addEventListener("mousemove",he),te.addEventListener("mouseup",W),te.addEventListener("touchmove",he),te.addEventListener("touchend",W)}}function j(L){var H,ee;if(!h.value)return;const ce=Tt(t)==="target";if(!d.value){R.clickConnectStart({event:L,nodeId:Tt(e),handleId:Tt(n)}),T({nodeId:Tt(e),type:Tt(t),id:Tt(n),position:We.Top},void 0,!0);return}let te=Tt(i)||N.value||uu;const he=k(Tt(e));if(!te&&he&&(te=(ce?he.isValidSourcePos:he.isValidTargetPos)||uu),he&&(typeof he.connectable>"u"?m.value:he.connectable)===!1)return;const W=Ug(L.target),ae=r1(L,{handle:{nodeId:Tt(e),id:Tt(n),type:Tt(t),position:We.Top},connectionMode:u.value,fromNodeId:d.value.nodeId,fromHandleId:d.value.id||null,fromType:d.value.type,isValidConnection:te,doc:W,lib:"vue",flowId:a,nodeLookup:K.value},M.value,B.value,k),Oe=((H=ae.connection)==null?void 0:H.source)===((ee=ae.connection)==null?void 0:ee.target);ae.isValid&&ae.connection&&!Oe&&R.connect(ae.connection),R.clickConnectEnd(L),w(L,!0)}return{handlePointerDown:P,handleClick:j}}function g_(){return Mi(kh,"")}function t4(n){const e=n??g_()??"",t=Mi(Y2,Me(null)),{findNode:i,edges:r,emits:s}=Rt(),o=i(e);return o||s.error(new fn(ln.NODE_NOT_FOUND,e)),{id:e,nodeEl:t,node:o,parentNode:qe(()=>i(o.parentNode)),connectedEdges:qe(()=>Rs([o],r.value))}}function v_(){return{doubleClick:Xe(),click:Xe(),mouseEnter:Xe(),mouseMove:Xe(),mouseLeave:Xe(),contextMenu:Xe(),dragStart:Xe(),drag:Xe(),dragStop:Xe()}}function O_(n,e){const t=v_();return t.doubleClick.on(i=>{var r,s;e.nodeDoubleClick(i),(s=(r=n.events)==null?void 0:r.doubleClick)==null||s.call(r,i)}),t.click.on(i=>{var r,s;e.nodeClick(i),(s=(r=n.events)==null?void 0:r.click)==null||s.call(r,i)}),t.mouseEnter.on(i=>{var r,s;e.nodeMouseEnter(i),(s=(r=n.events)==null?void 0:r.mouseEnter)==null||s.call(r,i)}),t.mouseMove.on(i=>{var r,s;e.nodeMouseMove(i),(s=(r=n.events)==null?void 0:r.mouseMove)==null||s.call(r,i)}),t.mouseLeave.on(i=>{var r,s;e.nodeMouseLeave(i),(s=(r=n.events)==null?void 0:r.mouseLeave)==null||s.call(r,i)}),t.contextMenu.on(i=>{var r,s;e.nodeContextMenu(i),(s=(r=n.events)==null?void 0:r.contextMenu)==null||s.call(r,i)}),t.dragStart.on(i=>{var r,s;e.nodeDragStart(i),(s=(r=n.events)==null?void 0:r.dragStart)==null||s.call(r,i)}),t.drag.on(i=>{var r,s;e.nodeDrag(i),(s=(r=n.events)==null?void 0:r.drag)==null||s.call(r,i)}),t.dragStop.on(i=>{var r,s;e.nodeDragStop(i),(s=(r=n.events)==null?void 0:r.dragStop)==null||s.call(r,i)}),Object.entries(t).reduce((i,[r,s])=>(i.emit[r]=s.trigger,i.on[r]=s.on,i),{emit:{},on:{}})}function n4(){const{getSelectedNodes:n,nodeExtent:e,updateNodePositions:t,findNode:i,snapGrid:r,snapToGrid:s,nodesDraggable:o,emits:a}=Rt();return(l,u=!1)=>{const c=s.value?r.value[0]:5,h=s.value?r.value[1]:5,d=u?4:1,m=l.x*c*d,v=l.y*h*d,b=[];for(const k of n.value)if(k.draggable||o&&typeof k.draggable>"u"){const _={x:k.computedPosition.x+m,y:k.computedPosition.y+v},{computedPosition:T}=Rp(k,_,a.error,e.value,k.parentNode?i(k.parentNode):void 0);b.push({id:k.id,position:T,from:k.position,distance:{x:l.x,y:l.y},dimensions:k.dimensions})}t(b,!0,!1)}}const M0=.1;function Ur(){return Sh("Viewport not initialized yet."),Promise.resolve(!1)}const y_={zoomIn:Ur,zoomOut:Ur,zoomTo:Ur,fitView:Ur,setCenter:Ur,fitBounds:Ur,project:n=>n,screenToFlowCoordinate:n=>n,flowToScreenCoordinate:n=>n,setViewport:Ur,setTransform:Ur,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function b_(n){function e(i,r){return new Promise(s=>{n.d3Selection&&n.d3Zoom?n.d3Zoom.scaleBy(C0(n.d3Selection,r,()=>{s(!0)}),i):s(!1)})}function t(i,r,s,o){return new Promise(a=>{const{x:l,y:u}=N2({x:-i,y:-r},n.translateExtent),c=Uo.translate(-l,-u).scale(s);n.d3Selection&&n.d3Zoom?n.d3Zoom.transform(C0(n.d3Selection,o,()=>{a(!0)}),c):a(!1)})}return qe(()=>n.d3Zoom&&n.d3Selection&&n.dimensions.width&&n.dimensions.height?{viewportInitialized:!0,zoomIn:r=>e(1.2,r==null?void 0:r.duration),zoomOut:r=>e(1/1.2,r==null?void 0:r.duration),zoomTo:(r,s)=>new Promise(o=>{n.d3Selection&&n.d3Zoom?n.d3Zoom.scaleTo(C0(n.d3Selection,s==null?void 0:s.duration,()=>{o(!0)}),r):o(!1)}),setViewport:(r,s)=>t(r.x,r.y,r.zoom,s==null?void 0:s.duration),setTransform:(r,s)=>t(r.x,r.y,r.zoom,s==null?void 0:s.duration),getViewport:()=>({x:n.viewport.x,y:n.viewport.y,zoom:n.viewport.zoom}),getTransform:()=>({x:n.viewport.x,y:n.viewport.y,zoom:n.viewport.zoom}),fitView:(r={padding:M0,includeHiddenNodes:!1,duration:0})=>{var s,o;const a=[];for(const d of n.nodes)d.dimensions.width&&d.dimensions.height&&((r==null?void 0:r.includeHiddenNodes)||!d.hidden)&&(!((s=r.nodes)!=null&&s.length)||(o=r.nodes)!=null&&o.length&&r.nodes.includes(d.id))&&a.push(d);if(!a.length)return Promise.resolve(!1);const l=wh(a),{x:u,y:c,zoom:h}=Gg(l,n.dimensions.width,n.dimensions.height,r.minZoom??n.minZoom,r.maxZoom??n.maxZoom,r.padding??M0,r.offset);return t(u,c,h,r==null?void 0:r.duration)},setCenter:(r,s,o)=>{const a=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:n.maxZoom,l=n.dimensions.width/2-r*a,u=n.dimensions.height/2-s*a;return t(l,u,a,o==null?void 0:o.duration)},fitBounds:(r,s={padding:M0})=>{const{x:o,y:a,zoom:l}=Gg(r,n.dimensions.width,n.dimensions.height,n.minZoom,n.maxZoom,s.padding);return t(o,a,l,s==null?void 0:s.duration)},project:r=>hl(r,n.viewport,n.snapToGrid,n.snapGrid),screenToFlowCoordinate:r=>{if(n.vueFlowRef){const{x:s,y:o}=n.vueFlowRef.getBoundingClientRect(),a={x:r.x-s,y:r.y-o};return hl(a,n.viewport,n.snapToGrid,n.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:r=>{if(n.vueFlowRef){const{x:s,y:o}=n.vueFlowRef.getBoundingClientRect(),a={x:r.x+s,y:r.y+o};return Gd(a,n.viewport)}return{x:0,y:0}}}:y_)}function C0(n,e=0,t){return n.transition().duration(e).on("end",t)}function w_(n,e,t){const i=Qy(!0);return i.run(()=>{const r=()=>{i.run(()=>{let b,k,_=!!(t.nodes.value.length||t.edges.value.length);b=bo([n.modelValue,()=>{var T,$;return($=(T=n.modelValue)==null?void 0:T.value)==null?void 0:$.length}],([T])=>{T&&Array.isArray(T)&&(k==null||k.pause(),t.setElements(T),!k&&!_&&T.length?_=!0:k==null||k.resume())}),k=bo([t.nodes,t.edges,()=>t.edges.value.length,()=>t.nodes.value.length],([T,$])=>{var w;(w=n.modelValue)!=null&&w.value&&Array.isArray(n.modelValue.value)&&(b==null||b.pause(),n.modelValue.value=[...T,...$],vn(()=>{b==null||b.resume()}))},{immediate:_}),Uu(()=>{b==null||b.stop(),k==null||k.stop()})})},s=()=>{i.run(()=>{let b,k,_=!!t.nodes.value.length;b=bo([n.nodes,()=>{var T,$;return($=(T=n.nodes)==null?void 0:T.value)==null?void 0:$.length}],([T])=>{T&&Array.isArray(T)&&(k==null||k.pause(),t.setNodes(T),!k&&!_&&T.length?_=!0:k==null||k.resume())}),k=bo([t.nodes,()=>t.nodes.value.length],([T])=>{var $;($=n.nodes)!=null&&$.value&&Array.isArray(n.nodes.value)&&(b==null||b.pause(),n.nodes.value=[...T],vn(()=>{b==null||b.resume()}))},{immediate:_}),Uu(()=>{b==null||b.stop(),k==null||k.stop()})})},o=()=>{i.run(()=>{let b,k,_=!!t.edges.value.length;b=bo([n.edges,()=>{var T,$;return($=(T=n.edges)==null?void 0:T.value)==null?void 0:$.length}],([T])=>{T&&Array.isArray(T)&&(k==null||k.pause(),t.setEdges(T),!k&&!_&&T.length?_=!0:k==null||k.resume())}),k=bo([t.edges,()=>t.edges.value.length],([T])=>{var $;($=n.edges)!=null&&$.value&&Array.isArray(n.edges.value)&&(b==null||b.pause(),n.edges.value=[...T],vn(()=>{b==null||b.resume()}))},{immediate:_}),Uu(()=>{b==null||b.stop(),k==null||k.stop()})})},a=()=>{i.run(()=>{Ye(()=>e.maxZoom,()=>{e.maxZoom&&an(e.maxZoom)&&t.setMaxZoom(e.maxZoom)},{immediate:!0})})},l=()=>{i.run(()=>{Ye(()=>e.minZoom,()=>{e.minZoom&&an(e.minZoom)&&t.setMinZoom(e.minZoom)},{immediate:!0})})},u=()=>{i.run(()=>{Ye(()=>e.translateExtent,()=>{e.translateExtent&&an(e.translateExtent)&&t.setTranslateExtent(e.translateExtent)},{immediate:!0})})},c=()=>{i.run(()=>{Ye(()=>e.nodeExtent,()=>{e.nodeExtent&&an(e.nodeExtent)&&t.setNodeExtent(e.nodeExtent)},{immediate:!0})})},h=()=>{i.run(()=>{Ye(()=>e.applyDefault,()=>{an(e.applyDefault)&&(t.applyDefault.value=e.applyDefault)},{immediate:!0})})},d=()=>{i.run(()=>{const b=async k=>{let _=k;typeof e.autoConnect=="function"&&(_=await e.autoConnect(k)),_!==!1&&t.addEdges([_])};Ye(()=>e.autoConnect,()=>{an(e.autoConnect)&&(t.autoConnect.value=e.autoConnect)},{immediate:!0}),Ye(t.autoConnect,(k,_,T)=>{k?t.onConnect(b):t.hooks.value.connect.off(b),T(()=>{t.hooks.value.connect.off(b)})},{immediate:!0})})},m=()=>{const b=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const k of Object.keys(e)){const _=k;if(!b.includes(_)){const T=At(()=>e[_]),$=t[_];fh($)&&i.run(()=>{Ye(T,w=>{an(w)&&($.value=w)},{immediate:!0})})}}};(()=>{r(),s(),o(),l(),a(),u(),c(),h(),d(),m()})()}),()=>i.stop()}function x_(){return{edgesChange:Xe(),nodesChange:Xe(),nodeDoubleClick:Xe(),nodeClick:Xe(),nodeMouseEnter:Xe(),nodeMouseMove:Xe(),nodeMouseLeave:Xe(),nodeContextMenu:Xe(),nodeDragStart:Xe(),nodeDrag:Xe(),nodeDragStop:Xe(),nodesInitialized:Xe(),miniMapNodeClick:Xe(),miniMapNodeDoubleClick:Xe(),miniMapNodeMouseEnter:Xe(),miniMapNodeMouseMove:Xe(),miniMapNodeMouseLeave:Xe(),connect:Xe(),connectStart:Xe(),connectEnd:Xe(),clickConnectStart:Xe(),clickConnectEnd:Xe(),paneReady:Xe(),init:Xe(),move:Xe(),moveStart:Xe(),moveEnd:Xe(),selectionDragStart:Xe(),selectionDrag:Xe(),selectionDragStop:Xe(),selectionContextMenu:Xe(),selectionStart:Xe(),selectionEnd:Xe(),viewportChangeStart:Xe(),viewportChange:Xe(),viewportChangeEnd:Xe(),paneScroll:Xe(),paneClick:Xe(),paneContextMenu:Xe(),paneMouseEnter:Xe(),paneMouseMove:Xe(),paneMouseLeave:Xe(),edgeContextMenu:Xe(),edgeMouseEnter:Xe(),edgeMouseMove:Xe(),edgeMouseLeave:Xe(),edgeDoubleClick:Xe(),edgeClick:Xe(),edgeUpdateStart:Xe(),edgeUpdate:Xe(),edgeUpdateEnd:Xe(),updateNodeInternals:Xe(),error:Xe(n=>Sh(n.message))}}function S_(n,e){yp(()=>{for(const[t,i]of Object.entries(e.value)){const r=s=>{n(t,s)};i.fns.add(r),mh(()=>{i.off(r)})}})}function i4(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Qp.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Wa.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Qs.Bezier,style:{}},connectionMode:fs.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Rc()?"Meta":"Control",zoomActivationKeyCode:Rc()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:x_(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const k_=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function __(n,e,t){const i=b_(n),r=ie=>{const J=ie??[];n.hooks.updateNodeInternals.trigger(J)},s=ie=>Fk(ie,n.nodes,n.edges),o=ie=>qk(ie,n.nodes,n.edges),a=ie=>Rs(ie,n.edges),l=({id:ie,type:J,nodeId:se})=>{var oe;return Array.from(((oe=n.connectionLookup.get(`${se}-${J}-${ie??null}`))==null?void 0:oe.values())??[])},u=ie=>{if(ie)return e.value.get(ie)},c=ie=>{if(ie)return t.value.get(ie)},h=(ie,J,se)=>{var oe,ye;const Ze=[];for(const je of ie){const Ue={id:je.id,type:"position",dragging:se,from:je.from};if(J&&(Ue.position=je.position,je.parentNode)){const et=u(je.parentNode);Ue.position={x:Ue.position.x-(((oe=et==null?void 0:et.computedPosition)==null?void 0:oe.x)??0),y:Ue.position.y-(((ye=et==null?void 0:et.computedPosition)==null?void 0:ye.y)??0)}}Ze.push(Ue)}Ze!=null&&Ze.length&&n.hooks.nodesChange.trigger(Ze)},d=ie=>{if(!n.vueFlowRef)return;const J=n.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!J)return;const se=window.getComputedStyle(J),{m22:oe}=new window.DOMMatrixReadOnly(se.transform),ye=[];for(let Ze=0;Ze<ie.length;++Ze){const je=ie[Ze],Ue=u(je.id);if(Ue){const et=bh(je.nodeElement);if(!!(et.width&&et.height&&(Ue.dimensions.width!==et.width||Ue.dimensions.height!==et.height||je.forceUpdate))){const ze=je.nodeElement.getBoundingClientRect();Ue.dimensions=et,Ue.handleBounds.source=s1("source",je.nodeElement,ze,oe),Ue.handleBounds.target=s1("target",je.nodeElement,ze,oe),ye.push({id:Ue.id,type:"dimensions",dimensions:et})}}}!n.fitViewOnInitDone&&n.fitViewOnInit&&i.value.fitView().then(()=>{n.fitViewOnInitDone=!0}),ye.length&&n.hooks.nodesChange.trigger(ye)},m=(ie,J)=>{const se=new Set,oe=new Set;for(const je of ie)Us(je)?se.add(je.id):ps(je)&&oe.add(je.id);const ye=ts(e.value,se,!0),Ze=ts(t.value,oe);if(n.multiSelectionActive){for(const je of se)ye.push(Kr(je,J));for(const je of oe)Ze.push(Kr(je,J))}ye.length&&n.hooks.nodesChange.trigger(ye),Ze.length&&n.hooks.edgesChange.trigger(Ze)},v=ie=>{if(n.multiSelectionActive){const J=ie.map(se=>Kr(se.id,!0));n.hooks.nodesChange.trigger(J);return}n.hooks.nodesChange.trigger(ts(e.value,new Set(ie.map(J=>J.id)),!0)),n.hooks.edgesChange.trigger(ts(t.value))},b=ie=>{if(n.multiSelectionActive){const J=ie.map(se=>Kr(se.id,!0));n.hooks.edgesChange.trigger(J);return}n.hooks.edgesChange.trigger(ts(t.value,new Set(ie.map(J=>J.id)))),n.hooks.nodesChange.trigger(ts(e.value,new Set,!0))},k=ie=>{m(ie,!0)},_=ie=>{const se=(ie||n.nodes).map(oe=>(oe.selected=!1,Kr(oe.id,!1)));n.hooks.nodesChange.trigger(se)},T=ie=>{const se=(ie||n.edges).map(oe=>(oe.selected=!1,Kr(oe.id,!1)));n.hooks.edgesChange.trigger(se)},$=ie=>{if(!ie||!ie.length)return m([],!1);const J=ie.reduce((se,oe)=>{const ye=Kr(oe.id,!1);return Us(oe)?se.nodes.push(ye):se.edges.push(ye),se},{nodes:[],edges:[]});J.nodes.length&&n.hooks.nodesChange.trigger(J.nodes),J.edges.length&&n.hooks.edgesChange.trigger(J.edges)},w=ie=>{var J;(J=n.d3Zoom)==null||J.scaleExtent([ie,n.maxZoom]),n.minZoom=ie},R=ie=>{var J;(J=n.d3Zoom)==null||J.scaleExtent([n.minZoom,ie]),n.maxZoom=ie},Q=ie=>{var J;(J=n.d3Zoom)==null||J.translateExtent(ie),n.translateExtent=ie},M=ie=>{n.nodeExtent=ie,r()},B=ie=>{var J;(J=n.d3Zoom)==null||J.clickDistance(ie)},N=ie=>{n.nodesDraggable=ie,n.nodesConnectable=ie,n.elementsSelectable=ie},K=ie=>{const J=ie instanceof Function?ie(n.nodes):ie;!n.initialized&&!J.length||(n.nodes=o1(J,u,n.hooks.error.trigger))},q=ie=>{const J=ie instanceof Function?ie(n.edges):ie;if(!n.initialized&&!J.length)return;const se=P0(J,n.isValidConnection,u,c,n.hooks.error.trigger,n.defaultEdgeOptions,n.nodes,n.edges);T0(n.connectionLookup,t.value,se),n.edges=se},Z=ie=>{const J=ie instanceof Function?ie([...n.nodes,...n.edges]):ie;!n.initialized&&!J.length||(K(J.filter(Us)),q(J.filter(ps)))},re=ie=>{let J=ie instanceof Function?ie(n.nodes):ie;J=Array.isArray(J)?J:[J];const se=o1(J,u,n.hooks.error.trigger),oe=[];for(const ye of se)oe.push(Kg(ye));oe.length&&n.hooks.nodesChange.trigger(oe)},P=ie=>{let J=ie instanceof Function?ie(n.edges):ie;J=Array.isArray(J)?J:[J];const se=P0(J,n.isValidConnection,u,c,n.hooks.error.trigger,n.defaultEdgeOptions,n.nodes,n.edges),oe=[];for(const ye of se)oe.push(Kg(ye));oe.length&&n.hooks.edgesChange.trigger(oe)},j=(ie,J=!0,se=!1)=>{const oe=ie instanceof Function?ie(n.nodes):ie,ye=Array.isArray(oe)?oe:[oe],Ze=[],je=[];function Ue(ge){const ze=a(ge);for(const tt of ze)(!an(tt.deletable)||tt.deletable)&&je.push(e1(tt.id,tt.source,tt.target,tt.sourceHandle,tt.targetHandle))}function et(ge){const ze=[];for(const tt of n.nodes)tt.parentNode===ge&&ze.push(tt);if(ze.length){for(const tt of ze)Ze.push(Jg(tt.id));J&&Ue(ze);for(const tt of ze)et(tt.id)}}for(const ge of ye){const ze=typeof ge=="string"?u(ge):ge;ze&&(an(ze.deletable)&&!ze.deletable||(Ze.push(Jg(ze.id)),J&&Ue([ze]),se&&et(ze.id)))}je.length&&n.hooks.edgesChange.trigger(je),Ze.length&&n.hooks.nodesChange.trigger(Ze)},L=ie=>{const J=ie instanceof Function?ie(n.edges):ie,se=Array.isArray(J)?J:[J],oe=[];for(const ye of se){const Ze=typeof ye=="string"?c(ye):ye;Ze&&(an(Ze.deletable)&&!Ze.deletable||oe.push(e1(typeof ye=="string"?ye:ye.id,Ze.source,Ze.target,Ze.sourceHandle,Ze.targetHandle)))}n.hooks.edgesChange.trigger(oe)},H=(ie,J,se=!0)=>{const oe=c(ie.id),ye=h_(ie,J,oe,se,n.hooks.error.trigger);if(ye){const[Ze]=P0([ye],n.isValidConnection,u,c,n.hooks.error.trigger,n.defaultEdgeOptions,n.nodes,n.edges);return n.edges.splice(n.edges.indexOf(oe),1,Ze),T0(n.connectionLookup,t.value,[Ze]),Ze}return!1},ee=(ie,J,se={replace:!1})=>{const oe=c(ie);if(!oe)return;const ye=typeof J=="function"?J(oe):J;oe.data=se.replace?ye:{...oe.data,...ye}},ce=ie=>Yg(ie,n.nodes),te=ie=>{const J=Yg(ie,n.edges);return T0(n.connectionLookup,t.value,J),J},he=(ie,J,se={replace:!1})=>{const oe=u(ie);if(!oe)return;const ye=typeof J=="function"?J(oe):J;se.replace?n.nodes.splice(n.nodes.indexOf(oe),1,ye):Object.assign(oe,ye)},W=(ie,J,se={replace:!1})=>{const oe=u(ie);if(!oe)return;const ye=typeof J=="function"?J(oe):J;oe.data=se.replace?ye:{...oe.data,...ye}},ae=(ie,J,se=!1)=>{se?n.connectionClickStartHandle=ie:n.connectionStartHandle=ie,n.connectionEndHandle=null,n.connectionStatus=null,J&&(n.connectionPosition=J)},Oe=(ie,J=null,se=null)=>{n.connectionStartHandle&&(n.connectionPosition=ie,n.connectionEndHandle=J,n.connectionStatus=se)},we=(ie,J)=>{n.connectionPosition={x:Number.NaN,y:Number.NaN},n.connectionEndHandle=null,n.connectionStatus=null,J?n.connectionClickStartHandle=null:n.connectionStartHandle=null},Ne=ie=>{const J=Vk(ie),se=J?null:Ra(ie)?ie:u(ie.id);return!J&&!se?[null,null,J]:[J?ie:Cc(se),se,J]},Re=(ie,J=!0,se=n.nodes)=>{const[oe,ye,Ze]=Ne(ie);if(!oe)return[];const je=[];for(const Ue of se||n.nodes){if(!Ze&&(Ue.id===ye.id||!Ue.computedPosition))continue;const et=Cc(Ue),ge=Ec(et,oe);(J&&ge>0||ge>=Number(oe.width)*Number(oe.height))&&je.push(Ue)}return je},Ke=(ie,J,se=!0)=>{const[oe]=Ne(ie);if(!oe)return!1;const ye=Ec(oe,J);return se&&ye>0||ye>=Number(oe.width)*Number(oe.height)},be=ie=>{const{viewport:J,dimensions:se,d3Zoom:oe,d3Selection:ye,translateExtent:Ze}=n;if(!oe||!ye||!ie.x&&!ie.y)return!1;const je=Uo.translate(J.x+ie.x,J.y+ie.y).scale(J.zoom),Ue=[[0,0],[se.width,se.height]],et=oe.constrain()(je,Ue,Ze),ge=n.viewport.x!==et.x||n.viewport.y!==et.y||n.viewport.zoom!==et.k;return oe.transform(ye,et),ge},ht=ie=>{const J=ie instanceof Function?ie(n):ie,se=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];an(J.defaultEdgeOptions)&&(n.defaultEdgeOptions=J.defaultEdgeOptions);const oe=J.modelValue||J.nodes||J.edges?[]:void 0;oe&&(J.modelValue&&oe.push(...J.modelValue),J.nodes&&oe.push(...J.nodes),J.edges&&oe.push(...J.edges),Z(oe));const ye=()=>{an(J.maxZoom)&&R(J.maxZoom),an(J.minZoom)&&w(J.minZoom),an(J.translateExtent)&&Q(J.translateExtent)};for(const Ze of Object.keys(J)){const je=Ze,Ue=J[je];![...k_,...se].includes(je)&&an(Ue)&&(n[je]=Ue)}Nd(()=>n.d3Zoom).not.toBeNull().then(ye),n.initialized||(n.initialized=!0)};return{updateNodePositions:h,updateNodeDimensions:d,setElements:Z,setNodes:K,setEdges:q,addNodes:re,addEdges:P,removeNodes:j,removeEdges:L,findNode:u,findEdge:c,updateEdge:H,updateEdgeData:ee,updateNode:he,updateNodeData:W,applyEdgeChanges:te,applyNodeChanges:ce,addSelectedElements:k,addSelectedNodes:v,addSelectedEdges:b,setMinZoom:w,setMaxZoom:R,setTranslateExtent:Q,setNodeExtent:M,setPaneClickDistance:B,removeSelectedElements:$,removeSelectedNodes:_,removeSelectedEdges:T,startConnection:ae,updateConnection:Oe,endConnection:we,setInteractive:N,setState:ht,getIntersectingNodes:Re,getIncomers:s,getOutgoers:o,getConnectedEdges:a,getHandleConnections:l,isNodeIntersecting:Ke,panBy:be,fitView:ie=>i.value.fitView(ie),zoomIn:ie=>i.value.zoomIn(ie),zoomOut:ie=>i.value.zoomOut(ie),zoomTo:(ie,J)=>i.value.zoomTo(ie,J),setViewport:(ie,J)=>i.value.setViewport(ie,J),setTransform:(ie,J)=>i.value.setTransform(ie,J),getViewport:()=>i.value.getViewport(),getTransform:()=>i.value.getTransform(),setCenter:(ie,J,se)=>i.value.setCenter(ie,J,se),fitBounds:(ie,J)=>i.value.fitBounds(ie,J),project:ie=>i.value.project(ie),screenToFlowCoordinate:ie=>i.value.screenToFlowCoordinate(ie),flowToScreenCoordinate:ie=>i.value.flowToScreenCoordinate(ie),toObject:()=>{const ie=[],J=[];for(const se of n.nodes){const{computedPosition:oe,handleBounds:ye,selected:Ze,dimensions:je,isParent:Ue,resizing:et,dragging:ge,events:ze,...tt}=se;ie.push(tt)}for(const se of n.edges){const{selected:oe,sourceNode:ye,targetNode:Ze,events:je,...Ue}=se;J.push(Ue)}return JSON.parse(JSON.stringify({nodes:ie,edges:J,position:[n.viewport.x,n.viewport.y],zoom:n.viewport.zoom,viewport:n.viewport}))},fromObject:ie=>new Promise(J=>{const{nodes:se,edges:oe,position:ye,zoom:Ze,viewport:je}=ie;if(se&&K(se),oe&&q(oe),je!=null&&je.x&&(je!=null&&je.y)||ye){const Ue=(je==null?void 0:je.x)||ye[0],et=(je==null?void 0:je.y)||ye[1],ge=(je==null?void 0:je.zoom)||Ze||n.viewport.zoom;return Nd(()=>i.value.viewportInitialized).toBe(!0).then(()=>{i.value.setViewport({x:Ue,y:et,zoom:ge}).then(()=>{J(!0)})})}else J(!0)}),updateNodeInternals:r,viewportHelper:i,$reset:()=>{const ie=i4();if(n.edges=[],n.nodes=[],n.d3Zoom&&n.d3Selection){const J=Uo.translate(ie.defaultViewport.x??0,ie.defaultViewport.y??0).scale(Rr(ie.defaultViewport.zoom??1,ie.minZoom,ie.maxZoom)),se=n.viewportRef.getBoundingClientRect(),oe=[[0,0],[se.width,se.height]],ye=n.d3Zoom.constrain()(J,oe,ie.translateExtent);n.d3Zoom.transform(n.d3Selection,ye)}ht(ie)},$destroy:()=>{}}}const $_=["data-id","data-handleid","data-nodeid","data-handlepos"],A_={name:"Handle",compatConfig:{MODE:3}},An=rt({...A_,props:{id:{default:null},type:{},position:{default:()=>We.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(n,{expose:e}){const t=W6(n,["position","connectable","connectableStart","connectableEnd","id"]),i=At(()=>t.type??"source"),r=At(()=>t.isValidConnection??null),{id:s,connectionStartHandle:o,connectionClickStartHandle:a,connectionEndHandle:l,vueFlowRef:u,nodesConnectable:c,noDragClassName:h,noPanClassName:d}=Rt(),{id:m,node:v,nodeEl:b,connectedEdges:k}=t4(),_=Me(),T=At(()=>typeof n.connectableStart<"u"?n.connectableStart:!0),$=At(()=>typeof n.connectableEnd<"u"?n.connectableEnd:!0),w=At(()=>{var q,Z,re,P,j,L;return((q=o.value)==null?void 0:q.nodeId)===m&&((Z=o.value)==null?void 0:Z.id)===n.id&&((re=o.value)==null?void 0:re.type)===i.value||((P=l.value)==null?void 0:P.nodeId)===m&&((j=l.value)==null?void 0:j.id)===n.id&&((L=l.value)==null?void 0:L.type)===i.value}),R=At(()=>{var q,Z,re;return((q=a.value)==null?void 0:q.nodeId)===m&&((Z=a.value)==null?void 0:Z.id)===n.id&&((re=a.value)==null?void 0:re.type)===i.value}),{handlePointerDown:Q,handleClick:M}=e4({nodeId:m,handleId:n.id,isValidConnection:r,type:i}),B=qe(()=>typeof n.connectable=="string"&&n.connectable==="single"?!k.value.some(q=>{const Z=q[`${i.value}Handle`];return q[i.value]!==m?!1:Z?Z===n.id:!0}):typeof n.connectable=="number"?k.value.filter(q=>{const Z=q[`${i.value}Handle`];return q[i.value]!==m?!1:Z?Z===n.id:!0}).length<n.connectable:typeof n.connectable=="function"?n.connectable(v,k.value):an(n.connectable)?n.connectable:c.value);gn(()=>{var q;if(!v.dimensions.width||!v.dimensions.height)return;const Z=(q=v.handleBounds[i.value])==null?void 0:q.find(ce=>ce.id===n.id);if(!u.value||Z)return;const re=u.value.querySelector(".vue-flow__transformationpane");if(!b.value||!_.value||!re||!n.id)return;const P=b.value.getBoundingClientRect(),j=_.value.getBoundingClientRect(),L=window.getComputedStyle(re),{m22:H}=new window.DOMMatrixReadOnly(L.transform),ee={id:n.id,position:n.position,x:(j.left-P.left)/H,y:(j.top-P.top)/H,type:i.value,nodeId:m,...bh(_.value)};v.handleBounds[i.value]=[...v.handleBounds[i.value]??[],ee]}),er(()=>{const q=v.handleBounds[i.value];q&&(v.handleBounds[i.value]=q.filter(Z=>Z.id!==n.id))});function N(q){const Z=zp(q);B.value&&T.value&&(Z&&q.button===0||!Z)&&Q(q)}function K(q){!m||!a.value&&!T.value||B.value&&M(q)}return e({handleClick:M,handlePointerDown:Q,onClick:K,onPointerDown:N}),(q,Z)=>(me(),_e("div",{ref_key:"handle",ref:_,"data-id":`${V(s)}-${V(m)}-${n.id}-${i.value}`,"data-handleid":n.id,"data-nodeid":V(m),"data-handlepos":q.position,class:qt(["vue-flow__handle",[`vue-flow__handle-${q.position}`,`vue-flow__handle-${n.id}`,V(h),V(d),i.value,{connectable:B.value,connecting:R.value,connectablestart:T.value,connectableend:$.value,connectionindicator:B.value&&(T.value&&!w.value||$.value&&w.value)}]]),onMousedown:N,onTouchstartPassive:N,onClick:K},[Dt(q.$slots,"default",{id:q.id})],42,$_))}}),$h=function({sourcePosition:n=We.Bottom,targetPosition:e=We.Top,label:t,connectable:i=!0,isValidTargetPos:r,isValidSourcePos:s,data:o}){const a=o.label||t;return[Qt(An,{type:"target",position:e,connectable:i,isValidConnection:r}),typeof a!="string"&&a?Qt(a):Qt(xt,[a]),Qt(An,{type:"source",position:n,connectable:i,isValidConnection:s})]};$h.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];$h.inheritAttrs=!1;$h.compatConfig={MODE:3};const T_=$h,Ah=function({targetPosition:n=We.Top,label:e,connectable:t=!0,isValidTargetPos:i,data:r}){const s=r.label||e;return[Qt(An,{type:"target",position:n,connectable:t,isValidConnection:i}),typeof s!="string"&&s?Qt(s):Qt(xt,[s])]};Ah.props=["targetPosition","label","isValidTargetPos","connectable","data"];Ah.inheritAttrs=!1;Ah.compatConfig={MODE:3};const P_=Ah,Th=function({sourcePosition:n=We.Bottom,label:e,connectable:t=!0,isValidSourcePos:i,data:r}){const s=r.label||e;return[typeof s!="string"&&s?Qt(s):Qt(xt,[s]),Qt(An,{type:"source",position:n,connectable:t,isValidConnection:i})]};Th.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Th.inheritAttrs=!1;Th.compatConfig={MODE:3};const M_=Th,C_=["transform"],E_=["width","height","x","y","rx","ry"],Q_=["y"],R_={name:"EdgeText",compatConfig:{MODE:3}},z_=rt({...R_,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(n){const e=Me({x:0,y:0,width:0,height:0}),t=Me(null),i=qe(()=>`translate(${n.x-e.value.width/2} ${n.y-e.value.height/2})`);gn(r),Ye([()=>n.x,()=>n.y,t,()=>n.label],r);function r(){if(!t.value)return;const s=t.value.getBBox();(s.width!==e.value.width||s.height!==e.value.height)&&(e.value=s)}return(s,o)=>(me(),_e("g",{transform:i.value,class:"vue-flow__edge-textwrapper"},[s.labelShowBg?(me(),_e("rect",{key:0,class:"vue-flow__edge-textbg",width:`${e.value.width+2*s.labelBgPadding[0]}px`,height:`${e.value.height+2*s.labelBgPadding[1]}px`,x:-s.labelBgPadding[0],y:-s.labelBgPadding[1],style:kn(s.labelBgStyle),rx:s.labelBgBorderRadius,ry:s.labelBgBorderRadius},null,12,E_)):kt("",!0),fe("text",ni(s.$attrs,{ref_key:"el",ref:t,class:"vue-flow__edge-text",y:e.value.height/2,dy:"0.3em",style:s.labelStyle}),[Dt(s.$slots,"default",{},()=>[typeof s.label!="string"?(me(),ct(ss(s.label),{key:0})):(me(),_e(xt,{key:1},[Ce(it(s.label),1)],64))])],16,Q_)],8,C_))}}),D_=["id","d","marker-end","marker-start"],I_=["d","stroke-width"],N_={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Ph=rt({...N_,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(n,{expose:e}){const t=Me(null),i=Me(null),r=Me(null),s=bp();return e({pathEl:t,interactionEl:i,labelEl:r}),(o,a)=>(me(),_e(xt,null,[fe("path",ni(V(s),{id:o.id,ref_key:"pathEl",ref:t,d:o.path,class:"vue-flow__edge-path","marker-end":o.markerEnd,"marker-start":o.markerStart}),null,16,D_),o.interactionWidth?(me(),_e("path",{key:0,ref_key:"interactionEl",ref:i,fill:"none",d:o.path,"stroke-width":o.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,I_)):kt("",!0),o.label&&o.labelX&&o.labelY?(me(),ct(z_,{key:1,ref_key:"labelEl",ref:r,x:o.labelX,y:o.labelY,label:o.label,"label-show-bg":o.labelShowBg,"label-bg-style":o.labelBgStyle,"label-bg-padding":o.labelBgPadding,"label-bg-border-radius":o.labelBgBorderRadius,"label-style":o.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):kt("",!0)],64))}});function r4({sourceX:n,sourceY:e,targetX:t,targetY:i}){const r=Math.abs(t-n)/2,s=t<n?t+r:t-r,o=Math.abs(i-e)/2,a=i<e?i+o:i-o;return[s,a,r,o]}function s4({sourceX:n,sourceY:e,targetX:t,targetY:i,sourceControlX:r,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=n*.125+r*.375+o*.375+t*.125,u=e*.125+s*.375+a*.375+i*.125,c=Math.abs(l-n),h=Math.abs(u-e);return[l,u,c,h]}function cu(n,e){return n>=0?.5*n:e*25*Math.sqrt(-n)}function c1({pos:n,x1:e,y1:t,x2:i,y2:r,c:s}){let o,a;switch(n){case We.Left:o=e-cu(e-i,s),a=t;break;case We.Right:o=e+cu(i-e,s),a=t;break;case We.Top:o=e,a=t-cu(t-r,s);break;case We.Bottom:o=e,a=t+cu(r-t,s);break}return[o,a]}function o4(n){const{sourceX:e,sourceY:t,sourcePosition:i=We.Bottom,targetX:r,targetY:s,targetPosition:o=We.Top,curvature:a=.25}=n,[l,u]=c1({pos:i,x1:e,y1:t,x2:r,y2:s,c:a}),[c,h]=c1({pos:o,x1:r,y1:s,x2:e,y2:t,c:a}),[d,m,v,b]=s4({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:h});return[`M${e},${t} C${l},${u} ${c},${h} ${r},${s}`,d,m,v,b]}function h1({pos:n,x1:e,y1:t,x2:i,y2:r}){let s,o;switch(n){case We.Left:case We.Right:s=.5*(e+i),o=t;break;case We.Top:case We.Bottom:s=e,o=.5*(t+r);break}return[s,o]}function a4(n){const{sourceX:e,sourceY:t,sourcePosition:i=We.Bottom,targetX:r,targetY:s,targetPosition:o=We.Top}=n,[a,l]=h1({pos:i,x1:e,y1:t,x2:r,y2:s}),[u,c]=h1({pos:o,x1:r,y1:s,x2:e,y2:t}),[h,d,m,v]=s4({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${s}`,h,d,m,v]}const d1={[We.Left]:{x:-1,y:0},[We.Right]:{x:1,y:0},[We.Top]:{x:0,y:-1},[We.Bottom]:{x:0,y:1}};function L_({source:n,sourcePosition:e=We.Bottom,target:t}){return e===We.Left||e===We.Right?n.x<t.x?{x:1,y:0}:{x:-1,y:0}:n.y<t.y?{x:0,y:1}:{x:0,y:-1}}function f1(n,e){return Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2)}function Z_({source:n,sourcePosition:e=We.Bottom,target:t,targetPosition:i=We.Top,center:r,offset:s}){const o=d1[e],a=d1[i],l={x:n.x+o.x*s,y:n.y+o.y*s},u={x:t.x+a.x*s,y:t.y+a.y*s},c=L_({source:l,sourcePosition:e,target:u}),h=c.x!==0?"x":"y",d=c[h];let m,v,b;const k={x:0,y:0},_={x:0,y:0},[T,$,w,R]=r4({sourceX:n.x,sourceY:n.y,targetX:t.x,targetY:t.y});if(o[h]*a[h]===-1){v=r.x??T,b=r.y??$;const M=[{x:v,y:l.y},{x:v,y:u.y}],B=[{x:l.x,y:b},{x:u.x,y:b}];o[h]===d?m=h==="x"?M:B:m=h==="x"?B:M}else{const M=[{x:l.x,y:u.y}],B=[{x:u.x,y:l.y}];if(h==="x"?m=o.x===d?B:M:m=o.y===d?M:B,e===i){const re=Math.abs(n[h]-t[h]);if(re<=s){const P=Math.min(s-1,s-re);o[h]===d?k[h]=(l[h]>n[h]?-1:1)*P:_[h]=(u[h]>t[h]?-1:1)*P}}if(e!==i){const re=h==="x"?"y":"x",P=o[h]===a[re],j=l[re]>u[re],L=l[re]<u[re];(o[h]===1&&(!P&&j||P&&L)||o[h]!==1&&(!P&&L||P&&j))&&(m=h==="x"?M:B)}const N={x:l.x+k.x,y:l.y+k.y},K={x:u.x+_.x,y:u.y+_.y},q=Math.max(Math.abs(N.x-m[0].x),Math.abs(K.x-m[0].x)),Z=Math.max(Math.abs(N.y-m[0].y),Math.abs(K.y-m[0].y));q>=Z?(v=(N.x+K.x)/2,b=m[0].y):(v=m[0].x,b=(N.y+K.y)/2)}return[[n,{x:l.x+k.x,y:l.y+k.y},...m,{x:u.x+_.x,y:u.y+_.y},t],v,b,w,R]}function B_(n,e,t,i){const r=Math.min(f1(n,e)/2,f1(e,t)/2,i),{x:s,y:o}=e;if(n.x===s&&s===t.x||n.y===o&&o===t.y)return`L${s} ${o}`;if(n.y===o){const u=n.x<t.x?-1:1,c=n.y<t.y?1:-1;return`L ${s+r*u},${o}Q ${s},${o} ${s},${o+r*c}`}const a=n.x<t.x?1:-1,l=n.y<t.y?-1:1;return`L ${s},${o+r*l}Q ${s},${o} ${s+r*a},${o}`}function Kd(n){const{sourceX:e,sourceY:t,sourcePosition:i=We.Bottom,targetX:r,targetY:s,targetPosition:o=We.Top,borderRadius:a=5,centerX:l,centerY:u,offset:c=20}=n,[h,d,m,v,b]=Z_({source:{x:e,y:t},sourcePosition:i,target:{x:r,y:s},targetPosition:o,center:{x:l,y:u},offset:c});return[h.reduce((_,T,$)=>{let w;return $>0&&$<h.length-1?w=B_(h[$-1],T,h[$+1],a):w=`${$===0?"M":"L"}${T.x} ${T.y}`,_+=w,_},""),d,m,v,b]}function V_(n){const{sourceX:e,sourceY:t,targetX:i,targetY:r}=n,[s,o,a,l]=r4({sourceX:e,sourceY:t,targetX:i,targetY:r});return[`M ${e},${t}L ${i},${r}`,s,o,a,l]}const X_=rt({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(n,{attrs:e}){return()=>{const[t,i,r]=V_(n);return Qt(Ph,{path:t,labelX:i,labelY:r,...e,...n})}}}),q_=X_,F_=rt({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(n,{attrs:e}){return()=>{const[t,i,r]=Kd({...n,sourcePosition:n.sourcePosition??We.Bottom,targetPosition:n.targetPosition??We.Top});return Qt(Ph,{path:t,labelX:i,labelY:r,...e,...n})}}}),l4=F_,H_=rt({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(n,{attrs:e}){return()=>Qt(l4,{...n,...e,borderRadius:0})}}),j_=H_,U_=rt({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(n,{attrs:e}){return()=>{const[t,i,r]=o4({...n,sourcePosition:n.sourcePosition??We.Bottom,targetPosition:n.targetPosition??We.Top});return Qt(Ph,{path:t,labelX:i,labelY:r,...e,...n})}}}),G_=U_,W_=rt({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(n,{attrs:e}){return()=>{const[t,i,r]=a4({...n,sourcePosition:n.sourcePosition??We.Bottom,targetPosition:n.targetPosition??We.Top});return Qt(Ph,{path:t,labelX:i,labelY:r,...e,...n})}}}),Y_=W_,K_={input:M_,default:T_,output:P_},J_={default:G_,straight:q_,step:j_,smoothstep:l4,simplebezier:Y_};function e$(n,e,t){const i=qe(()=>b=>e.value.get(b)),r=qe(()=>b=>t.value.get(b)),s=qe(()=>{const b={...J_,...n.edgeTypes},k=Object.keys(b);for(const _ of n.edges)_.type&&!k.includes(_.type)&&(b[_.type]=_.type);return b}),o=qe(()=>{const b={...K_,...n.nodeTypes},k=Object.keys(b);for(const _ of n.nodes)_.type&&!k.includes(_.type)&&(b[_.type]=_.type);return b}),a=qe(()=>n.onlyRenderVisibleElements?q2(n.nodes,{x:0,y:0,width:n.dimensions.width,height:n.dimensions.height},n.viewport,!0):n.nodes),l=qe(()=>{if(n.onlyRenderVisibleElements){const b=[];for(const k of n.edges){const _=e.value.get(k.source),T=e.value.get(k.target);Jk({sourcePos:_.computedPosition||{x:0,y:0},targetPos:T.computedPosition||{x:0,y:0},sourceWidth:_.dimensions.width,sourceHeight:_.dimensions.height,targetWidth:T.dimensions.width,targetHeight:T.dimensions.height,width:n.dimensions.width,height:n.dimensions.height,viewport:n.viewport})&&b.push(k)}return b}return n.edges}),u=qe(()=>[...a.value,...l.value]),c=qe(()=>{const b=[];for(const k of n.nodes)k.selected&&b.push(k);return b}),h=qe(()=>{const b=[];for(const k of n.edges)k.selected&&b.push(k);return b}),d=qe(()=>[...c.value,...h.value]),m=qe(()=>{const b=[];for(const k of n.nodes)k.dimensions.width&&k.dimensions.height&&k.handleBounds!==void 0&&b.push(k);return b}),v=qe(()=>a.value.length>0&&m.value.length===a.value.length);return{getNode:i,getEdge:r,getElements:u,getEdgeTypes:s,getNodeTypes:o,getEdges:l,getNodes:a,getSelectedElements:d,getSelectedNodes:c,getSelectedEdges:h,getNodesInitialized:m,areNodesInitialized:v}}class zs{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var e;const t=(e=El())==null?void 0:e.appContext.app,i=(t==null?void 0:t.config.globalProperties.$vueFlowStorage)??zs.instance;return zs.instance=i??new zs,t&&(t.config.globalProperties.$vueFlowStorage=zs.instance),zs.instance}set(e,t){return this.flows.set(e,t)}get(e){return this.flows.get(e)}remove(e){return this.flows.delete(e)}create(e,t){const i=i4(),r=Pr(i),s={};for(const[d,m]of Object.entries(r.hooks)){const v=`on${d.charAt(0).toUpperCase()+d.slice(1)}`;s[v]=m.on}const o={};for(const[d,m]of Object.entries(r.hooks))o[d]=m.trigger;const a=qe(()=>{const d=new Map;for(const m of r.nodes)d.set(m.id,m);return d}),l=qe(()=>{const d=new Map;for(const m of r.edges)d.set(m.id,m);return d}),u=e$(r,a,l),c=__(r,a,l);c.setState({...r,...t});const h={...s,...u,...c,...n8(r),nodeLookup:a,edgeLookup:l,emits:o,id:e,vueFlowVersion:"1.42.1",$destroy:()=>{this.remove(e)}};return this.set(e,h),h}getId(){return`vue-flow-${this.currentId++}`}}function Rt(n){const e=zs.getInstance(),t=Ey(),i=typeof n=="object",r=i?n:{id:n},s=r.id,o=s??(t==null?void 0:t.vueFlowId);let a;if(t){const l=Mi(u1,null);typeof l<"u"&&l!==null&&(!o||l.id===o)&&(a=l)}if(a||o&&(a=e.get(o)),!a||o&&a.id!==o){const l=s??e.getId(),u=e.create(l,r);a=u,(t??Qy(!0)).run(()=>{Ye(u.applyDefault,(h,d,m)=>{const v=k=>{u.applyNodeChanges(k)},b=k=>{u.applyEdgeChanges(k)};h?(u.onNodesChange(v),u.onEdgesChange(b)):(u.hooks.value.nodesChange.off(v),u.hooks.value.edgesChange.off(b)),m(()=>{u.hooks.value.nodesChange.off(v),u.hooks.value.edgesChange.off(b)})},{immediate:!0}),mh(()=>{if(a){const h=e.get(a.id);h?h.$destroy():Sh(`No store instance found for id ${a.id} in storage.`)}})})}else i&&a.setState(r);if(t&&(Mr(u1,a),t.vueFlowId=a.id),i){const l=El();(l==null?void 0:l.type.name)!=="VueFlow"&&a.emits.error(new fn(ln.USEVUEFLOW_OPTIONS))}return a}function t$(n){const{emits:e,dimensions:t}=Rt();let i;gn(()=>{const r=n.value,s=()=>{if(!r)return;const o=bh(r);(o.width===0||o.height===0)&&e.error(new fn(ln.MISSING_VIEWPORT_DIMENSIONS)),t.value={width:o.width||500,height:o.height||500}};s(),window.addEventListener("resize",s),r&&(i=new ResizeObserver(()=>s()),i.observe(r)),dh(()=>{window.removeEventListener("resize",s),i&&r&&i.unobserve(r)})})}const n$={name:"UserSelection",compatConfig:{MODE:3}},i$=rt({...n$,props:{userSelectionRect:{}},setup(n){return(e,t)=>(me(),_e("div",{class:"vue-flow__selection vue-flow__container",style:kn({width:`${e.userSelectionRect.width}px`,height:`${e.userSelectionRect.height}px`,transform:`translate(${e.userSelectionRect.x}px, ${e.userSelectionRect.y}px)`})},null,4))}}),r$=["tabIndex"],s$={name:"NodesSelection",compatConfig:{MODE:3}},o$=rt({...s$,setup(n){const{emits:e,viewport:t,getSelectedNodes:i,noPanClassName:r,disableKeyboardA11y:s,userSelectionActive:o}=Rt(),a=n4(),l=Me(null),u=K2({el:l,onStart(v){e.selectionDragStart(v)},onDrag(v){e.selectionDrag(v)},onStop(v){e.selectionDragStop(v)}});gn(()=>{var v;s.value||(v=l.value)==null||v.focus({preventScroll:!0})});const c=qe(()=>wh(i.value)),h=qe(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function d(v){e.selectionContextMenu({event:v,nodes:i.value})}function m(v){s||Ro[v.key]&&(v.preventDefault(),a({x:Ro[v.key].x,y:Ro[v.key].y},v.shiftKey))}return(v,b)=>!V(o)&&c.value.width&&c.value.height?(me(),_e("div",{key:0,class:qt(["vue-flow__nodesselection vue-flow__container",V(r)]),style:kn({transform:`translate(${V(t).x}px,${V(t).y}px) scale(${V(t).zoom})`})},[fe("div",{ref_key:"el",ref:l,class:qt([{dragging:V(u)},"vue-flow__nodesselection-rect"]),style:kn(h.value),tabIndex:V(s)?void 0:-1,onContextmenu:d,onKeydown:m},null,46,r$)],6)):kt("",!0)}});function a$(n,e){return{x:n.clientX-e.left,y:n.clientY-e.top}}const l$={name:"Pane",compatConfig:{MODE:3}},u$=rt({...l$,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(n){const{vueFlowRef:e,nodes:t,viewport:i,emits:r,userSelectionActive:s,removeSelectedElements:o,userSelectionRect:a,elementsSelectable:l,nodesSelectionActive:u,getSelectedEdges:c,getSelectedNodes:h,removeNodes:d,removeEdges:m,selectionMode:v,deleteKeyCode:b,multiSelectionKeyCode:k,multiSelectionActive:_,edgeLookup:T,nodeLookup:$,connectionLookup:w,defaultEdgeOptions:R}=Rt(),Q=Me(null),M=Me(new Set),B=Me(new Set),N=Me(),K=At(()=>l.value&&(n.isSelecting||s.value));let q=!1,Z=!1;const re=Ya(b,{actInsideInputWithModifier:!1}),P=Ya(k);Ye(re,W=>{W&&(d(h.value),m(c.value),u.value=!1)}),Ye(P,W=>{_.value=W});function j(W,ae){return Oe=>{Oe.target===ae&&(W==null||W(Oe))}}function L(W){if(q){q=!1;return}r.paneClick(W),o(),u.value=!1}function H(W){W.preventDefault(),W.stopPropagation(),r.paneContextMenu(W)}function ee(W){r.paneScroll(W)}function ce(W){var ae,Oe,we;if(N.value=(ae=e.value)==null?void 0:ae.getBoundingClientRect(),!l.value||!n.isSelecting||W.button!==0||W.target!==Q.value||!N.value)return;(we=(Oe=W.target)==null?void 0:Oe.setPointerCapture)==null||we.call(Oe,W.pointerId);const{x:Ne,y:Re}=a$(W,N.value);Z=!0,q=!1,o(),a.value={width:0,height:0,startX:Ne,startY:Re,x:Ne,y:Re},r.selectionStart(W)}function te(W){var ae;if(!N.value||!a.value)return;q=!0;const{x:Oe,y:we}=ds(W,N.value),{startX:Ne=0,startY:Re=0}=a.value,Ke={startX:Ne,startY:Re,x:Oe<Ne?Oe:Ne,y:we<Re?we:Re,width:Math.abs(Oe-Ne),height:Math.abs(we-Re)},be=M.value,ht=B.value;M.value=new Set(q2(t.value,Ke,i.value,v.value===Qp.Partial,!0).map(Ie=>Ie.id)),B.value=new Set;const Le=((ae=R.value)==null?void 0:ae.selectable)??!0;for(const Ie of M.value){const Je=w.value.get(Ie);if(Je)for(const{edgeId:ie}of Je.values()){const J=T.value.get(ie);J&&(J.selectable??Le)&&B.value.add(ie)}}if(!l1(be,M.value)){const Ie=ts($.value,M.value,!0);r.nodesChange(Ie)}if(!l1(ht,B.value)){const Ie=ts(T.value,B.value);r.edgesChange(Ie)}a.value=Ke,s.value=!0,u.value=!1}function he(W){var ae;W.button!==0||!Z||((ae=W.target)==null||ae.releasePointerCapture(W.pointerId),!s.value&&a.value&&W.target===Q.value&&L(W),s.value=!1,a.value=null,u.value=M.value.size>0,r.selectionEnd(W),n.selectionKeyPressed&&(q=!1),Z=!1)}return(W,ae)=>(me(),_e("div",{ref_key:"container",ref:Q,class:qt(["vue-flow__pane vue-flow__container",{selection:W.isSelecting}]),onClick:ae[0]||(ae[0]=Oe=>K.value?void 0:j(L,Q.value)(Oe)),onContextmenu:ae[1]||(ae[1]=Oe=>j(H,Q.value)(Oe)),onWheelPassive:ae[2]||(ae[2]=Oe=>j(ee,Q.value)(Oe)),onPointerenter:ae[3]||(ae[3]=Oe=>K.value?void 0:V(r).paneMouseEnter(Oe)),onPointerdown:ae[4]||(ae[4]=Oe=>K.value?ce(Oe):V(r).paneMouseMove(Oe)),onPointermove:ae[5]||(ae[5]=Oe=>K.value?te(Oe):V(r).paneMouseMove(Oe)),onPointerup:ae[6]||(ae[6]=Oe=>K.value?he(Oe):void 0),onPointerleave:ae[7]||(ae[7]=Oe=>V(r).paneMouseLeave(Oe))},[Dt(W.$slots,"default"),V(s)&&V(a)?(me(),ct(i$,{key:0,"user-selection-rect":V(a)},null,8,["user-selection-rect"])):kt("",!0),V(u)&&V(h).length?(me(),ct(o$,{key:1})):kt("",!0)],34))}}),c$={name:"Transform",compatConfig:{MODE:3}},h$=rt({...c$,setup(n){const{viewport:e,fitViewOnInit:t,fitViewOnInitDone:i}=Rt(),r=qe(()=>t.value?!i.value:!1),s=qe(()=>`translate(${e.value.x}px,${e.value.y}px) scale(${e.value.zoom})`);return(o,a)=>(me(),_e("div",{class:"vue-flow__transformationpane vue-flow__container",style:kn({transform:s.value,opacity:r.value?0:void 0})},[Dt(o.$slots,"default")],4))}}),d$={name:"Viewport",compatConfig:{MODE:3}},f$=rt({...d$,setup(n){const{minZoom:e,maxZoom:t,defaultViewport:i,translateExtent:r,zoomActivationKeyCode:s,selectionKeyCode:o,panActivationKeyCode:a,panOnScroll:l,panOnScrollMode:u,panOnScrollSpeed:c,panOnDrag:h,zoomOnDoubleClick:d,zoomOnPinch:m,zoomOnScroll:v,preventScrolling:b,noWheelClassName:k,noPanClassName:_,emits:T,connectionStartHandle:$,userSelectionActive:w,paneDragging:R,d3Zoom:Q,d3Selection:M,d3ZoomHandler:B,viewport:N,viewportRef:K,paneClickDistance:q}=Rt();t$(K);const Z=Me(!1),re=Me(!1);let P=null,j=!1,L=0,H={x:0,y:0,zoom:0};const ee=Ya(a),ce=Ya(o),te=Ya(s),he=At(()=>(!ce.value||ce.value&&o.value===!0)&&(ee.value||h.value)),W=At(()=>ee.value||l.value),ae=At(()=>ce.value||o.value===!0&&he.value!==!0);gn(()=>{if(!K.value){Sh("Viewport element is missing");return}const be=K.value,ht=be.getBoundingClientRect(),Le=Ik().clickDistance(q.value).scaleExtent([e.value,t.value]).translateExtent(r.value),Ie=_i(be).call(Le),Je=Ie.on("wheel.zoom"),ie=Uo.translate(i.value.x??0,i.value.y??0).scale(Rr(i.value.zoom??1,e.value,t.value)),J=[[0,0],[ht.width,ht.height]],se=Le.constrain()(ie,J,r.value);Le.transform(Ie,se),Le.wheelDelta(we),Q.value=Le,M.value=Ie,B.value=Je,N.value={x:se.x,y:se.y,zoom:se.k},Le.on("start",oe=>{var ye;if(!oe.sourceEvent)return null;L=oe.sourceEvent.button,Z.value=!0;const Ze=Re(oe.transform);((ye=oe.sourceEvent)==null?void 0:ye.type)==="mousedown"&&(R.value=!0),H=Ze,T.viewportChangeStart(Ze),T.moveStart({event:oe,flowTransform:Ze})}),Le.on("end",oe=>{if(!oe.sourceEvent)return null;if(Z.value=!1,R.value=!1,Oe(he.value,L??0)&&!j&&T.paneContextMenu(oe.sourceEvent),j=!1,Ne(H,oe.transform)){const ye=Re(oe.transform);H=ye,T.viewportChangeEnd(ye),T.moveEnd({event:oe,flowTransform:ye})}}),Le.filter(oe=>{var ye;const Ze=te.value||v.value,je=m.value&&oe.ctrlKey,Ue=oe.button;if(Ue===1&&oe.type==="mousedown"&&(Ke(oe,"vue-flow__node")||Ke(oe,"vue-flow__edge")))return!0;if(!he.value&&!Ze&&!W.value&&!d.value&&!m.value||w.value||!d.value&&oe.type==="dblclick"||Ke(oe,k.value)&&oe.type==="wheel"||Ke(oe,_.value)&&(oe.type!=="wheel"||W.value&&oe.type==="wheel"&&!te.value)||!m.value&&oe.ctrlKey&&oe.type==="wheel"||!Ze&&!W.value&&!je&&oe.type==="wheel")return!1;if(!m&&oe.type==="touchstart"&&((ye=oe.touches)==null?void 0:ye.length)>1)return oe.preventDefault(),!1;if(!he.value&&(oe.type==="mousedown"||oe.type==="touchstart")||o.value===!0&&Array.isArray(h.value)&&h.value.includes(0)&&Ue===0||Array.isArray(h.value)&&!h.value.includes(Ue)&&(oe.type==="mousedown"||oe.type==="touchstart"))return!1;const et=Array.isArray(h.value)&&h.value.includes(Ue)||o.value===!0&&Array.isArray(h.value)&&!h.value.includes(0)||!Ue||Ue<=1;return(!oe.ctrlKey||ee.value||oe.type==="wheel")&&et}),Ye([w,he],()=>{w.value&&!Z.value?Le.on("zoom",null):w.value||Le.on("zoom",oe=>{N.value={x:oe.transform.x,y:oe.transform.y,zoom:oe.transform.k};const ye=Re(oe.transform);j=Oe(he.value,L??0),T.viewportChange(ye),T.move({event:oe,flowTransform:ye})})},{immediate:!0}),Ye([w,W,u,te,m,b,k],()=>{W.value&&!te.value&&!w.value?Ie.on("wheel.zoom",oe=>{if(Ke(oe,k.value))return!1;const ye=te.value||v.value,Ze=m.value&&oe.ctrlKey;if(!(!b.value||W.value||ye||Ze))return!1;oe.preventDefault(),oe.stopImmediatePropagation();const Ue=Ie.property("__zoom").k||1,et=Rc();if(!ee.value&&oe.ctrlKey&&m.value&&et){const Lt=Bi(oe),wt=we(oe),ut=Ue*2**wt;Le.scaleTo(Ie,ut,Lt,oe);return}const ge=oe.deltaMode===1?20:1;let ze=u.value===Wa.Vertical?0:oe.deltaX*ge,tt=u.value===Wa.Horizontal?0:oe.deltaY*ge;!et&&oe.shiftKey&&u.value!==Wa.Vertical&&!ze&&tt&&(ze=tt,tt=0),Le.translateBy(Ie,-(ze/Ue)*c.value,-(tt/Ue)*c.value);const gt=Re(Ie.property("__zoom"));P&&clearTimeout(P),re.value?(T.move({event:oe,flowTransform:gt}),T.viewportChange(gt),P=setTimeout(()=>{T.moveEnd({event:oe,flowTransform:gt}),T.viewportChangeEnd(gt),re.value=!1},150)):(re.value=!0,T.moveStart({event:oe,flowTransform:gt}),T.viewportChangeStart(gt))},{passive:!1}):typeof Je<"u"&&Ie.on("wheel.zoom",function(oe,ye){const Ze=!b.value&&oe.type==="wheel"&&!oe.ctrlKey,je=te.value||v.value,Ue=m.value&&oe.ctrlKey;if(!je&&!l.value&&!Ue&&oe.type==="wheel"||Ze||Ke(oe,k.value))return null;oe.preventDefault(),Je.call(this,oe,ye)},{passive:!1})},{immediate:!0})});function Oe(be,ht){return ht===2&&Array.isArray(be)&&be.includes(2)}function we(be){const ht=be.ctrlKey&&Rc()?10:1;return-be.deltaY*(be.deltaMode===1?.05:be.deltaMode?1:.002)*ht}function Ne(be,ht){return be.x!==ht.x&&!Number.isNaN(ht.x)||be.y!==ht.y&&!Number.isNaN(ht.y)||be.zoom!==ht.k&&!Number.isNaN(ht.k)}function Re(be){return{x:be.x,y:be.y,zoom:be.k}}function Ke(be,ht){return be.target.closest(`.${ht}`)}return(be,ht)=>(me(),_e("div",{ref_key:"viewportRef",ref:K,class:"vue-flow__viewport vue-flow__container"},[z(u$,{"is-selecting":ae.value,"selection-key-pressed":V(ce),class:qt({connecting:!!V($),dragging:V(R),draggable:V(h)===!0||Array.isArray(V(h))&&V(h).includes(0)})},{default:U(()=>[z(h$,null,{default:U(()=>[Dt(be.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),p$=["id"],m$=["id"],g$=["id"],v$={name:"A11yDescriptions",compatConfig:{MODE:3}},O$=rt({...v$,setup(n){const{id:e,disableKeyboardA11y:t,ariaLiveMessage:i}=Rt();return(r,s)=>(me(),_e(xt,null,[fe("div",{id:`${V(z2)}-${V(e)}`,style:{display:"none"}}," Press enter or space to select a node. "+it(V(t)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,p$),fe("div",{id:`${V(D2)}-${V(e)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,m$),V(t)?kt("",!0):(me(),_e("div",{key:0,id:`${V(Bk)}-${V(e)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},it(V(i)),9,g$))],64))}});function y$(){const n=Rt();Ye(()=>n.viewportHelper.value.viewportInitialized,e=>{e&&setTimeout(()=>{n.emits.init(n),n.emits.paneReady(n)},1)})}function b$(n,e,t){return t===We.Left?n-e:t===We.Right?n+e:n}function w$(n,e,t){return t===We.Top?n-e:t===We.Bottom?n+e:n}const Dp=function({radius:n=10,centerX:e=0,centerY:t=0,position:i=We.Top,type:r}){return Qt("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${r}`,cx:b$(e,n,i),cy:w$(t,n,i),r:n,stroke:"transparent",fill:"transparent"})};Dp.props=["radius","centerX","centerY","position","type"];Dp.compatConfig={MODE:3};const p1=Dp,x$=rt({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(n){const{id:e,addSelectedEdges:t,connectionMode:i,edgeUpdaterRadius:r,emits:s,nodesSelectionActive:o,noPanClassName:a,getEdgeTypes:l,removeSelectedEdges:u,findEdge:c,findNode:h,isValidConnection:d,multiSelectionActive:m,disableKeyboardA11y:v,elementsSelectable:b,edgesUpdatable:k,edgesFocusable:_,hooks:T}=Rt(),$=qe(()=>c(n.id)),{emit:w,on:R}=m_($.value,s),Q=Mi(_h),M=El(),B=Me(!1),N=Me(!1),K=Me(""),q=Me(null),Z=Me("source"),re=Me(null),P=At(()=>typeof $.value.selectable>"u"?b.value:$.value.selectable),j=At(()=>typeof $.value.updatable>"u"?k.value:$.value.updatable),L=At(()=>typeof $.value.focusable>"u"?_.value:$.value.focusable);Mr(d_,n.id),Mr(f_,re);const H=qe(()=>$.value.class instanceof Function?$.value.class($.value):$.value.class),ee=qe(()=>$.value.style instanceof Function?$.value.style($.value):$.value.style),ce=qe(()=>{const J=$.value.type||"default",se=Q==null?void 0:Q[`edge-${J}`];if(se)return se;let oe=$.value.template??l.value[J];if(typeof oe=="string"&&M){const ye=Object.keys(M.appContext.components);ye&&ye.includes(J)&&(oe=Ee(J,!1))}return oe&&typeof oe!="string"?oe:(s.error(new fn(ln.EDGE_TYPE_MISSING,oe)),!1)}),{handlePointerDown:te}=e4({nodeId:K,handleId:q,type:Z,isValidConnection:d,edgeUpdaterType:Z,onEdgeUpdate:ae,onEdgeUpdateEnd:Oe});return()=>{const J=h($.value.source),se=h($.value.target),oe="pathOptions"in $.value?$.value.pathOptions:{};if(!J&&!se)return s.error(new fn(ln.EDGE_SOURCE_TARGET_MISSING,$.value.id,$.value.source,$.value.target)),null;if(!J)return s.error(new fn(ln.EDGE_SOURCE_MISSING,$.value.id,$.value.source)),null;if(!se)return s.error(new fn(ln.EDGE_TARGET_MISSING,$.value.id,$.value.target)),null;if(!$.value||$.value.hidden||J.hidden||se.hidden)return null;let ye;i.value===fs.Strict?ye=J.handleBounds.source:ye=[...J.handleBounds.source||[],...J.handleBounds.target||[]];const Ze=n1(ye,$.value.sourceHandle);let je;i.value===fs.Strict?je=se.handleBounds.target:je=[...se.handleBounds.target||[],...se.handleBounds.source||[]];const Ue=n1(je,$.value.targetHandle),et=(Ze==null?void 0:Ze.position)||We.Bottom,ge=(Ue==null?void 0:Ue.position)||We.Top,{x:ze,y:tt}=Go(J,Ze,et),{x:gt,y:Lt}=Go(se,Ue,ge);return $.value.sourceX=ze,$.value.sourceY=tt,$.value.targetX=gt,$.value.targetY=Lt,Qt("g",{ref:re,key:n.id,"data-id":n.id,class:["vue-flow__edge",`vue-flow__edge-${ce.value===!1?"default":$.value.type||"default"}`,a.value,H.value,{updating:B.value,selected:$.value.selected,animated:$.value.animated,inactive:!P.value&&!T.value.edgeClick.hasListeners()}],onClick:Ne,onContextmenu:Re,onDblclick:Ke,onMouseenter:be,onMousemove:ht,onMouseleave:Le,onKeyDown:L.value?ie:void 0,tabIndex:L.value?0:void 0,"aria-label":$.value.ariaLabel===null?void 0:$.value.ariaLabel||`Edge from ${$.value.source} to ${$.value.target}`,"aria-describedby":L.value?`${D2}-${e}`:void 0,role:L.value?"button":"img"},[N.value?null:Qt(ce.value===!1?l.value.default:ce.value,{id:n.id,sourceNode:J,targetNode:se,source:$.value.source,target:$.value.target,type:$.value.type,updatable:j.value,selected:$.value.selected,animated:$.value.animated,label:$.value.label,labelStyle:$.value.labelStyle,labelShowBg:$.value.labelShowBg,labelBgStyle:$.value.labelBgStyle,labelBgPadding:$.value.labelBgPadding,labelBgBorderRadius:$.value.labelBgBorderRadius,data:$.value.data,events:{...$.value.events,...R},style:ee.value,markerStart:`url('#${dl($.value.markerStart,e)}')`,markerEnd:`url('#${dl($.value.markerEnd,e)}')`,sourcePosition:et,targetPosition:ge,sourceX:ze,sourceY:tt,targetX:gt,targetY:Lt,sourceHandleId:$.value.sourceHandle,targetHandleId:$.value.targetHandle,interactionWidth:$.value.interactionWidth,...oe}),[j.value==="source"||j.value===!0?[Qt("g",{onMousedown:Ie,onMouseenter:he,onMouseout:W},Qt(p1,{position:et,centerX:ze,centerY:tt,radius:r.value,type:"source","data-type":"source"}))]:null,j.value==="target"||j.value===!0?[Qt("g",{onMousedown:Je,onMouseenter:he,onMouseout:W},Qt(p1,{position:ge,centerX:gt,centerY:Lt,radius:r.value,type:"target","data-type":"target"}))]:null]])};function he(){B.value=!0}function W(){B.value=!1}function ae(J,se){w.update({event:J,edge:$.value,connection:se})}function Oe(J){w.updateEnd({event:J,edge:$.value}),N.value=!1}function we(J,se){J.button===0&&(N.value=!0,K.value=se?$.value.target:$.value.source,q.value=(se?$.value.targetHandle:$.value.sourceHandle)??"",Z.value=se?"target":"source",w.updateStart({event:J,edge:$.value}),te(J))}function Ne(J){var se;const oe={event:J,edge:$.value};P.value&&(o.value=!1,$.value.selected&&m.value?(u([$.value]),(se=re.value)==null||se.blur()):t([$.value])),w.click(oe)}function Re(J){w.contextMenu({event:J,edge:$.value})}function Ke(J){w.doubleClick({event:J,edge:$.value})}function be(J){w.mouseEnter({event:J,edge:$.value})}function ht(J){w.mouseMove({event:J,edge:$.value})}function Le(J){w.mouseLeave({event:J,edge:$.value})}function Ie(J){we(J,!0)}function Je(J){we(J,!1)}function ie(J){var se;!v.value&&I2.includes(J.key)&&P.value&&(J.key==="Escape"?((se=re.value)==null||se.blur(),u([c(n.id)])):t([c(n.id)]))}}}),S$=x$,k$=rt({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var n;const{id:e,connectionMode:t,connectionStartHandle:i,connectionEndHandle:r,connectionPosition:s,connectionLineType:o,connectionLineStyle:a,connectionLineOptions:l,connectionStatus:u,viewport:c,findNode:h}=Rt(),d=(n=Mi(_h))==null?void 0:n["connection-line"],m=qe(()=>{var T;return h((T=i.value)==null?void 0:T.nodeId)}),v=qe(()=>{var T;return h((T=r.value)==null?void 0:T.nodeId)??null}),b=qe(()=>({x:(s.value.x-c.value.x)/c.value.zoom,y:(s.value.y-c.value.y)/c.value.zoom})),k=qe(()=>l.value.markerStart?`url(#${dl(l.value.markerStart,e)})`:""),_=qe(()=>l.value.markerEnd?`url(#${dl(l.value.markerEnd,e)})`:"");return()=>{var T,$,w;if(!m.value||!i.value)return null;const R=i.value.id,Q=i.value.type,M=m.value.handleBounds;let B=(M==null?void 0:M[Q])||[];if(t.value===fs.Loose){const ee=(M==null?void 0:M[Q==="source"?"target":"source"])||[];B=[...B,...ee]}if(!B)return null;const N=(R?B.find(ee=>ee.id===R):B[0])??null,K=(N==null?void 0:N.position)||We.Top,{x:q,y:Z}=Go(m.value,N,K);let re=null;v.value&&(t.value===fs.Strict?re=((T=v.value.handleBounds[Q==="source"?"target":"source"])==null?void 0:T.find(ee=>{var ce;return ee.id===((ce=r.value)==null?void 0:ce.id)}))||null:re=(($=[...v.value.handleBounds.source||[],...v.value.handleBounds.target||[]])==null?void 0:$.find(ee=>{var ce;return ee.id===((ce=r.value)==null?void 0:ce.id)}))||null);const P=((w=r.value)==null?void 0:w.position)??(K?Wd[K]:null);if(!K||!P)return null;const j=o.value??l.value.type??Qs.Bezier;let L="";const H={sourceX:q,sourceY:Z,sourcePosition:K,targetX:b.value.x,targetY:b.value.y,targetPosition:P};return j===Qs.Bezier?[L]=o4(H):j===Qs.Step?[L]=Kd({...H,borderRadius:0}):j===Qs.SmoothStep?[L]=Kd(H):j===Qs.SimpleBezier?[L]=a4(H):L=`M${q},${Z} ${b.value.x},${b.value.y}`,Qt("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Qt("g",{class:"vue-flow__connection"},d?Qt(d,{sourceX:q,sourceY:Z,sourcePosition:K,targetX:b.value.x,targetY:b.value.y,targetPosition:P,sourceNode:m.value,sourceHandle:N,targetNode:v.value,targetHandle:re,markerEnd:_.value,markerStart:k.value,connectionStatus:u.value}):Qt("path",{d:L,class:[l.value.class,u,"vue-flow__connection-path"],style:{...a.value,...l.value.style},"marker-end":_.value,"marker-start":k.value})))}}}),_$=k$,$$=["id","markerWidth","markerHeight","markerUnits","orient"],A$={name:"MarkerType",compatConfig:{MODE:3}},T$=rt({...A$,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(n){return(e,t)=>(me(),_e("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},[e.type===V(jd).ArrowClosed?(me(),_e("polyline",{key:0,style:kn({stroke:e.color,fill:e.color,strokeWidth:e.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):kt("",!0),e.type===V(jd).Arrow?(me(),_e("polyline",{key:1,style:kn({stroke:e.color,strokeWidth:e.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):kt("",!0)],8,$$))}}),P$={class:"vue-flow__marker vue-flow__container"},M$={name:"MarkerDefinitions",compatConfig:{MODE:3}},C$=rt({...M$,setup(n){const{id:e,edges:t,connectionLineOptions:i,defaultMarkerColor:r}=Rt(),s=qe(()=>{const o=new Set,a=[],l=u=>{if(u){const c=dl(u,e);o.has(c)||(typeof u=="object"?a.push({...u,id:c,color:u.color||r.value}):a.push({id:c,color:r.value,type:u}),o.add(c))}};for(const u of[i.value.markerEnd,i.value.markerStart])l(u);for(const u of t.value)for(const c of[u.markerStart,u.markerEnd])l(c);return a.sort((u,c)=>u.id.localeCompare(c.id))});return(o,a)=>(me(),_e("svg",P$,[fe("defs",null,[(me(!0),_e(xt,null,Nt(s.value,l=>(me(),ct(T$,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),E$={name:"Edges",compatConfig:{MODE:3}},Q$=rt({...E$,setup(n){const{findNode:e,getEdges:t,elevateEdgesOnSelect:i}=Rt();return(r,s)=>(me(),_e(xt,null,[z(C$),(me(!0),_e(xt,null,Nt(V(t),o=>(me(),_e("svg",{key:o.id,class:"vue-flow__edges vue-flow__container",style:kn({zIndex:V(e_)(o,V(e),V(i))})},[z(V(S$),{id:o.id},null,8,["id"])],4))),128)),z(V(_$))],64))}}),R$=rt({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(n){const{id:e,noPanClassName:t,selectNodesOnDrag:i,nodesSelectionActive:r,multiSelectionActive:s,emits:o,removeSelectedNodes:a,addSelectedNodes:l,updateNodeDimensions:u,onUpdateNodeInternals:c,getNodeTypes:h,nodeExtent:d,elevateNodesOnSelect:m,disableKeyboardA11y:v,ariaLiveMessage:b,snapToGrid:k,snapGrid:_,nodeDragThreshold:T,nodesDraggable:$,elementsSelectable:w,nodesConnectable:R,nodesFocusable:Q,hooks:M}=Rt(),B=Me(null);Mr(Y2,B),Mr(kh,n.id);const N=Mi(_h),K=El(),q=n4(),{node:Z,parentNode:re}=t4(n.id),{emit:P,on:j}=O_(Z,o),L=At(()=>typeof Z.draggable>"u"?$.value:Z.draggable),H=At(()=>typeof Z.selectable>"u"?w.value:Z.selectable),ee=At(()=>typeof Z.connectable>"u"?R.value:Z.connectable),ce=At(()=>typeof Z.focusable>"u"?Q.value:Z.focusable),te=At(()=>H.value||L.value||M.value.nodeClick.hasListeners()||M.value.nodeDoubleClick.hasListeners()||M.value.nodeMouseEnter.hasListeners()||M.value.nodeMouseMove.hasListeners()||M.value.nodeMouseLeave.hasListeners()),he=At(()=>!!Z.dimensions.width&&!!Z.dimensions.height),W=qe(()=>{const se=Z.type||"default",oe=N==null?void 0:N[`node-${se}`];if(oe)return oe;let ye=Z.template||h.value[se];if(typeof ye=="string"&&K){const Ze=Object.keys(K.appContext.components);Ze&&Ze.includes(se)&&(ye=Ee(se,!1))}return ye&&typeof ye!="string"?ye:(o.error(new fn(ln.NODE_TYPE_MISSING,ye)),!1)}),ae=K2({id:n.id,el:B,disabled:()=>!L.value,selectable:H,dragHandle:()=>Z.dragHandle,onStart(se){P.dragStart(se)},onDrag(se){P.drag(se)},onStop(se){P.dragStop(se)},onClick(se){ie(se)}}),Oe=qe(()=>Z.class instanceof Function?Z.class(Z):Z.class),we=qe(()=>{const se=(Z.style instanceof Function?Z.style(Z):Z.style)||{},oe=Z.width instanceof Function?Z.width(Z):Z.width,ye=Z.height instanceof Function?Z.height(Z):Z.height;return!se.width&&oe&&(se.width=typeof oe=="string"?oe:`${oe}px`),!se.height&&ye&&(se.height=typeof ye=="string"?ye:`${ye}px`),se}),Ne=At(()=>Number(Z.zIndex??we.value.zIndex??0));return c(se=>{(se.includes(n.id)||!se.length)&&Ke()}),gn(()=>{Ye(()=>Z.hidden,(se=!1,oe,ye)=>{!se&&B.value&&(n.resizeObserver.observe(B.value),ye(()=>{B.value&&n.resizeObserver.unobserve(B.value)}))},{immediate:!0,flush:"post"})}),Ye([()=>Z.type,()=>Z.sourcePosition,()=>Z.targetPosition],()=>{vn(()=>{u([{id:n.id,nodeElement:B.value,forceUpdate:!0}])})}),Ye([()=>Z.position.x,()=>Z.position.y,()=>{var se;return(se=re.value)==null?void 0:se.computedPosition.x},()=>{var se;return(se=re.value)==null?void 0:se.computedPosition.y},()=>{var se;return(se=re.value)==null?void 0:se.computedPosition.z},Ne,()=>Z.selected,()=>Z.dimensions.height,()=>Z.dimensions.width,()=>{var se;return(se=re.value)==null?void 0:se.dimensions.height},()=>{var se;return(se=re.value)==null?void 0:se.dimensions.width}],([se,oe,ye,Ze,je,Ue])=>{const et={x:se,y:oe,z:Ue+(m.value&&Z.selected?1e3:0)};typeof ye<"u"&&typeof Ze<"u"?Z.computedPosition=Uk({x:ye,y:Ze,z:je},et):Z.computedPosition=et},{flush:"post",immediate:!0}),Ye([()=>Z.extent,d],([se,oe],[ye,Ze])=>{(se!==ye||oe!==Ze)&&Re()}),Z.extent==="parent"||typeof Z.extent=="object"&&"range"in Z.extent&&Z.extent.range==="parent"?Nd(()=>he).toBe(!0).then(Re):Re(),()=>Z.hidden?null:Qt("div",{ref:B,"data-id":Z.id,class:["vue-flow__node",`vue-flow__node-${W.value===!1?"default":Z.type||"default"}`,{[t.value]:L.value,dragging:ae==null?void 0:ae.value,draggable:L.value,selected:Z.selected,selectable:H.value,parent:Z.isParent},Oe.value],style:{visibility:he.value?"visible":"hidden",zIndex:Z.computedPosition.z??Ne.value,transform:`translate(${Z.computedPosition.x}px,${Z.computedPosition.y}px)`,pointerEvents:te.value?"all":"none",...we.value},tabIndex:ce.value?0:void 0,role:ce.value?"button":void 0,"aria-describedby":v.value?void 0:`${z2}-${e}`,"aria-label":Z.ariaLabel,onMouseenter:be,onMousemove:ht,onMouseleave:Le,onContextmenu:Ie,onClick:ie,onDblclick:Je,onKeydown:J},[Qt(W.value===!1?h.value.default:W.value,{id:Z.id,type:Z.type,data:Z.data,events:{...Z.events,...j},selected:Z.selected,resizing:Z.resizing,dragging:ae.value,connectable:ee.value,position:Z.computedPosition,dimensions:Z.dimensions,isValidTargetPos:Z.isValidTargetPos,isValidSourcePos:Z.isValidSourcePos,parent:Z.parentNode,parentNodeId:Z.parentNode,zIndex:Z.computedPosition.z??Ne.value,targetPosition:Z.targetPosition,sourcePosition:Z.sourcePosition,label:Z.label,dragHandle:Z.dragHandle,onUpdateNodeInternals:Ke})]);function Re(){const se=Z.computedPosition,{computedPosition:oe,position:ye}=Rp(Z,k.value?xh(se,_.value):se,o.error,d.value,re.value);(Z.computedPosition.x!==oe.x||Z.computedPosition.y!==oe.y)&&(Z.computedPosition={...Z.computedPosition,...oe}),(Z.position.x!==ye.x||Z.position.y!==ye.y)&&(Z.position=ye)}function Ke(){B.value&&u([{id:n.id,nodeElement:B.value,forceUpdate:!0}])}function be(se){ae!=null&&ae.value||P.mouseEnter({event:se,node:Z})}function ht(se){ae!=null&&ae.value||P.mouseMove({event:se,node:Z})}function Le(se){ae!=null&&ae.value||P.mouseLeave({event:se,node:Z})}function Ie(se){return P.contextMenu({event:se,node:Z})}function Je(se){return P.doubleClick({event:se,node:Z})}function ie(se){H.value&&(!i.value||!L.value||T.value>0)&&Yd(Z,s.value,l,a,r,!1,B.value),P.click({event:se,node:Z})}function J(se){if(!(Ud(se)||v.value))if(I2.includes(se.key)&&H.value){const oe=se.key==="Escape";Yd(Z,s.value,l,a,r,oe,B.value)}else L.value&&Z.selected&&Ro[se.key]&&(se.preventDefault(),b.value=`Moved selected node ${se.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~Z.position.x}, y: ${~~Z.position.y}`,q({x:Ro[se.key].x,y:Ro[se.key].y},se.shiftKey))}}}),z$=R$;function D$(n={includeHiddenNodes:!1}){const{nodes:e}=Rt();return qe(()=>{if(e.value.length===0)return!1;for(const t of e.value)if((n.includeHiddenNodes||!t.hidden)&&((t==null?void 0:t.handleBounds)===void 0||t.dimensions.width===0||t.dimensions.height===0))return!1;return!0})}const I$={class:"vue-flow__nodes vue-flow__container"},N$={name:"Nodes",compatConfig:{MODE:3}},L$=rt({...N$,setup(n){const{getNodes:e,updateNodeDimensions:t,emits:i}=Rt(),r=D$(),s=Me();return Ye(r,o=>{o&&vn(()=>{i.nodesInitialized(e.value)})},{immediate:!0}),gn(()=>{s.value=new ResizeObserver(o=>{const a=o.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));vn(()=>t(a))})}),dh(()=>{var o;return(o=s.value)==null?void 0:o.disconnect()}),(o,a)=>(me(),_e("div",I$,[s.value?(me(!0),_e(xt,{key:0},Nt(V(e),(l,u,c,h)=>{const d=[l.id];if(h&&h.key===l.id&&Y6(h,d))return h;const m=(me(),ct(V(z$),{id:l.id,key:l.id,"resize-observer":s.value},null,8,["id","resize-observer"]));return m.memo=d,m},a,0),128)):kt("",!0)]))}});function Z$(){const{emits:n}=Rt();gn(()=>{if(W2()){const e=document.querySelector(".vue-flow__pane");e&&window.getComputedStyle(e).zIndex!=="1"&&n.error(new fn(ln.MISSING_STYLES))}})}const B$=fe("div",{class:"vue-flow__edge-labels"},null,-1),V$={name:"VueFlow",compatConfig:{MODE:3}},X$=rt({...V$,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(n,{expose:e,emit:t}){const i=n,r=Ry(),s=b0(i,"modelValue",t),o=b0(i,"nodes",t),a=b0(i,"edges",t),l=Rt(i),u=w_({modelValue:s,nodes:o,edges:a},i,l);return S_(t,l.hooks),y$(),Z$(),Mr(_h,r),er(()=>{u()}),e(l),(c,h)=>(me(),_e("div",{ref:V(l).vueFlowRef,class:"vue-flow"},[z(f$,null,{default:U(()=>[z(Q$),B$,z(L$),Dt(c.$slots,"zoom-pane")]),_:3}),Dt(c.$slots,"default"),z(O$)],512))}}),q$={name:"Panel",compatConfig:{MODE:3}},u4=rt({...q$,props:{position:{}},setup(n){const e=n,{userSelectionActive:t}=Rt(),i=qe(()=>`${e.position}`.split("-"));return(r,s)=>(me(),_e("div",{class:qt(["vue-flow__panel",i.value]),style:kn({pointerEvents:V(t)?"none":"all"})},[Dt(r.$slots,"default")],6))}});var xr=(n=>(n.Lines="lines",n.Dots="dots",n))(xr||{});const c4=function({dimensions:n,size:e,color:t}){return Qt("path",{stroke:t,"stroke-width":e,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`})},h4=function({radius:n,color:e}){return Qt("circle",{cx:n,cy:n,r:n,fill:e})};xr.Lines+"",xr.Dots+"";const F$={[xr.Dots]:"#81818a",[xr.Lines]:"#eee"},H$=["id","x","y","width","height","patternTransform"],j$={key:2,height:"100",width:"100"},U$=["fill"],G$=["x","y","fill"],W$={name:"Background",compatConfig:{MODE:3}},Y$=rt({...W$,props:{id:{},variant:{default:()=>xr.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(n){const{id:e,viewport:t}=Rt(),i=qe(()=>{const o=t.value.zoom,[a,l]=Array.isArray(n.gap)?n.gap:[n.gap,n.gap],u=[a*o||1,l*o||1],c=n.size*o,[h,d]=Array.isArray(n.offset)?n.offset:[n.offset,n.offset],m=[h*o||1+u[0]/2,d*o||1+u[1]/2];return{scaledGap:u,offset:m,size:c}}),r=At(()=>`pattern-${e}${n.id?`-${n.id}`:""}`),s=At(()=>n.color||n.patternColor||F$[n.variant||xr.Dots]);return(o,a)=>(me(),_e("svg",{class:"vue-flow__background vue-flow__container",style:kn({height:`${o.height>100?100:o.height}%`,width:`${o.width>100?100:o.width}%`})},[Dt(o.$slots,"pattern-container",{id:r.value},()=>[fe("pattern",{id:r.value,x:V(t).x%i.value.scaledGap[0],y:V(t).y%i.value.scaledGap[1],width:i.value.scaledGap[0],height:i.value.scaledGap[1],patternTransform:`translate(-${i.value.offset[0]},-${i.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[Dt(o.$slots,"pattern",{},()=>[o.variant===V(xr).Lines?(me(),ct(V(c4),{key:0,size:o.lineWidth,color:s.value,dimensions:i.value.scaledGap},null,8,["size","color","dimensions"])):o.variant===V(xr).Dots?(me(),ct(V(h4),{key:1,color:s.value,radius:i.value.size/2},null,8,["color","radius"])):kt("",!0),o.bgColor?(me(),_e("svg",j$,[fe("rect",{width:"100%",height:"100%",fill:o.bgColor},null,8,U$)])):kt("",!0)])],8,H$)]),fe("rect",{x:o.x,y:o.y,width:"100%",height:"100%",fill:`url(#${r.value})`},null,8,G$),Dt(o.$slots,"default",{id:r.value})],4))}}),K$={name:"ControlButton",compatConfig:{MODE:3}},J$=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t},eA={class:"vue-flow__controls-button"};function tA(n,e,t,i,r,s){return me(),_e("button",eA,[Dt(n.$slots,"default")])}const hu=J$(K$,[["render",tA]]),nA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},iA=fe("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),rA=[iA];function sA(n,e){return me(),_e("svg",nA,rA)}const oA={render:sA},aA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},lA=fe("path",{d:"M0 0h32v4.2H0z"},null,-1),uA=[lA];function cA(n,e){return me(),_e("svg",aA,uA)}const hA={render:cA},dA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},fA=fe("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),pA=[fA];function mA(n,e){return me(),_e("svg",dA,pA)}const gA={render:mA},vA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},OA=fe("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),yA=[OA];function bA(n,e){return me(),_e("svg",vA,yA)}const wA={render:bA},xA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},SA=fe("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),kA=[SA];function _A(n,e){return me(),_e("svg",xA,kA)}const $A={render:_A},AA={name:"Controls",compatConfig:{MODE:3}},TA=rt({...AA,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>R2.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(n,{emit:e}){const{nodesDraggable:t,nodesConnectable:i,elementsSelectable:r,setInteractive:s,zoomIn:o,zoomOut:a,fitView:l,viewport:u,minZoom:c,maxZoom:h}=Rt(),d=At(()=>t.value||i.value||r.value),m=At(()=>u.value.zoom<=c.value),v=At(()=>u.value.zoom>=h.value);function b(){o(),e("zoomIn")}function k(){a(),e("zoomOut")}function _(){l(n.fitViewParams),e("fitView")}function T(){s(!d.value),e("interactionChange",!d.value)}return($,w)=>(me(),ct(V(u4),{class:"vue-flow__controls",position:$.position},{default:U(()=>[Dt($.$slots,"top"),$.showZoom?(me(),_e(xt,{key:0},[Dt($.$slots,"control-zoom-in",{},()=>[z(hu,{class:"vue-flow__controls-zoomin",disabled:v.value,onClick:b},{default:U(()=>[Dt($.$slots,"icon-zoom-in",{},()=>[(me(),ct(ss(V(oA))))])]),_:3},8,["disabled"])]),Dt($.$slots,"control-zoom-out",{},()=>[z(hu,{class:"vue-flow__controls-zoomout",disabled:m.value,onClick:k},{default:U(()=>[Dt($.$slots,"icon-zoom-out",{},()=>[(me(),ct(ss(V(hA))))])]),_:3},8,["disabled"])])],64)):kt("",!0),$.showFitView?Dt($.$slots,"control-fit-view",{key:1},()=>[z(hu,{class:"vue-flow__controls-fitview",onClick:_},{default:U(()=>[Dt($.$slots,"icon-fit-view",{},()=>[(me(),ct(ss(V(gA))))])]),_:3})]):kt("",!0),$.showInteractive?Dt($.$slots,"control-interactive",{key:2},()=>[$.showInteractive?(me(),ct(hu,{key:0,class:"vue-flow__controls-interactive",onClick:T},{default:U(()=>[d.value?Dt($.$slots,"icon-unlock",{key:0},()=>[(me(),ct(ss(V($A))))]):kt("",!0),d.value?kt("",!0):Dt($.$slots,"icon-lock",{key:1},()=>[(me(),ct(ss(V(wA))))])]),_:3})):kt("",!0)]):kt("",!0),Dt($.$slots,"default")]),_:3},8,["position"]))}});var PA={value:()=>{}};function Ip(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new ec(t)}function ec(n){this._=n}function MA(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}ec.prototype=Ip.prototype={constructor:ec,on:function(n,e){var t=this._,i=MA(n+"",t),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(n=i[s]).type)&&(r=CA(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(n=i[s]).type)t[r]=m1(t[r],n.name,e);else if(e==null)for(r in t)t[r]=m1(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new ec(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,s;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)}};function CA(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function m1(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=PA,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}var Jd="http://www.w3.org/1999/xhtml";const g1={svg:"http://www.w3.org/2000/svg",xhtml:Jd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mh(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),g1.hasOwnProperty(e)?{space:g1[e],local:n}:n}function EA(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Jd&&e.documentElement.namespaceURI===Jd?e.createElement(n):e.createElementNS(t,n)}}function QA(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function d4(n){var e=Mh(n);return(e.local?QA:EA)(e)}function RA(){}function Np(n){return n==null?RA:function(){return this.querySelector(n)}}function zA(n){typeof n!="function"&&(n=Np(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=n.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new ai(i,this._parents)}function DA(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function IA(){return[]}function f4(n){return n==null?IA:function(){return this.querySelectorAll(n)}}function NA(n){return function(){return DA(n.apply(this,arguments))}}function LA(n){typeof n=="function"?n=NA(n):n=f4(n);for(var e=this._groups,t=e.length,i=[],r=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(i.push(n.call(l,l.__data__,u,o)),r.push(l));return new ai(i,r)}function p4(n){return function(){return this.matches(n)}}function m4(n){return function(e){return e.matches(n)}}var ZA=Array.prototype.find;function BA(n){return function(){return ZA.call(this.children,n)}}function VA(){return this.firstElementChild}function XA(n){return this.select(n==null?VA:BA(typeof n=="function"?n:m4(n)))}var qA=Array.prototype.filter;function FA(){return Array.from(this.children)}function HA(n){return function(){return qA.call(this.children,n)}}function jA(n){return this.selectAll(n==null?FA:HA(typeof n=="function"?n:m4(n)))}function UA(n){typeof n!="function"&&(n=p4(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,u=0;u<o;++u)(l=s[u])&&n.call(l,l.__data__,u,s)&&a.push(l);return new ai(i,this._parents)}function g4(n){return new Array(n.length)}function GA(){return new ai(this._enter||this._groups.map(g4),this._parents)}function zc(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}zc.prototype={constructor:zc,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function WA(n){return function(){return n}}function YA(n,e,t,i,r,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],i[o]=a):t[o]=new zc(n,s[o]);for(;o<l;++o)(a=e[o])&&(r[o]=a)}function KA(n,e,t,i,r,s,o){var a,l,u=new Map,c=e.length,h=s.length,d=new Array(c),m;for(a=0;a<c;++a)(l=e[a])&&(d[a]=m=o.call(l,l.__data__,a,e)+"",u.has(m)?r[a]=l:u.set(m,l));for(a=0;a<h;++a)m=o.call(n,s[a],a,s)+"",(l=u.get(m))?(i[a]=l,l.__data__=s[a],u.delete(m)):t[a]=new zc(n,s[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(d[a])===l&&(r[a]=l)}function JA(n){return n.__data__}function eT(n,e){if(!arguments.length)return Array.from(this,JA);var t=e?KA:YA,i=this._parents,r=this._groups;typeof n!="function"&&(n=WA(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=i[u],h=r[u],d=h.length,m=tT(n.call(c,c&&c.__data__,u,i)),v=m.length,b=a[u]=new Array(v),k=o[u]=new Array(v),_=l[u]=new Array(d);t(c,h,b,k,_,m,e);for(var T=0,$=0,w,R;T<v;++T)if(w=b[T]){for(T>=$&&($=T+1);!(R=k[$])&&++$<v;);w._next=R||null}}return o=new ai(o,i),o._enter=a,o._exit=l,o}function tT(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function nT(){return new ai(this._exit||this._groups.map(g4),this._parents)}function iT(n,e,t){var i=this.enter(),r=this,s=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(r=e(r),r&&(r=r.selection())),t==null?s.remove():t(s),i&&r?i.merge(r).order():r}function rT(n){for(var e=n.selection?n.selection():n,t=this._groups,i=e._groups,r=t.length,s=i.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var u=t[l],c=i[l],h=u.length,d=a[l]=new Array(h),m,v=0;v<h;++v)(m=u[v]||c[v])&&(d[v]=m);for(;l<r;++l)a[l]=t[l];return new ai(a,this._parents)}function sT(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var i=n[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function oT(n){n||(n=aT);function e(h,d){return h&&d?n(h.__data__,d.__data__):!h-!d}for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s){for(var o=t[s],a=o.length,l=r[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new ai(r,this._parents).order()}function aT(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function lT(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function uT(){return Array.from(this)}function cT(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function hT(){let n=0;for(const e of this)++n;return n}function dT(){return!this.node()}function fT(n){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var r=e[t],s=0,o=r.length,a;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this}function pT(n){return function(){this.removeAttribute(n)}}function mT(n){return function(){this.removeAttributeNS(n.space,n.local)}}function gT(n,e){return function(){this.setAttribute(n,e)}}function vT(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function OT(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function yT(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function bT(n,e){var t=Mh(n);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((e==null?t.local?mT:pT:typeof e=="function"?t.local?yT:OT:t.local?vT:gT)(t,e))}function v4(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function wT(n){return function(){this.style.removeProperty(n)}}function xT(n,e,t){return function(){this.style.setProperty(n,e,t)}}function ST(n,e,t){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,t)}}function kT(n,e,t){return arguments.length>1?this.each((e==null?wT:typeof e=="function"?ST:xT)(n,e,t??"")):Wo(this.node(),n)}function Wo(n,e){return n.style.getPropertyValue(e)||v4(n).getComputedStyle(n,null).getPropertyValue(e)}function _T(n){return function(){delete this[n]}}function $T(n,e){return function(){this[n]=e}}function AT(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function TT(n,e){return arguments.length>1?this.each((e==null?_T:typeof e=="function"?AT:$T)(n,e)):this.node()[n]}function O4(n){return n.trim().split(/^|\s+/)}function Lp(n){return n.classList||new y4(n)}function y4(n){this._node=n,this._names=O4(n.getAttribute("class")||"")}y4.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function b4(n,e){for(var t=Lp(n),i=-1,r=e.length;++i<r;)t.add(e[i])}function w4(n,e){for(var t=Lp(n),i=-1,r=e.length;++i<r;)t.remove(e[i])}function PT(n){return function(){b4(this,n)}}function MT(n){return function(){w4(this,n)}}function CT(n,e){return function(){(e.apply(this,arguments)?b4:w4)(this,n)}}function ET(n,e){var t=O4(n+"");if(arguments.length<2){for(var i=Lp(this.node()),r=-1,s=t.length;++r<s;)if(!i.contains(t[r]))return!1;return!0}return this.each((typeof e=="function"?CT:e?PT:MT)(t,e))}function QT(){this.textContent=""}function RT(n){return function(){this.textContent=n}}function zT(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function DT(n){return arguments.length?this.each(n==null?QT:(typeof n=="function"?zT:RT)(n)):this.node().textContent}function IT(){this.innerHTML=""}function NT(n){return function(){this.innerHTML=n}}function LT(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function ZT(n){return arguments.length?this.each(n==null?IT:(typeof n=="function"?LT:NT)(n)):this.node().innerHTML}function BT(){this.nextSibling&&this.parentNode.appendChild(this)}function VT(){return this.each(BT)}function XT(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qT(){return this.each(XT)}function FT(n){var e=typeof n=="function"?n:d4(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function HT(){return null}function jT(n,e){var t=typeof n=="function"?n:d4(n),i=e==null?HT:typeof e=="function"?e:Np(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}function UT(){var n=this.parentNode;n&&n.removeChild(this)}function GT(){return this.each(UT)}function WT(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function YT(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function KT(n){return this.select(n?YT:WT)}function JT(n){return arguments.length?this.property("__data__",n):this.node().__data__}function eP(n){return function(e){n.call(this,e,this.__data__)}}function tP(n){return n.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}function nP(n){return function(){var e=this.__on;if(e){for(var t=0,i=-1,r=e.length,s;t<r;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function iP(n,e,t){return function(){var i=this.__on,r,s=eP(e);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=t),r.value=e;return}}this.addEventListener(n.type,s,t),r={type:n.type,name:n.name,value:e,listener:s,options:t},i?i.push(r):this.__on=[r]}}function rP(n,e,t){var i=tP(n+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(r=0,c=a[l];r<s;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?iP:nP,r=0;r<s;++r)this.each(a(i[r],e,t));return this}function x4(n,e,t){var i=v4(n),r=i.CustomEvent;typeof r=="function"?r=new r(e,t):(r=i.document.createEvent("Event"),t?(r.initEvent(e,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(e,!1,!1)),n.dispatchEvent(r)}function sP(n,e){return function(){return x4(this,n,e)}}function oP(n,e){return function(){return x4(this,n,e.apply(this,arguments))}}function aP(n,e){return this.each((typeof e=="function"?oP:sP)(n,e))}function*lP(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var S4=[null];function ai(n,e){this._groups=n,this._parents=e}function zl(){return new ai([[document.documentElement]],S4)}function uP(){return this}ai.prototype=zl.prototype={constructor:ai,select:zA,selectAll:LA,selectChild:XA,selectChildren:jA,filter:UA,data:eT,enter:GA,exit:nT,join:iT,merge:rT,selection:uP,order:sT,sort:oT,call:lT,nodes:uT,node:cT,size:hT,empty:dT,each:fT,attr:bT,style:kT,property:TT,classed:ET,text:DT,html:ZT,raise:VT,lower:qT,append:FT,insert:jT,remove:GT,clone:KT,datum:JT,on:rP,dispatch:aP,[Symbol.iterator]:lP};function as(n){return typeof n=="string"?new ai([[document.querySelector(n)]],[document.documentElement]):new ai([[n]],S4)}function cP(n){let e;for(;e=n.sourceEvent;)n=e;return n}function Jr(n,e){if(n=cP(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[n.clientX-r.left-e.clientLeft,n.clientY-r.top-e.clientTop]}}return[n.pageX,n.pageY]}const ef={capture:!0,passive:!1};function tf(n){n.preventDefault(),n.stopImmediatePropagation()}function hP(n){var e=n.document.documentElement,t=as(n).on("dragstart.drag",tf,ef);"onselectstart"in e?t.on("selectstart.drag",tf,ef):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function dP(n,e){var t=n.document.documentElement,i=as(n).on("dragstart.drag",null);e&&(i.on("click.drag",tf,ef),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in t?i.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}function Zp(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function k4(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function Dl(){}var fl=.7,Dc=1/fl,zo="\\s*([+-]?\\d+)\\s*",pl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fP=/^#([0-9a-f]{3,8})$/,pP=new RegExp(`^rgb\\(${zo},${zo},${zo}\\)$`),mP=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),gP=new RegExp(`^rgba\\(${zo},${zo},${zo},${pl}\\)$`),vP=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${pl}\\)$`),OP=new RegExp(`^hsl\\(${pl},${Ki},${Ki}\\)$`),yP=new RegExp(`^hsla\\(${pl},${Ki},${Ki},${pl}\\)$`),v1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zp(Dl,ml,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:O1,formatHex:O1,formatHex8:bP,formatHsl:wP,formatRgb:y1,toString:y1});function O1(){return this.rgb().formatHex()}function bP(){return this.rgb().formatHex8()}function wP(){return _4(this).formatHsl()}function y1(){return this.rgb().formatRgb()}function ml(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=fP.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?b1(e):t===3?new Fn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?du(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?du(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pP.exec(n))?new Fn(e[1],e[2],e[3],1):(e=mP.exec(n))?new Fn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gP.exec(n))?du(e[1],e[2],e[3],e[4]):(e=vP.exec(n))?du(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=OP.exec(n))?S1(e[1],e[2]/100,e[3]/100,1):(e=yP.exec(n))?S1(e[1],e[2]/100,e[3]/100,e[4]):v1.hasOwnProperty(n)?b1(v1[n]):n==="transparent"?new Fn(NaN,NaN,NaN,0):null}function b1(n){return new Fn(n>>16&255,n>>8&255,n&255,1)}function du(n,e,t,i){return i<=0&&(n=e=t=NaN),new Fn(n,e,t,i)}function xP(n){return n instanceof Dl||(n=ml(n)),n?(n=n.rgb(),new Fn(n.r,n.g,n.b,n.opacity)):new Fn}function nf(n,e,t,i){return arguments.length===1?xP(n):new Fn(n,e,t,i??1)}function Fn(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}Zp(Fn,nf,k4(Dl,{brighter(n){return n=n==null?Dc:Math.pow(Dc,n),new Fn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?fl:Math.pow(fl,n),new Fn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Fn(Gs(this.r),Gs(this.g),Gs(this.b),Ic(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:w1,formatHex:w1,formatHex8:SP,formatRgb:x1,toString:x1}));function w1(){return`#${Xs(this.r)}${Xs(this.g)}${Xs(this.b)}`}function SP(){return`#${Xs(this.r)}${Xs(this.g)}${Xs(this.b)}${Xs((isNaN(this.opacity)?1:this.opacity)*255)}`}function x1(){const n=Ic(this.opacity);return`${n===1?"rgb(":"rgba("}${Gs(this.r)}, ${Gs(this.g)}, ${Gs(this.b)}${n===1?")":`, ${n})`}`}function Ic(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Gs(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Xs(n){return n=Gs(n),(n<16?"0":"")+n.toString(16)}function S1(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Ai(n,e,t,i)}function _4(n){if(n instanceof Ai)return new Ai(n.h,n.s,n.l,n.opacity);if(n instanceof Dl||(n=ml(n)),!n)return new Ai;if(n instanceof Ai)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=NaN,a=s-r,l=(s+r)/2;return a?(e===s?o=(t-i)/a+(t<i)*6:t===s?o=(i-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new Ai(o,a,l,n.opacity)}function kP(n,e,t,i){return arguments.length===1?_4(n):new Ai(n,e,t,i??1)}function Ai(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}Zp(Ai,kP,k4(Dl,{brighter(n){return n=n==null?Dc:Math.pow(Dc,n),new Ai(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?fl:Math.pow(fl,n),new Ai(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new Fn(E0(n>=240?n-240:n+120,r,i),E0(n,r,i),E0(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Ai(k1(this.h),fu(this.s),fu(this.l),Ic(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Ic(this.opacity);return`${n===1?"hsl(":"hsla("}${k1(this.h)}, ${fu(this.s)*100}%, ${fu(this.l)*100}%${n===1?")":`, ${n})`}`}}));function k1(n){return n=(n||0)%360,n<0?n+360:n}function fu(n){return Math.max(0,Math.min(1,n||0))}function E0(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const $4=n=>()=>n;function _P(n,e){return function(t){return n+t*e}}function $P(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function AP(n){return(n=+n)==1?A4:function(e,t){return t-e?$P(e,t,n):$4(isNaN(e)?t:e)}}function A4(n,e){var t=e-n;return t?_P(n,t):$4(isNaN(n)?e:n)}const _1=function n(e){var t=AP(e);function i(r,s){var o=t((r=nf(r)).r,(s=nf(s)).r),a=t(r.g,s.g),l=t(r.b,s.b),u=A4(r.opacity,s.opacity);return function(c){return r.r=o(c),r.g=a(c),r.b=l(c),r.opacity=u(c),r+""}}return i.gamma=n,i}(1);function ns(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var rf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q0=new RegExp(rf.source,"g");function TP(n){return function(){return n}}function PP(n){return function(e){return n(e)+""}}function MP(n,e){var t=rf.lastIndex=Q0.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(i=rf.exec(n))&&(r=Q0.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:ns(i,r)})),t=Q0.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?PP(l[0].x):TP(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)a[(h=l[c]).i]=h.x(u);return a.join("")})}var $1=180/Math.PI,sf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function T4(n,e,t,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*i)&&(t-=n*l,i-=e*l),(a=Math.sqrt(t*t+i*i))&&(t/=a,i/=a,l/=a),n*i<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,n)*$1,skewX:Math.atan(l)*$1,scaleX:o,scaleY:a}}var pu;function CP(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?sf:T4(e.a,e.b,e.c,e.d,e.e,e.f)}function EP(n){return n==null||(pu||(pu=document.createElementNS("http://www.w3.org/2000/svg","g")),pu.setAttribute("transform",n),!(n=pu.transform.baseVal.consolidate()))?sf:(n=n.matrix,T4(n.a,n.b,n.c,n.d,n.e,n.f))}function P4(n,e,t,i){function r(u){return u.length?u.pop()+" ":""}function s(u,c,h,d,m,v){if(u!==h||c!==d){var b=m.push("translate(",null,e,null,t);v.push({i:b-4,x:ns(u,h)},{i:b-2,x:ns(c,d)})}else(h||d)&&m.push("translate("+h+e+d+t)}function o(u,c,h,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:h.push(r(h)+"rotate(",null,i)-2,x:ns(u,c)})):c&&h.push(r(h)+"rotate("+c+i)}function a(u,c,h,d){u!==c?d.push({i:h.push(r(h)+"skewX(",null,i)-2,x:ns(u,c)}):c&&h.push(r(h)+"skewX("+c+i)}function l(u,c,h,d,m,v){if(u!==h||c!==d){var b=m.push(r(m)+"scale(",null,",",null,")");v.push({i:b-4,x:ns(u,h)},{i:b-2,x:ns(c,d)})}else(h!==1||d!==1)&&m.push(r(m)+"scale("+h+","+d+")")}return function(u,c){var h=[],d=[];return u=n(u),c=n(c),s(u.translateX,u.translateY,c.translateX,c.translateY,h,d),o(u.rotate,c.rotate,h,d),a(u.skewX,c.skewX,h,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,d),u=c=null,function(m){for(var v=-1,b=d.length,k;++v<b;)h[(k=d[v]).i]=k.x(m);return h.join("")}}}var QP=P4(CP,"px, ","px)","deg)"),RP=P4(EP,", ",")",")"),zP=1e-12;function A1(n){return((n=Math.exp(n))+1/n)/2}function DP(n){return((n=Math.exp(n))-1/n)/2}function IP(n){return((n=Math.exp(2*n))-1)/(n+1)}const NP=function n(e,t,i){function r(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],h=o[1],d=o[2],m=c-a,v=h-l,b=m*m+v*v,k,_;if(b<zP)_=Math.log(d/u)/e,k=function(M){return[a+M*m,l+M*v,u*Math.exp(e*M*_)]};else{var T=Math.sqrt(b),$=(d*d-u*u+i*b)/(2*u*t*T),w=(d*d-u*u-i*b)/(2*d*t*T),R=Math.log(Math.sqrt($*$+1)-$),Q=Math.log(Math.sqrt(w*w+1)-w);_=(Q-R)/e,k=function(M){var B=M*_,N=A1(R),K=u/(t*T)*(N*IP(e*B+R)-DP(R));return[a+K*m,l+K*v,u*N/A1(e*B+R)]}}return k.duration=_*1e3*e/Math.SQRT2,k}return r.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return n(o,a,l)},r}(Math.SQRT2,2,4);var Yo=0,za=0,ba=0,M4=1e3,Nc,Da,Lc=0,to=0,Ch=0,gl=typeof performance=="object"&&performance.now?performance:Date,C4=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Bp(){return to||(C4(LP),to=gl.now()+Ch)}function LP(){to=0}function Zc(){this._call=this._time=this._next=null}Zc.prototype=E4.prototype={constructor:Zc,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?Bp():+t)+(e==null?0:+e),!this._next&&Da!==this&&(Da?Da._next=this:Nc=this,Da=this),this._call=n,this._time=t,of()},stop:function(){this._call&&(this._call=null,this._time=1/0,of())}};function E4(n,e,t){var i=new Zc;return i.restart(n,e,t),i}function ZP(){Bp(),++Yo;for(var n=Nc,e;n;)(e=to-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Yo}function T1(){to=(Lc=gl.now())+Ch,Yo=za=0;try{ZP()}finally{Yo=0,VP(),to=0}}function BP(){var n=gl.now(),e=n-Lc;e>M4&&(Ch-=e,Lc=n)}function VP(){for(var n,e=Nc,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Nc=t);Da=n,of(i)}function of(n){if(!Yo){za&&(za=clearTimeout(za));var e=n-to;e>24?(n<1/0&&(za=setTimeout(T1,n-gl.now()-Ch)),ba&&(ba=clearInterval(ba))):(ba||(Lc=gl.now(),ba=setInterval(BP,M4)),Yo=1,C4(T1))}}function P1(n,e,t){var i=new Zc;return e=e==null?0:+e,i.restart(r=>{i.stop(),n(r+e)},e,t),i}var XP=Ip("start","end","cancel","interrupt"),qP=[],Q4=0,M1=1,af=2,tc=3,C1=4,lf=5,nc=6;function Eh(n,e,t,i,r,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;FP(n,t,{name:e,index:i,group:r,on:XP,tween:qP,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Q4})}function Vp(n,e){var t=Ri(n,e);if(t.state>Q4)throw new Error("too late; already scheduled");return t}function ir(n,e){var t=Ri(n,e);if(t.state>tc)throw new Error("too late; already running");return t}function Ri(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function FP(n,e,t){var i=n.__transition,r;i[e]=t,t.timer=E4(s,0,t.time);function s(u){t.state=M1,t.timer.restart(o,t.delay,t.time),t.delay<=u&&o(u-t.delay)}function o(u){var c,h,d,m;if(t.state!==M1)return l();for(c in i)if(m=i[c],m.name===t.name){if(m.state===tc)return P1(o);m.state===C1?(m.state=nc,m.timer.stop(),m.on.call("interrupt",n,n.__data__,m.index,m.group),delete i[c]):+c<e&&(m.state=nc,m.timer.stop(),m.on.call("cancel",n,n.__data__,m.index,m.group),delete i[c])}if(P1(function(){t.state===tc&&(t.state=C1,t.timer.restart(a,t.delay,t.time),a(u))}),t.state=af,t.on.call("start",n,n.__data__,t.index,t.group),t.state===af){for(t.state=tc,r=new Array(d=t.tween.length),c=0,h=-1;c<d;++c)(m=t.tween[c].value.call(n,n.__data__,t.index,t.group))&&(r[++h]=m);r.length=h+1}}function a(u){for(var c=u<t.duration?t.ease.call(null,u/t.duration):(t.timer.restart(l),t.state=lf,1),h=-1,d=r.length;++h<d;)r[h].call(n,c);t.state===lf&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){t.state=nc,t.timer.stop(),delete i[e];for(var u in i)return;delete n.__transition}}function ic(n,e){var t=n.__transition,i,r,s=!0,o;if(t){e=e==null?null:e+"";for(o in t){if((i=t[o]).name!==e){s=!1;continue}r=i.state>af&&i.state<lf,i.state=nc,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete t[o]}s&&delete n.__transition}}function HP(n){return this.each(function(){ic(this,n)})}function jP(n,e){var t,i;return function(){var r=ir(this,n),s=r.tween;if(s!==t){i=t=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function UP(n,e,t){var i,r;if(typeof t!="function")throw new Error;return function(){var s=ir(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:t},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=a;break}l===u&&r.push(a)}s.tween=r}}function GP(n,e){var t=this._id;if(n+="",arguments.length<2){for(var i=Ri(this.node(),t).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((e==null?jP:UP)(t,n,e))}function Xp(n,e,t){var i=n._id;return n.each(function(){var r=ir(this,i);(r.value||(r.value={}))[e]=t.apply(this,arguments)}),function(r){return Ri(r,i).value[e]}}function R4(n,e){var t;return(typeof e=="number"?ns:e instanceof ml?_1:(t=ml(e))?(e=t,_1):MP)(n,e)}function WP(n){return function(){this.removeAttribute(n)}}function YP(n){return function(){this.removeAttributeNS(n.space,n.local)}}function KP(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=e(i=o,t)}}function JP(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=e(i=o,t)}}function eM(n,e,t){var i,r,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttribute(n):(o=this.getAttribute(n),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function tM(n,e,t){var i,r,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function nM(n,e){var t=Mh(n),i=t==="transform"?RP:R4;return this.attrTween(n,typeof e=="function"?(t.local?tM:eM)(t,i,Xp(this,"attr."+n,e)):e==null?(t.local?YP:WP)(t):(t.local?JP:KP)(t,i,e))}function iM(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function rM(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function sM(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&rM(n,s)),t}return r._value=e,r}function oM(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&iM(n,s)),t}return r._value=e,r}function aM(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var i=Mh(n);return this.tween(t,(i.local?sM:oM)(i,e))}function lM(n,e){return function(){Vp(this,n).delay=+e.apply(this,arguments)}}function uM(n,e){return e=+e,function(){Vp(this,n).delay=e}}function cM(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?lM:uM)(e,n)):Ri(this.node(),e).delay}function hM(n,e){return function(){ir(this,n).duration=+e.apply(this,arguments)}}function dM(n,e){return e=+e,function(){ir(this,n).duration=e}}function fM(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?hM:dM)(e,n)):Ri(this.node(),e).duration}function pM(n,e){if(typeof e!="function")throw new Error;return function(){ir(this,n).ease=e}}function mM(n){var e=this._id;return arguments.length?this.each(pM(e,n)):Ri(this.node(),e).ease}function gM(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;ir(this,n).ease=t}}function vM(n){if(typeof n!="function")throw new Error;return this.each(gM(this._id,n))}function OM(n){typeof n!="function"&&(n=p4(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,u=0;u<o;++u)(l=s[u])&&n.call(l,l.__data__,u,s)&&a.push(l);return new zr(i,this._parents,this._name,this._id)}function yM(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,i=e.length,r=t.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var l=e[a],u=t[a],c=l.length,h=o[a]=new Array(c),d,m=0;m<c;++m)(d=l[m]||u[m])&&(h[m]=d);for(;a<i;++a)o[a]=e[a];return new zr(o,this._parents,this._name,this._id)}function bM(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function wM(n,e,t){var i,r,s=bM(e)?Vp:ir;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(e,t),o.on=r}}function xM(n,e){var t=this._id;return arguments.length<2?Ri(this.node(),t).on.on(n):this.each(wM(t,n,e))}function SM(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function kM(){return this.on("end.remove",SM(this._id))}function _M(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Np(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],l=a.length,u=s[o]=new Array(l),c,h,d=0;d<l;++d)(c=a[d])&&(h=n.call(c,c.__data__,d,a))&&("__data__"in c&&(h.__data__=c.__data__),u[d]=h,Eh(u[d],e,t,d,u,Ri(c,t)));return new zr(s,this._parents,e,t)}function $M(n){var e=this._name,t=this._id;typeof n!="function"&&(n=f4(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l=i[a],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var d=n.call(c,c.__data__,h,l),m,v=Ri(c,t),b=0,k=d.length;b<k;++b)(m=d[b])&&Eh(m,e,t,b,d,v);s.push(d),o.push(c)}return new zr(s,o,e,t)}var AM=zl.prototype.constructor;function TM(){return new AM(this._groups,this._parents)}function PM(n,e){var t,i,r;return function(){var s=Wo(this,n),o=(this.style.removeProperty(n),Wo(this,n));return s===o?null:s===t&&o===i?r:r=e(t=s,i=o)}}function z4(n){return function(){this.style.removeProperty(n)}}function MM(n,e,t){var i,r=t+"",s;return function(){var o=Wo(this,n);return o===r?null:o===i?s:s=e(i=o,t)}}function CM(n,e,t){var i,r,s;return function(){var o=Wo(this,n),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),Wo(this,n))),o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a))}}function EM(n,e){var t,i,r,s="style."+e,o="end."+s,a;return function(){var l=ir(this,n),u=l.on,c=l.value[s]==null?a||(a=z4(e)):void 0;(u!==t||r!==c)&&(i=(t=u).copy()).on(o,r=c),l.on=i}}function QM(n,e,t){var i=(n+="")=="transform"?QP:R4;return e==null?this.styleTween(n,PM(n,i)).on("end.style."+n,z4(n)):typeof e=="function"?this.styleTween(n,CM(n,i,Xp(this,"style."+n,e))).each(EM(this._id,n)):this.styleTween(n,MM(n,i,e),t).on("end.style."+n,null)}function RM(n,e,t){return function(i){this.style.setProperty(n,e.call(this,i),t)}}function zM(n,e,t){var i,r;function s(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&RM(n,o,t)),i}return s._value=e,s}function DM(n,e,t){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,zM(n,e,t??""))}function IM(n){return function(){this.textContent=n}}function NM(n){return function(){var e=n(this);this.textContent=e??""}}function LM(n){return this.tween("text",typeof n=="function"?NM(Xp(this,"text",n)):IM(n==null?"":n+""))}function ZM(n){return function(e){this.textContent=n.call(this,e)}}function BM(n){var e,t;function i(){var r=n.apply(this,arguments);return r!==t&&(e=(t=r)&&ZM(r)),e}return i._value=n,i}function VM(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,BM(n))}function XM(){for(var n=this._name,e=this._id,t=D4(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=Ri(l,e);Eh(l,n,t,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new zr(i,this._parents,n,t)}function qM(){var n,e,t=this,i=t._id,r=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--r===0&&s()}};t.each(function(){var u=ir(this,i),c=u.on;c!==n&&(e=(n=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),r===0&&s()})}var FM=0;function zr(n,e,t,i){this._groups=n,this._parents=e,this._name=t,this._id=i}function D4(){return++FM}var fr=zl.prototype;zr.prototype={constructor:zr,select:_M,selectAll:$M,selectChild:fr.selectChild,selectChildren:fr.selectChildren,filter:OM,merge:yM,selection:TM,transition:XM,call:fr.call,nodes:fr.nodes,node:fr.node,size:fr.size,empty:fr.empty,each:fr.each,on:xM,attr:nM,attrTween:aM,style:QM,styleTween:DM,text:LM,textTween:VM,remove:kM,tween:GP,delay:cM,duration:fM,ease:mM,easeVarying:vM,end:qM,[Symbol.iterator]:fr[Symbol.iterator]};function HM(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var jM={time:null,delay:0,duration:250,ease:HM};function UM(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function GM(n){var e,t;n instanceof zr?(e=n._id,n=n._name):(e=D4(),(t=jM).time=Bp(),n=n==null?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&Eh(l,n,e,u,o,t||UM(l,e));return new zr(i,this._parents,n,e)}zl.prototype.interrupt=HP;zl.prototype.transition=GM;const mu=n=>()=>n;function WM(n,{sourceEvent:e,target:t,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Sr(n,e,t){this.k=n,this.x=e,this.y=t}Sr.prototype={constructor:Sr,scale:function(n){return n===1?this:new Sr(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Sr(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qp=new Sr(1,0,0);Sr.prototype;function R0(n){n.stopImmediatePropagation()}function wa(n){n.preventDefault(),n.stopImmediatePropagation()}function YM(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function KM(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function E1(){return this.__zoom||qp}function JM(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function eC(){return navigator.maxTouchPoints||"ontouchstart"in this}function tC(n,e,t){var i=n.invertX(e[0][0])-t[0][0],r=n.invertX(e[1][0])-t[1][0],s=n.invertY(e[0][1])-t[0][1],o=n.invertY(e[1][1])-t[1][1];return n.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function nC(){var n=YM,e=KM,t=tC,i=JM,r=eC,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=NP,u=Ip("start","zoom","end"),c,h,d,m=500,v=150,b=0,k=10;function _(P){P.property("__zoom",E1).on("wheel.zoom",B,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",K).filter(r).on("touchstart.zoom",q).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",re).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(P,j,L,H){var ee=P.selection?P.selection():P;ee.property("__zoom",E1),P!==ee?R(P,j,L,H):ee.interrupt().each(function(){Q(this,arguments).event(H).start().zoom(null,typeof j=="function"?j.apply(this,arguments):j).end()})},_.scaleBy=function(P,j,L,H){_.scaleTo(P,function(){var ee=this.__zoom.k,ce=typeof j=="function"?j.apply(this,arguments):j;return ee*ce},L,H)},_.scaleTo=function(P,j,L,H){_.transform(P,function(){var ee=e.apply(this,arguments),ce=this.__zoom,te=L==null?w(ee):typeof L=="function"?L.apply(this,arguments):L,he=ce.invert(te),W=typeof j=="function"?j.apply(this,arguments):j;return t($(T(ce,W),te,he),ee,o)},L,H)},_.translateBy=function(P,j,L,H){_.transform(P,function(){return t(this.__zoom.translate(typeof j=="function"?j.apply(this,arguments):j,typeof L=="function"?L.apply(this,arguments):L),e.apply(this,arguments),o)},null,H)},_.translateTo=function(P,j,L,H,ee){_.transform(P,function(){var ce=e.apply(this,arguments),te=this.__zoom,he=H==null?w(ce):typeof H=="function"?H.apply(this,arguments):H;return t(qp.translate(he[0],he[1]).scale(te.k).translate(typeof j=="function"?-j.apply(this,arguments):-j,typeof L=="function"?-L.apply(this,arguments):-L),ce,o)},H,ee)};function T(P,j){return j=Math.max(s[0],Math.min(s[1],j)),j===P.k?P:new Sr(j,P.x,P.y)}function $(P,j,L){var H=j[0]-L[0]*P.k,ee=j[1]-L[1]*P.k;return H===P.x&&ee===P.y?P:new Sr(P.k,H,ee)}function w(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function R(P,j,L,H){P.on("start.zoom",function(){Q(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){Q(this,arguments).event(H).end()}).tween("zoom",function(){var ee=this,ce=arguments,te=Q(ee,ce).event(H),he=e.apply(ee,ce),W=L==null?w(he):typeof L=="function"?L.apply(ee,ce):L,ae=Math.max(he[1][0]-he[0][0],he[1][1]-he[0][1]),Oe=ee.__zoom,we=typeof j=="function"?j.apply(ee,ce):j,Ne=l(Oe.invert(W).concat(ae/Oe.k),we.invert(W).concat(ae/we.k));return function(Re){if(Re===1)Re=we;else{var Ke=Ne(Re),be=ae/Ke[2];Re=new Sr(be,W[0]-Ke[0]*be,W[1]-Ke[1]*be)}te.zoom(null,Re)}})}function Q(P,j,L){return!L&&P.__zooming||new M(P,j)}function M(P,j){this.that=P,this.args=j,this.active=0,this.sourceEvent=null,this.extent=e.apply(P,j),this.taps=0}M.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,j){return this.mouse&&P!=="mouse"&&(this.mouse[1]=j.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=j.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=j.invert(this.touch1[0])),this.that.__zoom=j,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var j=as(this.that).datum();u.call(P,this.that,new WM(P,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:u}),j)}};function B(P,...j){if(!n.apply(this,arguments))return;var L=Q(this,j).event(P),H=this.__zoom,ee=Math.max(s[0],Math.min(s[1],H.k*Math.pow(2,i.apply(this,arguments)))),ce=Jr(P);if(L.wheel)(L.mouse[0][0]!==ce[0]||L.mouse[0][1]!==ce[1])&&(L.mouse[1]=H.invert(L.mouse[0]=ce)),clearTimeout(L.wheel);else{if(H.k===ee)return;L.mouse=[ce,H.invert(ce)],ic(this),L.start()}wa(P),L.wheel=setTimeout(te,v),L.zoom("mouse",t($(T(H,ee),L.mouse[0],L.mouse[1]),L.extent,o));function te(){L.wheel=null,L.end()}}function N(P,...j){if(d||!n.apply(this,arguments))return;var L=P.currentTarget,H=Q(this,j,!0).event(P),ee=as(P.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",ae,!0),ce=Jr(P,L),te=P.clientX,he=P.clientY;hP(P.view),R0(P),H.mouse=[ce,this.__zoom.invert(ce)],ic(this),H.start();function W(Oe){if(wa(Oe),!H.moved){var we=Oe.clientX-te,Ne=Oe.clientY-he;H.moved=we*we+Ne*Ne>b}H.event(Oe).zoom("mouse",t($(H.that.__zoom,H.mouse[0]=Jr(Oe,L),H.mouse[1]),H.extent,o))}function ae(Oe){ee.on("mousemove.zoom mouseup.zoom",null),dP(Oe.view,H.moved),wa(Oe),H.event(Oe).end()}}function K(P,...j){if(n.apply(this,arguments)){var L=this.__zoom,H=Jr(P.changedTouches?P.changedTouches[0]:P,this),ee=L.invert(H),ce=L.k*(P.shiftKey?.5:2),te=t($(T(L,ce),H,ee),e.apply(this,j),o);wa(P),a>0?as(this).transition().duration(a).call(R,te,H,P):as(this).call(_.transform,te,H,P)}}function q(P,...j){if(n.apply(this,arguments)){var L=P.touches,H=L.length,ee=Q(this,j,P.changedTouches.length===H).event(P),ce,te,he,W;for(R0(P),te=0;te<H;++te)he=L[te],W=Jr(he,this),W=[W,this.__zoom.invert(W),he.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==W[2]&&(ee.touch1=W,ee.taps=0):(ee.touch0=W,ce=!0,ee.taps=1+!!c);c&&(c=clearTimeout(c)),ce&&(ee.taps<2&&(h=W[0],c=setTimeout(function(){c=null},m)),ic(this),ee.start())}}function Z(P,...j){if(this.__zooming){var L=Q(this,j).event(P),H=P.changedTouches,ee=H.length,ce,te,he,W;for(wa(P),ce=0;ce<ee;++ce)te=H[ce],he=Jr(te,this),L.touch0&&L.touch0[2]===te.identifier?L.touch0[0]=he:L.touch1&&L.touch1[2]===te.identifier&&(L.touch1[0]=he);if(te=L.that.__zoom,L.touch1){var ae=L.touch0[0],Oe=L.touch0[1],we=L.touch1[0],Ne=L.touch1[1],Re=(Re=we[0]-ae[0])*Re+(Re=we[1]-ae[1])*Re,Ke=(Ke=Ne[0]-Oe[0])*Ke+(Ke=Ne[1]-Oe[1])*Ke;te=T(te,Math.sqrt(Re/Ke)),he=[(ae[0]+we[0])/2,(ae[1]+we[1])/2],W=[(Oe[0]+Ne[0])/2,(Oe[1]+Ne[1])/2]}else if(L.touch0)he=L.touch0[0],W=L.touch0[1];else return;L.zoom("touch",t($(te,he,W),L.extent,o))}}function re(P,...j){if(this.__zooming){var L=Q(this,j).event(P),H=P.changedTouches,ee=H.length,ce,te;for(R0(P),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),ce=0;ce<ee;++ce)te=H[ce],L.touch0&&L.touch0[2]===te.identifier?delete L.touch0:L.touch1&&L.touch1[2]===te.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(te=Jr(te,this),Math.hypot(h[0]-te[0],h[1]-te[1])<k)){var he=as(this).on("dblclick.zoom");he&&he.apply(this,arguments)}}}return _.wheelDelta=function(P){return arguments.length?(i=typeof P=="function"?P:mu(+P),_):i},_.filter=function(P){return arguments.length?(n=typeof P=="function"?P:mu(!!P),_):n},_.touchable=function(P){return arguments.length?(r=typeof P=="function"?P:mu(!!P),_):r},_.extent=function(P){return arguments.length?(e=typeof P=="function"?P:mu([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),_):e},_.scaleExtent=function(P){return arguments.length?(s[0]=+P[0],s[1]=+P[1],_):[s[0],s[1]]},_.translateExtent=function(P){return arguments.length?(o[0][0]=+P[0][0],o[1][0]=+P[1][0],o[0][1]=+P[0][1],o[1][1]=+P[1][1],_):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},_.constrain=function(P){return arguments.length?(t=P,_):t},_.duration=function(P){return arguments.length?(a=+P,_):a},_.interpolate=function(P){return arguments.length?(l=P,_):l},_.on=function(){var P=u.on.apply(u,arguments);return P===u?_:P},_.clickDistance=function(P){return arguments.length?(b=(P=+P)*P,_):Math.sqrt(b)},_.tapDistance=function(P){return arguments.length?(k=+P,_):k},_}const I4=Symbol("MiniMapSlots"),iC=["id","x","y","rx","ry","width","height","fill","stroke","stroke-width","shape-rendering"],rC={name:"MiniMapNode",compatConfig:{MODE:3},inheritAttrs:!1},sC=rt({...rC,props:{id:{},type:{},selected:{type:Boolean},dragging:{type:Boolean},position:{},dimensions:{},borderRadius:{},color:{},shapeRendering:{},strokeColor:{},strokeWidth:{},hidden:{type:Boolean}},emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(n,{emit:e}){const t=n,i=Mi(I4),r=bp(),s=At(()=>r.style??{});function o(h){e("click",h)}function a(h){e("dblclick",h)}function l(h){e("mouseenter",h)}function u(h){e("mousemove",h)}function c(h){e("mouseleave",h)}return(h,d)=>!h.hidden&&h.dimensions.width!==0&&h.dimensions.height!==0?(me(),_e(xt,{key:0},[V(i)[`node-${t.type}`]?(me(),ct(ss(V(i)[`node-${t.type}`]),zy(ni({key:0},{...t,...h.$attrs})),null,16)):(me(),_e("rect",ni({key:1,id:h.id},h.$attrs,{class:["vue-flow__minimap-node",{selected:h.selected,dragging:h.dragging}],x:h.position.x,y:h.position.y,rx:h.borderRadius,ry:h.borderRadius,width:h.dimensions.width,height:h.dimensions.height,fill:h.color||s.value.background||s.value.backgroundColor,stroke:h.strokeColor,"stroke-width":h.strokeWidth,"shape-rendering":h.shapeRendering,onClick:o,onDblclick:a,onMouseenter:l,onMousemove:u,onMouseleave:c}),null,16,iC))],64)):kt("",!0)}}),oC=["width","height","viewBox","aria-labelledby"],aC=["id"],lC=["d","fill","stroke","stroke-width"],uC={name:"MiniMap",compatConfig:{MODE:3}},cC=rt({...uC,props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:{type:[String,Function]},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:{},height:{},ariaLabel:{default:"Vue Flow mini map"},inversePan:{type:Boolean,default:!1},zoomStep:{default:10},offsetScale:{default:5},maskBorderRadius:{default:0}},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(n,{emit:e}){const t=Ry(),i=bp(),r=200,s=150,{id:o,edges:a,viewport:l,translateExtent:u,dimensions:c,emits:h,d3Selection:d,d3Zoom:m,getNodesInitialized:v}=Rt(),b=Me();Mr(I4,t);const k=At(()=>{var ee;return n.width??((ee=i.style)==null?void 0:ee.width)??r}),_=At(()=>{var ee;return n.height??((ee=i.style)==null?void 0:ee.height)??s}),T=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",$=qe(()=>typeof n.nodeColor=="string"?()=>n.nodeColor:n.nodeColor),w=qe(()=>typeof n.nodeStrokeColor=="string"?()=>n.nodeStrokeColor:n.nodeStrokeColor),R=qe(()=>typeof n.nodeClassName=="string"?()=>n.nodeClassName:typeof n.nodeClassName=="function"?n.nodeClassName:()=>""),Q=qe(()=>wh(v.value)),M=qe(()=>({x:-l.value.x/l.value.zoom,y:-l.value.y/l.value.zoom,width:c.value.width/l.value.zoom,height:c.value.height/l.value.zoom})),B=qe(()=>v.value&&v.value.length?jk(Q.value,M.value):M.value),N=qe(()=>{const ee=B.value.width/k.value,ce=B.value.height/_.value;return Math.max(ee,ce)}),K=qe(()=>{const ee=N.value*k.value,ce=N.value*_.value,te=n.offsetScale*N.value;return{offset:te,x:B.value.x-(ee-B.value.width)/2-te,y:B.value.y-(ce-B.value.height)/2-te,width:ee+te*2,height:ce+te*2}}),q=qe(()=>!K.value.x||!K.value.y?"":`
    M${K.value.x-K.value.offset},${K.value.y-K.value.offset}
    h${K.value.width+K.value.offset*2}
    v${K.value.height+K.value.offset*2}
    h${-K.value.width-K.value.offset*2}z
    M${M.value.x+n.maskBorderRadius},${M.value.y}
    h${M.value.width-2*n.maskBorderRadius}
    a${n.maskBorderRadius},${n.maskBorderRadius} 0 0 1 ${n.maskBorderRadius},${n.maskBorderRadius}
    v${M.value.height-2*n.maskBorderRadius}
    a${n.maskBorderRadius},${n.maskBorderRadius} 0 0 1 -${n.maskBorderRadius},${n.maskBorderRadius}
    h${-(M.value.width-2*n.maskBorderRadius)}
    a${n.maskBorderRadius},${n.maskBorderRadius} 0 0 1 -${n.maskBorderRadius},-${n.maskBorderRadius}
    v${-(M.value.height-2*n.maskBorderRadius)}
    a${n.maskBorderRadius},${n.maskBorderRadius} 0 0 1 ${n.maskBorderRadius},-${n.maskBorderRadius}z`);wp(ee=>{if(b.value){const ce=as(b.value),te=ae=>{if(ae.sourceEvent.type!=="wheel"||!d.value||!m.value)return;const Oe=-ae.sourceEvent.deltaY*(ae.sourceEvent.deltaMode===1?.05:ae.sourceEvent.deltaMode?1:.002)*n.zoomStep,we=l.value.zoom*2**Oe;m.value.scaleTo(d.value,we)},he=ae=>{if(ae.sourceEvent.type!=="mousemove"||!d.value||!m.value)return;const Oe=N.value*Math.max(1,l.value.zoom)*(n.inversePan?-1:1),we={x:l.value.x-ae.sourceEvent.movementX*Oe,y:l.value.y-ae.sourceEvent.movementY*Oe},Ne=[[0,0],[c.value.width,c.value.height]],Re=qp.translate(we.x,we.y).scale(l.value.zoom),Ke=m.value.constrain()(Re,Ne,u.value);m.value.transform(d.value,Ke)},W=nC().on("zoom",n.pannable?he:()=>{}).on("zoom.wheel",n.zoomable?te:()=>{});ce.call(W),ee(()=>{ce.on("zoom",null)})}},{flush:"post"});function Z(ee){const[ce,te]=Jr(ee);e("click",{event:ee,position:{x:ce,y:te}})}function re(ee,ce){const te={event:ee,node:ce,connectedEdges:Rs([ce],a.value)};h.miniMapNodeClick(te),e("nodeClick",te)}function P(ee,ce){const te={event:ee,node:ce,connectedEdges:Rs([ce],a.value)};h.miniMapNodeDoubleClick(te),e("nodeDblclick",te)}function j(ee,ce){const te={event:ee,node:ce,connectedEdges:Rs([ce],a.value)};h.miniMapNodeMouseEnter(te),e("nodeMouseenter",te)}function L(ee,ce){const te={event:ee,node:ce,connectedEdges:Rs([ce],a.value)};h.miniMapNodeMouseMove(te),e("nodeMousemove",te)}function H(ee,ce){const te={event:ee,node:ce,connectedEdges:Rs([ce],a.value)};h.miniMapNodeMouseLeave(te),e("nodeMouseleave",te)}return(ee,ce)=>(me(),ct(V(u4),{position:ee.position,class:qt(["vue-flow__minimap",{pannable:ee.pannable,zoomable:ee.zoomable}])},{default:U(()=>[(me(),_e("svg",{ref_key:"el",ref:b,width:k.value,height:_.value,viewBox:[K.value.x,K.value.y,K.value.width,K.value.height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${V(o)}`,onClick:Z},[ee.ariaLabel?(me(),_e("title",{key:0,id:`vue-flow__minimap-${V(o)}`},it(ee.ariaLabel),9,aC)):kt("",!0),(me(!0),_e(xt,null,Nt(V(v),te=>(me(),ct(sC,{id:te.id,key:te.id,position:te.computedPosition,dimensions:te.dimensions,selected:te.selected,dragging:te.dragging,style:kn(te.style),class:qt(R.value(te)),color:$.value(te),"border-radius":ee.nodeBorderRadius,"stroke-color":w.value(te),"stroke-width":ee.nodeStrokeWidth,"shape-rendering":V(T),type:te.type,hidden:te.hidden,onClick:he=>re(he,te),onDblclick:he=>P(he,te),onMouseenter:he=>j(he,te),onMousemove:he=>L(he,te),onMouseleave:he=>H(he,te)},null,8,["id","position","dimensions","selected","dragging","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","hidden","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),fe("path",{class:"vue-flow__minimap-mask",d:q.value,fill:ee.maskColor,stroke:ee.maskStrokeColor,"stroke-width":ee.maskStrokeWidth,"fill-rule":"evenodd"},null,8,lC)],8,oC))]),_:1},8,["position","class"]))}});var uf="http://www.w3.org/1999/xhtml";const Q1={svg:"http://www.w3.org/2000/svg",xhtml:uf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function N4(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),Q1.hasOwnProperty(e)?{space:Q1[e],local:n}:n}function hC(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===uf&&e.documentElement.namespaceURI===uf?e.createElement(n):e.createElementNS(t,n)}}function dC(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function L4(n){var e=N4(n);return(e.local?dC:hC)(e)}function fC(){}function Z4(n){return n==null?fC:function(){return this.querySelector(n)}}function pC(n){typeof n!="function"&&(n=Z4(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=n.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Oi(i,this._parents)}function mC(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function gC(){return[]}function vC(n){return n==null?gC:function(){return this.querySelectorAll(n)}}function OC(n){return function(){return mC(n.apply(this,arguments))}}function yC(n){typeof n=="function"?n=OC(n):n=vC(n);for(var e=this._groups,t=e.length,i=[],r=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(i.push(n.call(l,l.__data__,u,o)),r.push(l));return new Oi(i,r)}function bC(n){return function(){return this.matches(n)}}function B4(n){return function(e){return e.matches(n)}}var wC=Array.prototype.find;function xC(n){return function(){return wC.call(this.children,n)}}function SC(){return this.firstElementChild}function kC(n){return this.select(n==null?SC:xC(typeof n=="function"?n:B4(n)))}var _C=Array.prototype.filter;function $C(){return Array.from(this.children)}function AC(n){return function(){return _C.call(this.children,n)}}function TC(n){return this.selectAll(n==null?$C:AC(typeof n=="function"?n:B4(n)))}function PC(n){typeof n!="function"&&(n=bC(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,u=0;u<o;++u)(l=s[u])&&n.call(l,l.__data__,u,s)&&a.push(l);return new Oi(i,this._parents)}function V4(n){return new Array(n.length)}function MC(){return new Oi(this._enter||this._groups.map(V4),this._parents)}function Bc(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Bc.prototype={constructor:Bc,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function CC(n){return function(){return n}}function EC(n,e,t,i,r,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],i[o]=a):t[o]=new Bc(n,s[o]);for(;o<l;++o)(a=e[o])&&(r[o]=a)}function QC(n,e,t,i,r,s,o){var a,l,u=new Map,c=e.length,h=s.length,d=new Array(c),m;for(a=0;a<c;++a)(l=e[a])&&(d[a]=m=o.call(l,l.__data__,a,e)+"",u.has(m)?r[a]=l:u.set(m,l));for(a=0;a<h;++a)m=o.call(n,s[a],a,s)+"",(l=u.get(m))?(i[a]=l,l.__data__=s[a],u.delete(m)):t[a]=new Bc(n,s[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(d[a])===l&&(r[a]=l)}function RC(n){return n.__data__}function zC(n,e){if(!arguments.length)return Array.from(this,RC);var t=e?QC:EC,i=this._parents,r=this._groups;typeof n!="function"&&(n=CC(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=i[u],h=r[u],d=h.length,m=DC(n.call(c,c&&c.__data__,u,i)),v=m.length,b=a[u]=new Array(v),k=o[u]=new Array(v),_=l[u]=new Array(d);t(c,h,b,k,_,m,e);for(var T=0,$=0,w,R;T<v;++T)if(w=b[T]){for(T>=$&&($=T+1);!(R=k[$])&&++$<v;);w._next=R||null}}return o=new Oi(o,i),o._enter=a,o._exit=l,o}function DC(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function IC(){return new Oi(this._exit||this._groups.map(V4),this._parents)}function NC(n,e,t){var i=this.enter(),r=this,s=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(r=e(r),r&&(r=r.selection())),t==null?s.remove():t(s),i&&r?i.merge(r).order():r}function LC(n){for(var e=n.selection?n.selection():n,t=this._groups,i=e._groups,r=t.length,s=i.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var u=t[l],c=i[l],h=u.length,d=a[l]=new Array(h),m,v=0;v<h;++v)(m=u[v]||c[v])&&(d[v]=m);for(;l<r;++l)a[l]=t[l];return new Oi(a,this._parents)}function ZC(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var i=n[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function BC(n){n||(n=VC);function e(h,d){return h&&d?n(h.__data__,d.__data__):!h-!d}for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s){for(var o=t[s],a=o.length,l=r[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new Oi(r,this._parents).order()}function VC(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function XC(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function qC(){return Array.from(this)}function FC(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function HC(){let n=0;for(const e of this)++n;return n}function jC(){return!this.node()}function UC(n){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var r=e[t],s=0,o=r.length,a;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this}function GC(n){return function(){this.removeAttribute(n)}}function WC(n){return function(){this.removeAttributeNS(n.space,n.local)}}function YC(n,e){return function(){this.setAttribute(n,e)}}function KC(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function JC(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function eE(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function tE(n,e){var t=N4(n);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((e==null?t.local?WC:GC:typeof e=="function"?t.local?eE:JC:t.local?KC:YC)(t,e))}function X4(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function nE(n){return function(){this.style.removeProperty(n)}}function iE(n,e,t){return function(){this.style.setProperty(n,e,t)}}function rE(n,e,t){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,t)}}function sE(n,e,t){return arguments.length>1?this.each((e==null?nE:typeof e=="function"?rE:iE)(n,e,t??"")):oE(this.node(),n)}function oE(n,e){return n.style.getPropertyValue(e)||X4(n).getComputedStyle(n,null).getPropertyValue(e)}function aE(n){return function(){delete this[n]}}function lE(n,e){return function(){this[n]=e}}function uE(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function cE(n,e){return arguments.length>1?this.each((e==null?aE:typeof e=="function"?uE:lE)(n,e)):this.node()[n]}function q4(n){return n.trim().split(/^|\s+/)}function Fp(n){return n.classList||new F4(n)}function F4(n){this._node=n,this._names=q4(n.getAttribute("class")||"")}F4.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function H4(n,e){for(var t=Fp(n),i=-1,r=e.length;++i<r;)t.add(e[i])}function j4(n,e){for(var t=Fp(n),i=-1,r=e.length;++i<r;)t.remove(e[i])}function hE(n){return function(){H4(this,n)}}function dE(n){return function(){j4(this,n)}}function fE(n,e){return function(){(e.apply(this,arguments)?H4:j4)(this,n)}}function pE(n,e){var t=q4(n+"");if(arguments.length<2){for(var i=Fp(this.node()),r=-1,s=t.length;++r<s;)if(!i.contains(t[r]))return!1;return!0}return this.each((typeof e=="function"?fE:e?hE:dE)(t,e))}function mE(){this.textContent=""}function gE(n){return function(){this.textContent=n}}function vE(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function OE(n){return arguments.length?this.each(n==null?mE:(typeof n=="function"?vE:gE)(n)):this.node().textContent}function yE(){this.innerHTML=""}function bE(n){return function(){this.innerHTML=n}}function wE(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function xE(n){return arguments.length?this.each(n==null?yE:(typeof n=="function"?wE:bE)(n)):this.node().innerHTML}function SE(){this.nextSibling&&this.parentNode.appendChild(this)}function kE(){return this.each(SE)}function _E(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $E(){return this.each(_E)}function AE(n){var e=typeof n=="function"?n:L4(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function TE(){return null}function PE(n,e){var t=typeof n=="function"?n:L4(n),i=e==null?TE:typeof e=="function"?e:Z4(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}function ME(){var n=this.parentNode;n&&n.removeChild(this)}function CE(){return this.each(ME)}function EE(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function QE(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function RE(n){return this.select(n?QE:EE)}function zE(n){return arguments.length?this.property("__data__",n):this.node().__data__}function DE(n){return function(e){n.call(this,e,this.__data__)}}function IE(n){return n.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}function NE(n){return function(){var e=this.__on;if(e){for(var t=0,i=-1,r=e.length,s;t<r;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function LE(n,e,t){return function(){var i=this.__on,r,s=DE(e);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=t),r.value=e;return}}this.addEventListener(n.type,s,t),r={type:n.type,name:n.name,value:e,listener:s,options:t},i?i.push(r):this.__on=[r]}}function ZE(n,e,t){var i=IE(n+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(r=0,c=a[l];r<s;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?LE:NE,r=0;r<s;++r)this.each(a(i[r],e,t));return this}function U4(n,e,t){var i=X4(n),r=i.CustomEvent;typeof r=="function"?r=new r(e,t):(r=i.document.createEvent("Event"),t?(r.initEvent(e,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(e,!1,!1)),n.dispatchEvent(r)}function BE(n,e){return function(){return U4(this,n,e)}}function VE(n,e){return function(){return U4(this,n,e.apply(this,arguments))}}function XE(n,e){return this.each((typeof e=="function"?VE:BE)(n,e))}function*qE(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var FE=[null];function Oi(n,e){this._groups=n,this._parents=e}function HE(){return this}Oi.prototype={constructor:Oi,select:pC,selectAll:yC,selectChild:kC,selectChildren:TC,filter:PC,data:zC,enter:MC,exit:IC,join:NC,merge:LC,selection:HE,order:ZC,sort:BC,call:XC,nodes:qC,node:FC,size:HC,empty:jC,each:UC,attr:tE,style:sE,property:cE,classed:pE,text:OE,html:xE,raise:kE,lower:$E,append:AE,insert:PE,remove:CE,clone:RE,datum:zE,on:ZE,dispatch:XE,[Symbol.iterator]:qE};function vl(n){return typeof n=="string"?new Oi([[document.querySelector(n)]],[document.documentElement]):new Oi([[n]],FE)}function jE(n){let e;for(;e=n.sourceEvent;)n=e;return n}function R1(n,e){if(n=jE(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[n.clientX-r.left-e.clientLeft,n.clientY-r.top-e.clientTop]}}return[n.pageX,n.pageY]}var UE={value:()=>{}};function G4(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new rc(t)}function rc(n){this._=n}function GE(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}rc.prototype=G4.prototype={constructor:rc,on:function(n,e){var t=this._,i=GE(n+"",t),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(n=i[s]).type)&&(r=WE(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(n=i[s]).type)t[r]=z1(t[r],n.name,e);else if(e==null)for(r in t)t[r]=z1(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new rc(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,s;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)}};function WE(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function z1(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=UE,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}const YE={passive:!1},Ol={capture:!0,passive:!1};function z0(n){n.stopImmediatePropagation()}function Do(n){n.preventDefault(),n.stopImmediatePropagation()}function KE(n){var e=n.document.documentElement,t=vl(n).on("dragstart.drag",Do,Ol);"onselectstart"in e?t.on("selectstart.drag",Do,Ol):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function JE(n,e){var t=n.document.documentElement,i=vl(n).on("dragstart.drag",null);e&&(i.on("click.drag",Do,Ol),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in t?i.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const gu=n=>()=>n;function cf(n,{sourceEvent:e,subject:t,target:i,identifier:r,active:s,x:o,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}cf.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function eQ(n){return!n.ctrlKey&&!n.button}function tQ(){return this.parentNode}function nQ(n,e){return e??{x:n.x,y:n.y}}function iQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function rQ(){var n=eQ,e=tQ,t=nQ,i=iQ,r={},s=G4("start","drag","end"),o=0,a,l,u,c,h=0;function d(w){w.on("mousedown.drag",m).filter(i).on("touchstart.drag",k).on("touchmove.drag",_,YE).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(w,R){if(!(c||!n.call(this,w,R))){var Q=$(this,e.call(this,w,R),w,R,"mouse");Q&&(vl(w.view).on("mousemove.drag",v,Ol).on("mouseup.drag",b,Ol),KE(w.view),z0(w),u=!1,a=w.clientX,l=w.clientY,Q("start",w))}}function v(w){if(Do(w),!u){var R=w.clientX-a,Q=w.clientY-l;u=R*R+Q*Q>h}r.mouse("drag",w)}function b(w){vl(w.view).on("mousemove.drag mouseup.drag",null),JE(w.view,u),Do(w),r.mouse("end",w)}function k(w,R){if(n.call(this,w,R)){var Q=w.changedTouches,M=e.call(this,w,R),B=Q.length,N,K;for(N=0;N<B;++N)(K=$(this,M,w,R,Q[N].identifier,Q[N]))&&(z0(w),K("start",w,Q[N]))}}function _(w){var R=w.changedTouches,Q=R.length,M,B;for(M=0;M<Q;++M)(B=r[R[M].identifier])&&(Do(w),B("drag",w,R[M]))}function T(w){var R=w.changedTouches,Q=R.length,M,B;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),M=0;M<Q;++M)(B=r[R[M].identifier])&&(z0(w),B("end",w,R[M]))}function $(w,R,Q,M,B,N){var K=s.copy(),q=R1(N||Q,R),Z,re,P;if((P=t.call(w,new cf("beforestart",{sourceEvent:Q,target:d,identifier:B,active:o,x:q[0],y:q[1],dx:0,dy:0,dispatch:K}),M))!=null)return Z=P.x-q[0]||0,re=P.y-q[1]||0,function j(L,H,ee){var ce=q,te;switch(L){case"start":r[B]=j,te=o++;break;case"end":delete r[B],--o;case"drag":q=R1(ee||H,R),te=o;break}K.call(L,w,new cf(L,{sourceEvent:H,subject:P,target:d,identifier:B,active:te,x:q[0]+Z,y:q[1]+re,dx:q[0]-ce[0],dy:q[1]-ce[1],dispatch:K}),M)}}return d.filter=function(w){return arguments.length?(n=typeof w=="function"?w:gu(!!w),d):n},d.container=function(w){return arguments.length?(e=typeof w=="function"?w:gu(w),d):e},d.subject=function(w){return arguments.length?(t=typeof w=="function"?w:gu(w),d):t},d.touchable=function(w){return arguments.length?(i=typeof w=="function"?w:gu(!!w),d):i},d.on=function(){var w=s.on.apply(s,arguments);return w===s?d:w},d.clickDistance=function(w){return arguments.length?(h=(w=+w)*w,d):Math.sqrt(h)},d}var Ko=(n=>(n.Line="line",n.Handle="handle",n))(Ko||{});function sQ({width:n,prevWidth:e,height:t,prevHeight:i,invertX:r,invertY:s}){const o=n-e,a=t-i,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&r&&(l[0]=l[0]*-1),a&&s&&(l[1]=l[1]*-1),l}const oQ={[Ko.Line]:"right",[Ko.Handle]:"bottom-right"},aQ={[Ko.Line]:"borderColor",[Ko.Handle]:"backgroundColor"},lQ={name:"ResizeControl",compatConfig:{MODE:3}},D1=rt({...lQ,props:{nodeId:{},color:{},minWidth:{default:10},minHeight:{default:10},maxWidth:{default:Number.MAX_VALUE},maxHeight:{default:Number.MAX_VALUE},position:{},variant:{default:"handle"},shouldResize:{},keepAspectRatio:{type:[Boolean,Number],default:!1}},emits:["resizeStart","resize","resizeEnd"],setup(n,{emit:e}){const t=n,i={width:0,height:0,x:0,y:0},r={...i,pointerX:0,pointerY:0,aspectRatio:1},{findNode:s,emits:o}=Rt(),a=J2(),l=Me();let u=r,c=i;const h=At(()=>t.position??oQ[t.variant]),d=At(()=>h.value.split("-")),m=At(()=>t.color?{[aQ[t.variant]]:t.color}:{});return wp(v=>{if(!l.value||!t.nodeId)return;const b=vl(l.value),k=h.value.includes("right")||h.value.includes("left"),_=h.value.includes("bottom")||h.value.includes("top"),T=h.value.includes("left"),$=h.value.includes("top"),w=rQ().on("start",R=>{const Q=s(t.nodeId),{xSnapped:M,ySnapped:B}=a(R);c={width:(Q==null?void 0:Q.dimensions.width)??0,height:(Q==null?void 0:Q.dimensions.height)??0,x:(Q==null?void 0:Q.position.x)??0,y:(Q==null?void 0:Q.position.y)??0},u={...c,pointerX:M,pointerY:B,aspectRatio:c.width/c.height},e("resizeStart",{event:R,params:c})}).on("drag",R=>{var Q;const{xSnapped:M,ySnapped:B}=a(R),N=s(t.nodeId);if(N){const K=[],{pointerX:q,pointerY:Z,width:re,height:P,x:j,y:L,aspectRatio:H}=u,{x:ee,y:ce,width:te,height:he}=c,W=Math.floor(k?M-q:0),ae=Math.floor(_?B-Z:0);let Oe=Rr(re+(T?-W:W),t.minWidth,t.maxWidth),we=Rr(P+($?-ae:ae),t.minHeight,t.maxHeight);if(t.keepAspectRatio){const Le=Oe/we;let Ie=H;typeof t.keepAspectRatio=="number"&&Le!==t.keepAspectRatio&&(Ie=t.keepAspectRatio);const Je=k&&_,ie=k&&!_,J=_&&!k;Oe=Le<=Ie&&Je||J?we*Ie:Oe,we=Le>Ie&&Je||ie?Oe/Ie:we,Oe>=t.maxWidth?(Oe=t.maxWidth,we=t.maxWidth/Ie):Oe<=t.minWidth&&(Oe=t.minWidth,we=t.minWidth/Ie),we>=t.maxHeight?(we=t.maxHeight,Oe=t.maxHeight*Ie):we<=t.minHeight&&(we=t.minHeight,Oe=t.minHeight*Ie)}const Ne=Oe!==te,Re=we!==he;if(T||$){const Le=T?j-(Oe-re):j,Ie=$?L-(we-P):L,Je=Le!==ee&&Ne,ie=Ie!==ce&&Re;if(Je||ie){const J={id:N.id,type:"position",from:N.position,position:{x:Je?Le:ee,y:ie?Ie:ce}};K.push(J),c.x=J.position.x,c.y=J.position.y}}if(t.nodeId&&(Ne||Re)){const Le={id:t.nodeId,type:"dimensions",updateStyle:!0,resizing:!0,dimensions:{width:Oe,height:we}};K.push(Le),c.width=Oe,c.height=we}if(K.length===0)return;const Ke=sQ({width:c.width,prevWidth:te,height:c.height,prevHeight:he,invertX:T,invertY:$}),be={...c,direction:Ke};if(((Q=t.shouldResize)==null?void 0:Q.call(t,R,be))===!1)return;e("resize",{event:R,params:be}),o.nodesChange(K)}}).on("end",R=>{if(t.nodeId){const Q={id:t.nodeId,type:"dimensions",resizing:!1};e("resizeEnd",{event:R,params:c}),o.nodesChange([Q])}});b.call(w),v(()=>{b.on(".drag",null)})}),(v,b)=>(me(),_e("div",{ref_key:"resizeControlRef",ref:l,class:qt(["vue-flow__resize-control nodrag",[...d.value,v.variant]]),style:kn(m.value)},[Dt(v.$slots,"default")],6))}}),uQ={name:"NodeResizer",compatConfig:{MODE:3},inheritAttrs:!1},Pi=rt({...uQ,props:{nodeId:{},color:{},handleClassName:{},handleStyle:{},lineClassName:{},lineStyle:{},isVisible:{type:Boolean,default:!0},minWidth:{},minHeight:{},maxWidth:{},maxHeight:{},shouldResize:{},keepAspectRatio:{type:[Boolean,Number]}},emits:["resizeStart","resize","resizeEnd"],setup(n,{emit:e}){const t=n,{findNode:i,emits:r}=Rt(),s=["top-left","top-right","bottom-left","bottom-right"],o=["top","right","bottom","left"],a=Mi(kh,null),l=At(()=>typeof t.nodeId=="string"?t.nodeId:a),u=qe(()=>i(l.value));return Ye([()=>t.minWidth,()=>t.minHeight,()=>t.maxWidth,()=>t.maxHeight,()=>{var c;return!!((c=u.value)!=null&&c.dimensions.width)&&!!u.value.dimensions.height}],([c,h,d,m,v])=>{const b=u.value;if(b&&v){const k={id:b.id,type:"dimensions",updateStyle:!0,dimensions:{width:b.dimensions.width,height:b.dimensions.height}};c&&b.dimensions.width<c&&(k.dimensions.width=c),h&&b.dimensions.height<h&&(k.dimensions.height=h),d&&b.dimensions.width>d&&(k.dimensions.width=d),m&&b.dimensions.height>m&&(k.dimensions.height=m),(k.dimensions.width!==b.dimensions.width||k.dimensions.height!==b.dimensions.height)&&r.nodesChange([k])}},{flush:"post",immediate:!0}),(c,h)=>c.isVisible?(me(),_e(xt,{key:0},[(me(),_e(xt,null,Nt(o,d=>z(D1,{key:d,class:qt(c.lineClassName),style:kn(c.lineStyle),"node-id":l.value,position:d,variant:V(Ko).Line,"keep-aspect-ratio":c.keepAspectRatio,color:c.color,"min-width":c.minWidth,"min-height":c.minHeight,"max-width":c.maxWidth,"max-height":c.maxHeight,"should-resize":c.shouldResize,onResizeStart:h[0]||(h[0]=m=>e("resizeStart",m)),onResize:h[1]||(h[1]=m=>e("resize",m)),onResizeEnd:h[2]||(h[2]=m=>e("resizeEnd",m))},null,8,["class","style","node-id","position","variant","keep-aspect-ratio","color","min-width","min-height","max-width","max-height","should-resize"])),64)),(me(),_e(xt,null,Nt(s,d=>z(D1,{key:d,class:qt(c.handleClassName),style:kn(c.handleStyle),"node-id":l.value,position:d,color:c.color,"min-width":c.minWidth,"min-height":c.minHeight,"max-width":c.maxWidth,"max-height":c.maxHeight,"should-resize":c.shouldResize,"keep-aspect-ratio":c.keepAspectRatio,onResizeStart:h[3]||(h[3]=m=>e("resizeStart",m)),onResize:h[4]||(h[4]=m=>e("resize",m)),onResizeEnd:h[5]||(h[5]=m=>e("resizeEnd",m))},null,8,["class","style","node-id","position","color","min-width","min-height","max-width","max-height","should-resize","keep-aspect-ratio"])),64))],64)):kt("",!0)}}),cQ={class:"card-header"},hQ={class:"card-header"},dQ={class:"card-header"},fQ=rt({__name:"NodeConfigDialog",props:{modelValue:{type:Boolean},editData:{}},emits:["update:modelValue","confirm"],setup(n,{emit:e}){const t=n,i=e,r=Me(t.modelValue),s=Me(t.editData?"编辑组件":"添加组件"),o=Pr({label:"",template:"",fields:[],handles:[],actions:[]});Ye(()=>t.modelValue,v=>{r.value=v}),Ye(()=>r.value,v=>{i("update:modelValue",v)});function a(){o.fields.push({name:"",type:"number",unit:""})}function l(v){o.fields.splice(v,1)}function u(){o.handles.push({id:"",type:"target",position:"top"})}function c(v){o.handles.splice(v,1)}function h(){o.actions.push({label:"",value:""})}function d(v){o.actions.splice(v,1)}function m(){i("confirm",{...o}),r.value=!1}return(v,b)=>(me(),ct(V(Dy),{modelValue:r.value,"onUpdate:modelValue":b[3]||(b[3]=k=>r.value=k),title:s.value,width:"600px"},{footer:U(()=>[z(V(yt),{onClick:b[2]||(b[2]=k=>r.value=!1)},{default:U(()=>b[16]||(b[16]=[Ce("取消")])),_:1}),z(V(yt),{type:"primary",onClick:m},{default:U(()=>b[17]||(b[17]=[Ce("确定")])),_:1})]),default:U(()=>[z(V(Iy),{model:o,"label-width":"100px"},{default:U(()=>[z(V(os),{label:"组件名称"},{default:U(()=>[z(V(vo),{modelValue:o.label,"onUpdate:modelValue":b[0]||(b[0]=k=>o.label=k),placeholder:"请输入组件名称"},null,8,["modelValue"])]),_:1}),z(V(os),{label:"组件类型"},{default:U(()=>[z(V(Pa),{modelValue:o.template,"onUpdate:modelValue":b[1]||(b[1]=k=>o.template=k),placeholder:"选择组件模板"},{default:U(()=>[z(V(Kn),{label:"容器类",value:"tank"},{default:U(()=>b[4]||(b[4]=[fe("div",{class:"template-option"},[fe("div",null,"容器类"),fe("div",{class:"template-desc"},"适用于储罐、气瓶等存储容器")],-1)])),_:1}),z(V(Kn),{label:"阀门类",value:"valve"},{default:U(()=>b[5]||(b[5]=[fe("div",{class:"template-option"},[fe("div",null,"阀门类"),fe("div",{class:"template-desc"},"适用于各类阀门控制元件")],-1)])),_:1}),z(V(Kn),{label:"传感器类",value:"sensor"},{default:U(()=>b[6]||(b[6]=[fe("div",{class:"template-option"},[fe("div",null,"传感器类"),fe("div",{class:"template-desc"},"适用于压力、温度等传感器")],-1)])),_:1})]),_:1},8,["modelValue"])]),_:1}),z(V(os),{label:"数据字段"},{default:U(()=>[z(V(O0),{class:"data-fields"},{header:U(()=>[fe("div",cQ,[b[8]||(b[8]=fe("span",null,"字段列表",-1)),z(V(yt),{type:"primary",link:"",onClick:a},{default:U(()=>b[7]||(b[7]=[Ce("添加字段")])),_:1})])]),default:U(()=>[(me(!0),_e(xt,null,Nt(o.fields,(k,_)=>(me(),_e("div",{key:_,class:"field-item"},[z(V(vo),{modelValue:k.name,"onUpdate:modelValue":T=>k.name=T,placeholder:"字段名称",style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"]),z(V(Pa),{modelValue:k.type,"onUpdate:modelValue":T=>k.type=T,placeholder:"类型",style:{width:"100px"}},{default:U(()=>[z(V(Kn),{label:"数值",value:"number"}),z(V(Kn),{label:"文本",value:"text"}),z(V(Kn),{label:"布尔",value:"boolean"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),z(V(vo),{modelValue:k.unit,"onUpdate:modelValue":T=>k.unit=T,placeholder:"单位",style:{width:"80px"}},null,8,["modelValue","onUpdate:modelValue"]),z(V(yt),{type:"danger",link:"",onClick:T=>l(_)},{default:U(()=>b[9]||(b[9]=[Ce("删除")])),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1}),z(V(os),{label:"连接桩"},{default:U(()=>[z(V(O0),{class:"handles"},{header:U(()=>[fe("div",hQ,[b[11]||(b[11]=fe("span",null,"连接桩列表",-1)),z(V(yt),{type:"primary",link:"",onClick:u},{default:U(()=>b[10]||(b[10]=[Ce("添加连接桩")])),_:1})])]),default:U(()=>[(me(!0),_e(xt,null,Nt(o.handles,(k,_)=>(me(),_e("div",{key:_,class:"handle-item"},[z(V(vo),{modelValue:k.id,"onUpdate:modelValue":T=>k.id=T,placeholder:"标识符",style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"]),z(V(Pa),{modelValue:k.type,"onUpdate:modelValue":T=>k.type=T,placeholder:"类型",style:{width:"100px"}},{default:U(()=>[z(V(Kn),{label:"输入",value:"target"}),z(V(Kn),{label:"输出",value:"source"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),z(V(Pa),{modelValue:k.position,"onUpdate:modelValue":T=>k.position=T,placeholder:"位置",style:{width:"100px"}},{default:U(()=>[z(V(Kn),{label:"顶部",value:"top"}),z(V(Kn),{label:"底部",value:"bottom"}),z(V(Kn),{label:"左侧",value:"left"}),z(V(Kn),{label:"右侧",value:"right"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),z(V(yt),{type:"danger",link:"",onClick:T=>c(_)},{default:U(()=>b[12]||(b[12]=[Ce("删除")])),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1}),z(V(os),{label:"操作按钮"},{default:U(()=>[z(V(O0),{class:"actions"},{header:U(()=>[fe("div",dQ,[b[14]||(b[14]=fe("span",null,"按钮列表",-1)),z(V(yt),{type:"primary",link:"",onClick:h},{default:U(()=>b[13]||(b[13]=[Ce("添加按钮")])),_:1})])]),default:U(()=>[(me(!0),_e(xt,null,Nt(o.actions,(k,_)=>(me(),_e("div",{key:_,class:"action-item"},[z(V(vo),{modelValue:k.label,"onUpdate:modelValue":T=>k.label=T,placeholder:"按钮文本",style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"]),z(V(vo),{modelValue:k.value,"onUpdate:modelValue":T=>k.value=T,placeholder:"动作值",style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"]),z(V(yt),{type:"danger",link:"",onClick:T=>d(_)},{default:U(()=>b[15]||(b[15]=[Ce("删除")])),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]))}}),pQ=yn(fQ,[["__scopeId","data-v-f63c7f83"]]),mQ={name:"NodeToolbar",compatConfig:{MODE:3},inheritAttrs:!1},lo=rt({...mQ,props:{nodeId:null,isVisible:{type:Boolean},position:{default:We.Top},offset:{default:10},align:{default:"center"}},setup(n){const e=n,t=Mi(kh,null),{viewportRef:i,viewport:r,getSelectedNodes:s,findNode:o}=Rt();function a(m,v,b,k,_){let T=.5;_==="start"?T=0:_==="end"&&(T=1);let $=[(m.x+m.width*T)*v.zoom+v.x,m.y*v.zoom+v.y-k],w=[-100*T,-100];switch(b){case We.Right:$=[(m.x+m.width)*v.zoom+v.x+k,(m.y+m.height*T)*v.zoom+v.y],w=[0,-100*T];break;case We.Bottom:$[1]=(m.y+m.height)*v.zoom+v.y+k,w[1]=0;break;case We.Left:$=[m.x*v.zoom+v.x-k,(m.y+m.height*T)*v.zoom+v.y],w=[-100,-100*T];break}return`translate(${$[0]}px, ${$[1]}px) translate(${w[0]}%, ${w[1]}%)`}const l=qe(()=>(Array.isArray(e.nodeId)?e.nodeId:[e.nodeId||t||""]).reduce((m,v)=>{const b=o(v);return b&&m.push(b),m},[])),u=qe(()=>typeof e.isVisible=="boolean"?e.isVisible:l.value.length===1&&l.value[0].selected&&s.value.length===1),c=qe(()=>wh(l.value)),h=qe(()=>Math.max(...l.value.map(m=>(m.computedPosition.z||1)+1))),d=qe(()=>({position:"absolute",transform:a(c.value,r.value,e.position,e.offset,e.align),zIndex:h.value}));return(m,v)=>(me(),ct(e7,{to:V(i),disabled:!V(i)},[V(u)&&V(l).length?(me(),_e("div",ni({key:0},m.$attrs,{style:V(d),class:"vue-flow__node-toolbar"}),[Dt(m.$slots,"default")],16)):kt("",!0)],8,["to","disabled"]))}}),gQ={class:"label"},vQ={class:"status"},OQ=rt({__name:"CustomNode",props:{id:{},selected:{type:Boolean},data:{}},emits:["update"],setup(n,{emit:e}){const t=n,i=e;function r(s){i("update",t.id,s)}return(s,o)=>{var a,l,u,c,h;return me(),_e("div",{class:qt(["custom-node",{selected:t.selected}])},[z(V(Pi),{"min-width":80,"min-height":100}),(me(!0),_e(xt,null,Nt((a=t.data)==null?void 0:a.handles,d=>(me(),ct(V(An),{key:d.id,id:d.id,type:d.type,position:d.position,class:"handle"},null,8,["id","type","position"]))),128)),(u=(l=t.data)==null?void 0:l.actions)!=null&&u.length?(me(),ct(V(lo),{key:0},{default:U(()=>[(me(!0),_e(xt,null,Nt(t.data.actions,d=>(me(),ct(V(yt),{key:d.value,size:"small",onClick:m=>r(d.value)},{default:U(()=>[Ce(it(d.label),1)]),_:2},1032,["onClick"]))),128))]),_:1})):kt("",!0),fe("div",gQ,it(((c=t.data)==null?void 0:c.label)||"自定义组件"),1),fe("div",vQ,[(me(!0),_e(xt,null,Nt((h=t.data)==null?void 0:h.fields,d=>(me(),_e("div",{key:d.id},it(d.label)+": "+it(d.value||"N/A")+" "+it(d.unit),1))),128))])],2)}}}),yQ=yn(OQ,[["__scopeId","data-v-9e4cfdeb"]]),bQ={class:"label"},wQ={class:"status"},xQ=rt({__name:"FuelTank",props:{id:{},selected:{type:Boolean},data:{}},emits:["update"],setup(n,{emit:e}){const t=n,i=e;function r(s){i("update",t.id,s)}return(s,o)=>{var a,l,u,c;return me(),_e("div",{class:qt(["custom-node tank",{selected:t.selected}])},[z(V(Pi),{"min-width":80,"min-height":100}),z(V(An),{id:"pressurant",type:"target",position:"top",class:"handle"}),z(V(An),{id:"output",type:"source",position:"bottom",class:"handle"}),z(V(lo),null,{default:U(()=>[z(V(yt),{size:"small",onClick:o[0]||(o[0]=h=>r("FILL"))},{default:U(()=>o[3]||(o[3]=[Ce("加注")])),_:1}),z(V(yt),{size:"small",onClick:o[1]||(o[1]=h=>r("DRAIN"))},{default:U(()=>o[4]||(o[4]=[Ce("排空")])),_:1}),z(V(yt),{size:"small",onClick:o[2]||(o[2]=h=>r("VENT"))},{default:U(()=>o[5]||(o[5]=[Ce("排气")])),_:1})]),_:1}),fe("div",bQ,it(((a=t.data)==null?void 0:a.label)||"燃料罐"),1),fe("div",wQ,[fe("div",null,"压力: "+it(((l=t.data)==null?void 0:l.pressure)||"N/A")+" MPa",1),fe("div",null,"温度: "+it(((u=t.data)==null?void 0:u.temperature)||"N/A")+" ℃",1),fe("div",null,"液位: "+it(((c=t.data)==null?void 0:c.level)||"N/A")+" %",1)])],2)}}}),SQ={class:"label"},kQ={class:"status"},_Q=rt({__name:"OxidizerTank",props:{id:{},selected:{type:Boolean},data:{}},emits:["update"],setup(n,{emit:e}){const t=n,i=e;function r(s){i("update",t.id,s)}return(s,o)=>{var a,l,u,c;return me(),_e("div",{class:qt(["custom-node tank oxidizer",{selected:t.selected}])},[z(V(Pi),{"min-width":80,"min-height":100}),z(V(An),{id:"pressurant",type:"target",position:"top",class:"handle"}),z(V(An),{id:"output",type:"source",position:"bottom",class:"handle"}),z(V(lo),null,{default:U(()=>[z(V(yt),{size:"small",onClick:o[0]||(o[0]=h=>r("FILL"))},{default:U(()=>o[3]||(o[3]=[Ce("加注")])),_:1}),z(V(yt),{size:"small",onClick:o[1]||(o[1]=h=>r("DRAIN"))},{default:U(()=>o[4]||(o[4]=[Ce("排空")])),_:1}),z(V(yt),{size:"small",onClick:o[2]||(o[2]=h=>r("VENT"))},{default:U(()=>o[5]||(o[5]=[Ce("排气")])),_:1})]),_:1}),fe("div",SQ,it(((a=t.data)==null?void 0:a.label)||"氧化剂罐"),1),fe("div",kQ,[fe("div",null,"压力: "+it(((l=t.data)==null?void 0:l.pressure)||"N/A")+" MPa",1),fe("div",null,"温度: "+it(((u=t.data)==null?void 0:u.temperature)||"N/A")+" ℃",1),fe("div",null,"液位: "+it(((c=t.data)==null?void 0:c.level)||"N/A")+" %",1)])],2)}}}),$Q={class:"label"},AQ={class:"status"},TQ=rt({__name:"PressurantTank",props:{id:{},selected:{type:Boolean},data:{}},emits:["update"],setup(n,{emit:e}){const t=n,i=e;function r(s){i("update",t.id,s)}return(s,o)=>{var a,l,u;return me(),_e("div",{class:qt(["custom-node tank pressurant",{selected:t.selected}])},[z(V(Pi),{"min-width":70,"min-height":90}),z(V(An),{id:"output",type:"source",position:"bottom",class:"handle"}),z(V(lo),null,{default:U(()=>[z(V(yt),{size:"small",onClick:o[0]||(o[0]=c=>r("FILL"))},{default:U(()=>o[2]||(o[2]=[Ce("充气")])),_:1}),z(V(yt),{size:"small",onClick:o[1]||(o[1]=c=>r("VENT"))},{default:U(()=>o[3]||(o[3]=[Ce("排气")])),_:1})]),_:1}),fe("div",$Q,it(((a=t.data)==null?void 0:a.label)||"增压气罐"),1),fe("div",AQ,[fe("div",null,"压力: "+it(((l=t.data)==null?void 0:l.pressure)||"N/A")+" MPa",1),fe("div",null,"温度: "+it(((u=t.data)==null?void 0:u.temperature)||"N/A")+" ℃",1)])],2)}}}),PQ={class:"label"},MQ={class:"status"},CQ=rt({__name:"Engine",props:{id:{},selected:{type:Boolean},data:{}},emits:["update"],setup(n,{emit:e}){const t=n,i=e;function r(s){i("update",t.id,s)}return(s,o)=>{var a,l,u,c;return me(),_e("div",{class:qt(["custom-node engine",{selected:t.selected}])},[z(V(Pi),{"min-width":100,"min-height":120}),z(V(An),{id:"fuel",type:"target",position:"left",class:"handle"}),z(V(An),{id:"oxidizer",type:"source",position:"right",class:"handle"}),z(V(lo),null,{default:U(()=>[z(V(yt),{size:"small",onClick:o[0]||(o[0]=h=>r("START"))},{default:U(()=>o[3]||(o[3]=[Ce("点火")])),_:1}),z(V(yt),{size:"small",onClick:o[1]||(o[1]=h=>r("SHUTDOWN"))},{default:U(()=>o[4]||(o[4]=[Ce("关机")])),_:1}),z(V(yt),{size:"small",onClick:o[2]||(o[2]=h=>r("PURGE"))},{default:U(()=>o[5]||(o[5]=[Ce("吹洗")])),_:1})]),_:1}),fe("div",PQ,it(((a=t.data)==null?void 0:a.label)||"推进器"),1),fe("div",MQ,[fe("div",null,"推力: "+it(((l=t.data)==null?void 0:l.thrust)||"N/A")+" kN",1),fe("div",null,"室压: "+it(((u=t.data)==null?void 0:u.chamber_pressure)||"N/A")+" MPa",1),fe("div",null,"混比: "+it(((c=t.data)==null?void 0:c.mixture_ratio)||"N/A"),1)])],2)}}}),EQ={class:"label"},QQ={class:"status"},RQ=rt({__name:"Valve",props:{id:{},selected:{type:Boolean},data:{}},emits:["update"],setup(n,{emit:e}){const t=n,i=e;function r(s){i("update",t.id,s)}return(s,o)=>{var a,l,u;return me(),_e("div",{class:qt(["custom-node valve",{selected:t.selected,open:((a=t.data)==null?void 0:a.value)==="OPEN"}])},[z(V(Pi),{"min-width":30,"min-height":20}),z(V(An),{id:"input",type:"target",position:"left",class:"handle"}),z(V(An),{id:"output",type:"source",position:"right",class:"handle"}),z(V(lo),null,{default:U(()=>[z(V(yt),{size:"small",onClick:o[0]||(o[0]=c=>r("OPEN"))},{default:U(()=>o[2]||(o[2]=[Ce("开启")])),_:1}),z(V(yt),{size:"small",onClick:o[1]||(o[1]=c=>r("CLOSE"))},{default:U(()=>o[3]||(o[3]=[Ce("关闭")])),_:1})]),_:1}),fe("div",EQ,it(((l=t.data)==null?void 0:l.label)||"阀门"),1),fe("div",QQ,it(((u=t.data)==null?void 0:u.value)||"关闭"),1)],2)}}}),zQ={class:"label"},DQ=rt({__name:"CheckValve",props:{id:{},selected:{type:Boolean},data:{}},setup(n){const e=n;return(t,i)=>{var r;return me(),_e("div",{class:qt(["custom-node check-valve",{selected:e.selected}])},[z(V(Pi),{"min-width":30,"min-height":20}),z(V(An),{id:"target",type:"target",position:"left",class:"handle"}),z(V(An),{id:"source",type:"source",position:"right",class:"handle"}),fe("div",zQ,it(((r=e.data)==null?void 0:r.label)||"单向阀"),1)],2)}}}),IQ=yn(DQ,[["__scopeId","data-v-199a83a6"]]),NQ={class:"label"},LQ={class:"status"},ZQ=rt({__name:"Regulator",props:{id:{},selected:{type:Boolean},data:{}},emits:["update"],setup(n,{emit:e}){const t=n,i=e;function r(s){i("update",t.id,s)}return(s,o)=>{var a,l;return me(),_e("div",{class:qt(["custom-node regulator",{selected:t.selected}])},[z(V(Pi),{"min-width":70,"min-height":50}),z(V(lo),null,{default:U(()=>[z(V(yt),{size:"small",onClick:o[0]||(o[0]=u=>r("SET"))},{default:U(()=>o[1]||(o[1]=[Ce("设定")])),_:1})]),_:1}),fe("div",NQ,it(((a=t.data)==null?void 0:a.label)||"调压阀"),1),fe("div",LQ,"设定: "+it(((l=t.data)==null?void 0:l.setpoint)||"N/A")+" MPa",1)],2)}}}),BQ=yn(ZQ,[["__scopeId","data-v-3915b64a"]]),VQ={class:"pipeline-panel"},XQ={class:"toolbar"},qQ={class:"label"},FQ={class:"value"},HQ={class:"label"},jQ={class:"value"},UQ={class:"label"},GQ={class:"value"},WQ=rt({__name:"PipelinePanel",setup(n){const{nodes:e,edges:t,addNodes:i,getNode:r,setNodes:s,addEdges:o,setEdges:a,project:l,elements:u}=Rt(),c=Me(!1),h=Me(null),d=Me(!1),m=Pr({style:"default",color:"#333",width:10}),v=[{label:"实线",value:"default"},{label:"虚线",value:"dashed"},{label:"点线",value:"dotted"}];function b(){var W,ae,Oe;if(!h.value)return;const he=h.value;m.style=((W=he.style)==null?void 0:W.type)||"default",m.color=((ae=he.style)==null?void 0:ae.stroke)||"#333",m.width=((Oe=he.style)==null?void 0:Oe.strokeWidth)||2,d.value=!0}function k(){if(!h.value)return;const he=h.value,W={stroke:m.color,strokeWidth:m.width,strokeDasharray:m.style==="dashed"?"5 5":m.style==="dotted"?"2 2":void 0};Object.assign(he.style,W),d.value=!1,H()}function _({edge:he}){h.value=he}const T=Me(null),$=Me(null),w=Me(!1),R=Me(!1),Q=Pr({past:[],future:[]}),M=[{id:"pressurant-1",type:"pressurant",position:{x:100,y:40},data:{label:"氦气瓶",pressure:"30.0",temperature:"25.0"}},{id:"pressure-1",type:"pressure",position:{x:100,y:150},data:{label:"P1",value:"30.0"}},{id:"regulator-1",type:"regulator",position:{x:100,y:260},data:{label:"主调压阀",setpoint:"2.0"}},{id:"pressure-2",type:"pressure",position:{x:100,y:250},data:{label:"P2",value:"2.0"}},{id:"oxidizer-1",type:"oxidizer",position:{x:300,y:100},data:{label:"液氧罐",pressure:"1.8",temperature:"-183.0",level:"95"}},{id:"temperature-1",type:"temperature",position:{x:300,y:230},data:{label:"T1",value:"-183.0"}},{id:"check_valve-1",type:"check_valve",position:{x:300,y:360},data:{label:"单向阀1"}},{id:"valve-1",type:"valve",position:{x:300,y:420},data:{label:"氧化剂阀"}},{id:"flow-1",type:"flow",position:{x:300,y:520},data:{label:"F1",value:"0.0"}},{id:"fuel-1",type:"fuel",position:{x:500,y:100},data:{label:"煤油罐",pressure:"1.8",temperature:"15.0",level:"95"}},{id:"temperature-2",type:"temperature",position:{x:500,y:230},data:{label:"T2",value:"15.0"}},{id:"check_valve-2",type:"check_valve",position:{x:500,y:360},data:{label:"单向阀2"}},{id:"valve-2",type:"valve",position:{x:500,y:420},data:{label:"燃料阀"}},{id:"flow-2",type:"flow",position:{x:500,y:520},data:{label:"F2",value:"0.0"}},{id:"engine-1",type:"engine",position:{x:325,y:660},data:{label:"主发动机",thrust:"0.0",chamber_pressure:"0.0",mixture_ratio:"2.5"}}],B=[{id:"e1-2",source:"pressurant-1",target:"pressure-1",style:{strokeWidth:5}},{id:"e2-3",source:"pressure-1",target:"regulator-1",style:{strokeWidth:5}},{id:"e3-4",source:"regulator-1",target:"pressure-2",style:{strokeWidth:5}},{id:"e4-5",source:"pressure-2",target:"oxidizer-1",style:{strokeWidth:5}},{id:"e4-6",source:"pressure-2",target:"fuel-1",style:{strokeWidth:5}},{id:"e5-7",source:"oxidizer-1",target:"temperature-1",style:{strokeWidth:5}},{id:"e7-8",source:"temperature-1",target:"check_valve-1",style:{strokeWidth:5}},{id:"e8-9",source:"check_valve-1",target:"valve-1",style:{strokeWidth:5}},{id:"e9-10",source:"valve-1",target:"flow-1",style:{strokeWidth:5}},{id:"e10-15",source:"flow-1",target:"engine-1",style:{strokeWidth:5}},{id:"e6-11",source:"fuel-1",target:"temperature-2",style:{strokeWidth:5}},{id:"e11-12",source:"temperature-2",target:"check_valve-2",style:{strokeWidth:5}},{id:"e12-13",source:"check_valve-2",target:"valve-2",style:{strokeWidth:5}},{id:"e13-14",source:"valve-2",target:"flow-2",style:{strokeWidth:5}},{id:"e14-15",source:"flow-2",target:"engine-1",style:{strokeWidth:5}}];function N(he,W){const ae=r(he);ae&&(ae.data={...ae.data,value:W},H())}function K(he){const W=l({x:100,y:100}),ae={id:`${he}-${Date.now()}`,type:he,position:W,data:{label:"",value:""}};i([ae]),H()}function q(){c.value=!0}function Z(he){const W=l({x:100,y:100}),ae={id:`custom-${Date.now()}`,type:"custom",position:W,data:{...he,label:he.label||"自定义组件"}};i([ae]),H()}function re({node:he}){T.value=he}function P(){T.value=null,h.value=null}function j(){T.value&&($.value=JSON.parse(JSON.stringify(T.value)))}function L(){if($.value){const he={...$.value,id:`${$.value.type}-${Date.now()}`,position:{x:$.value.position.x+50,y:$.value.position.y+50}};i([he]),H()}}function H(){Q.past.push({nodes:JSON.parse(JSON.stringify(e)),edges:JSON.parse(JSON.stringify(t))}),Q.future=[],te()}function ee(){if(Q.past.length>0){const he={nodes:e,edges:t};Q.future.unshift(he);const W=Q.past.pop();W&&(s(W.nodes),a(W.edges),te())}}function ce(){if(Q.future.length>0){const he={nodes:e,edges:t};Q.past.push(he);const W=Q.future.shift();W&&(s(W.nodes),a(W.edges),te())}}function te(){w.value=Q.past.length>0,R.value=Q.future.length>0}return gn(()=>{i(M),o(B),window.addEventListener("keydown",he=>{if(he.metaKey||he.ctrlKey)switch(he.key){case"c":T.value&&j();break;case"v":$.value&&L();break;case"z":!he.shiftKey&&w.value?ee():he.shiftKey&&R.value&&ce();break}})}),(he,W)=>(me(),_e("div",VQ,[fe("div",XQ,[z(V(Oo),null,{default:U(()=>[z(V(yt),{onClick:W[0]||(W[0]=ae=>K("fuel"))},{default:U(()=>W[17]||(W[17]=[Ce("燃料罐")])),_:1}),z(V(yt),{onClick:W[1]||(W[1]=ae=>K("oxidizer"))},{default:U(()=>W[18]||(W[18]=[Ce("氧化剂罐")])),_:1}),z(V(yt),{onClick:W[2]||(W[2]=ae=>K("pressurant"))},{default:U(()=>W[19]||(W[19]=[Ce("增压气罐")])),_:1}),z(V(yt),{onClick:W[3]||(W[3]=ae=>K("engine"))},{default:U(()=>W[20]||(W[20]=[Ce("推进器")])),_:1})]),_:1}),z(V(Oo),{style:{"margin-left":"12px"}},{default:U(()=>[z(V(yt),{onClick:W[4]||(W[4]=ae=>K("valve"))},{default:U(()=>W[21]||(W[21]=[Ce("阀门")])),_:1}),z(V(yt),{onClick:W[5]||(W[5]=ae=>K("check_valve"))},{default:U(()=>W[22]||(W[22]=[Ce("单向阀")])),_:1}),z(V(yt),{onClick:W[6]||(W[6]=ae=>K("regulator"))},{default:U(()=>W[23]||(W[23]=[Ce("调压阀")])),_:1})]),_:1}),z(V(Oo),{style:{"margin-left":"12px"}},{default:U(()=>[z(V(yt),{onClick:W[7]||(W[7]=ae=>K("pressure"))},{default:U(()=>W[24]||(W[24]=[Ce("压力传感器")])),_:1}),z(V(yt),{onClick:W[8]||(W[8]=ae=>K("temperature"))},{default:U(()=>W[25]||(W[25]=[Ce("温度传感器")])),_:1}),z(V(yt),{onClick:W[9]||(W[9]=ae=>K("flow"))},{default:U(()=>W[26]||(W[26]=[Ce("流量传感器")])),_:1})]),_:1}),z(V(Oo),{style:{"margin-left":"12px"}},{default:U(()=>[z(V(yt),{type:"primary",onClick:q},{default:U(()=>W[27]||(W[27]=[Ce("添加自定义组件")])),_:1})]),_:1}),z(V(Oo),{style:{"margin-left":"12px"}},{default:U(()=>[z(V(yt),{onClick:j,disabled:!T.value},{default:U(()=>W[28]||(W[28]=[Ce("复制")])),_:1},8,["disabled"]),z(V(yt),{onClick:L,disabled:!$.value},{default:U(()=>W[29]||(W[29]=[Ce("粘贴")])),_:1},8,["disabled"]),z(V(yt),{onClick:ee,disabled:!w.value},{default:U(()=>W[30]||(W[30]=[Ce("撤销")])),_:1},8,["disabled"]),z(V(yt),{onClick:ce,disabled:!R.value},{default:U(()=>W[31]||(W[31]=[Ce("重做")])),_:1},8,["disabled"])]),_:1}),z(V(Oo),{style:{"margin-left":"12px"}},{default:U(()=>[z(V(yt),{onClick:b,disabled:!h.value},{default:U(()=>W[32]||(W[32]=[Ce("编辑连接线")])),_:1},8,["disabled"])]),_:1})]),z(pQ,{modelValue:c.value,"onUpdate:modelValue":W[10]||(W[10]=ae=>c.value=ae),onConfirm:Z},null,8,["modelValue"]),z(V(Dy),{modelValue:d.value,"onUpdate:modelValue":W[15]||(W[15]=ae=>d.value=ae),title:"编辑连接线样式",width:"400px"},{footer:U(()=>[z(V(yt),{onClick:W[14]||(W[14]=ae=>d.value=!1)},{default:U(()=>W[33]||(W[33]=[Ce("取消")])),_:1}),z(V(yt),{type:"primary",onClick:k},{default:U(()=>W[34]||(W[34]=[Ce("确定")])),_:1})]),default:U(()=>[z(V(Iy),{model:m},{default:U(()=>[z(V(os),{label:"线型"},{default:U(()=>[z(V(Pa),{modelValue:m.style,"onUpdate:modelValue":W[11]||(W[11]=ae=>m.style=ae)},{default:U(()=>[(me(),_e(xt,null,Nt(v,ae=>z(V(Kn),{key:ae.value,label:ae.label,value:ae.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),z(V(os),{label:"颜色"},{default:U(()=>[z(V(a7),{modelValue:m.color,"onUpdate:modelValue":W[12]||(W[12]=ae=>m.color=ae)},null,8,["modelValue"])]),_:1}),z(V(os),{label:"粗细"},{default:U(()=>[z(V(l7),{modelValue:m.width,"onUpdate:modelValue":W[13]||(W[13]=ae=>m.width=ae),min:1,max:10},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),z(V(X$),{modelValue:V(u),"onUpdate:modelValue":W[16]||(W[16]=ae=>fh(u)?u.value=ae:null),"default-viewport":{zoom:1},"min-zoom":.2,"max-zoom":4,class:"pipeline-canvas",onNodeClick:re,onPaneClick:P,onEdgeClick:_},{"node-fuel":U(ae=>[z(xQ,ni(ae,{onUpdate:N}),null,16)]),"node-oxidizer":U(ae=>[z(_Q,ni(ae,{onUpdate:N}),null,16)]),"node-pressurant":U(ae=>[z(TQ,ni(ae,{onUpdate:N}),null,16)]),"node-engine":U(ae=>[z(CQ,ni(ae,{onUpdate:N}),null,16)]),"node-valve":U(ae=>[z(RQ,ni(ae,{onUpdate:N}),null,16)]),"node-check_valve":U(ae=>[z(IQ,zy(t7(ae)),null,16)]),"node-regulator":U(ae=>[z(BQ,ni(ae,{onUpdate:N}),null,16)]),"node-pressure":U(ae=>[fe("div",{class:qt(["custom-node sensor pressure",{selected:ae.selected}])},[z(V(Pi),{"min-width":60,"min-height":60}),fe("div",qQ,it(ae.data.label||"压力传感器"),1),fe("div",FQ,it(ae.data.value||"N/A")+" MPa",1)],2)]),"node-temperature":U(ae=>[fe("div",{class:qt(["custom-node sensor temperature",{selected:ae.selected}])},[z(V(Pi),{"min-width":60,"min-height":60}),fe("div",HQ,it(ae.data.label||"温度传感器"),1),fe("div",jQ,it(ae.data.value||"N/A")+" ℃",1)],2)]),"node-flow":U(ae=>[fe("div",{class:qt(["custom-node sensor flow",{selected:ae.selected}])},[z(V(Pi),{"min-width":60,"min-height":60}),fe("div",UQ,it(ae.data.label||"流量传感器"),1),fe("div",GQ,it(ae.data.value||"N/A")+" kg/s",1)],2)]),"node-custom":U(ae=>[z(yQ,ni(ae,{onUpdate:N}),null,16)]),default:U(()=>[z(V(Y$),{"pattern-color":"#aaa",gap:20}),z(V(TA)),z(V(cC))]),_:1},8,["modelValue"])]))}}),YQ=yn(WQ,[["__scopeId","data-v-b5b33707"]]),I1={type:"change"},Hp={type:"start"},W4={type:"end"},vu=new g7,N1=new v7,KQ=Math.cos(70*br.DEG2RAD),hn=new Et,Zn=2*Math.PI,It={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},D0=1e-6;class Y4 extends m7{constructor(e,t=null){super(e,t),this.state=It.NONE,this.enabled=!0,this.target=new Et,this.cursor=new Et,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:To.ROTATE,MIDDLE:To.DOLLY,RIGHT:To.PAN},this.touches={ONE:ko.ROTATE,TWO:ko.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Et,this._lastQuaternion=new bc,this._lastTargetPosition=new Et,this._quat=new bc().setFromUnitVectors(e.up,new Et(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new bg,this._sphericalDelta=new bg,this._scale=1,this._panOffset=new Et,this._rotateStart=new Rn,this._rotateEnd=new Rn,this._rotateDelta=new Rn,this._panStart=new Rn,this._panEnd=new Rn,this._panDelta=new Rn,this._dollyStart=new Rn,this._dollyEnd=new Rn,this._dollyDelta=new Rn,this._dollyDirection=new Et,this._mouse=new Rn,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=eR.bind(this),this._onPointerDown=JQ.bind(this),this._onPointerUp=tR.bind(this),this._onContextMenu=lR.bind(this),this._onMouseWheel=rR.bind(this),this._onKeyDown=sR.bind(this),this._onTouchStart=oR.bind(this),this._onTouchMove=aR.bind(this),this._onMouseDown=nR.bind(this),this._onMouseMove=iR.bind(this),this._interceptControlDown=uR.bind(this),this._interceptControlUp=cR.bind(this),this.domElement!==null&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(I1),this.update(),this.state=It.NONE}update(e=null){const t=this.object.position;hn.copy(t).sub(this.target),hn.applyQuaternion(this._quat),this._spherical.setFromVector3(hn),this.autoRotate&&this.state===It.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let i=this.minAzimuthAngle,r=this.maxAzimuthAngle;isFinite(i)&&isFinite(r)&&(i<-Math.PI?i+=Zn:i>Math.PI&&(i-=Zn),r<-Math.PI?r+=Zn:r>Math.PI&&(r-=Zn),i<=r?this._spherical.theta=Math.max(i,Math.min(r,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(i+r)/2?Math.max(i,this._spherical.theta):Math.min(r,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=o!=this._spherical.radius}if(hn.setFromSpherical(this._spherical),hn.applyQuaternion(this._quatInverse),t.copy(this.target).add(hn),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let o=null;if(this.object.isPerspectiveCamera){const a=hn.length();o=this._clampDistance(a*this._scale);const l=a-o;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),s=!!l}else if(this.object.isOrthographicCamera){const a=new Et(this._mouse.x,this._mouse.y,0);a.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=l!==this.object.zoom;const u=new Et(this._mouse.x,this._mouse.y,0);u.unproject(this.object),this.object.position.sub(u).add(a),this.object.updateMatrixWorld(),o=hn.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;o!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(o).add(this.object.position):(vu.origin.copy(this.object.position),vu.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(vu.direction))<KQ?this.object.lookAt(this.target):(N1.setFromNormalAndCoplanarPoint(this.object.up,this.target),vu.intersectPlane(N1,this.target))))}else if(this.object.isOrthographicCamera){const o=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),o!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,s||this._lastPosition.distanceToSquared(this.object.position)>D0||8*(1-this._lastQuaternion.dot(this.object.quaternion))>D0||this._lastTargetPosition.distanceToSquared(this.target)>D0?(this.dispatchEvent(I1),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?Zn/60*this.autoRotateSpeed*e:Zn/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){hn.setFromMatrixColumn(t,0),hn.multiplyScalar(-e),this._panOffset.add(hn)}_panUp(e,t){this.screenSpacePanning===!0?hn.setFromMatrixColumn(t,1):(hn.setFromMatrixColumn(t,0),hn.crossVectors(this.object.up,hn)),hn.multiplyScalar(e),this._panOffset.add(hn)}_pan(e,t){const i=this.domElement;if(this.object.isPerspectiveCamera){const r=this.object.position;hn.copy(r).sub(this.target);let s=hn.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/i.clientHeight,this.object.matrix),this._panUp(2*t*s/i.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const i=this.domElement.getBoundingClientRect(),r=e-i.left,s=t-i.top,o=i.width,a=i.height;this._mouse.x=r/o*2-1,this._mouse.y=-(s/a)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Zn*this._rotateDelta.x/t.clientHeight),this._rotateUp(Zn*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Zn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Zn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Zn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Zn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._rotateStart.set(i,r)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._panStart.set(i,r)}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),i=e.pageX-t.x,r=e.pageY-t.y,s=Math.sqrt(i*i+r*r);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e),r=.5*(e.pageX+i.x),s=.5*(e.pageY+i.y);this._rotateEnd.set(r,s)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Zn*this._rotateDelta.x/t.clientHeight),this._rotateUp(Zn*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._panEnd.set(i,r)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),i=e.pageX-t.x,r=e.pageY-t.y,s=Math.sqrt(i*i+r*r);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const o=(e.pageX+t.x)*.5,a=(e.pageY+t.y)*.5;this._updateZoomParameters(o,a)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId){this._pointers.splice(t,1);return}}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];t===void 0&&(t=new Rn,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}_customWheelEvent(e){const t=e.deltaMode,i={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(i.deltaY*=10),i}}function JQ(n){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),n.pointerType==="touch"?this._onTouchStart(n):this._onMouseDown(n)))}function eR(n){this.enabled!==!1&&(n.pointerType==="touch"?this._onTouchMove(n):this._onMouseMove(n))}function tR(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(W4),this.state=It.NONE;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y});break}}function nR(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case To.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(n),this.state=It.DOLLY;break;case To.ROTATE:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=It.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=It.ROTATE}break;case To.PAN:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=It.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=It.PAN}break;default:this.state=It.NONE}this.state!==It.NONE&&this.dispatchEvent(Hp)}function iR(n){switch(this.state){case It.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(n);break;case It.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(n);break;case It.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(n);break}}function rR(n){this.enabled===!1||this.enableZoom===!1||this.state!==It.NONE||(n.preventDefault(),this.dispatchEvent(Hp),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(W4))}function sR(n){this.enabled!==!1&&this._handleKeyDown(n)}function oR(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case ko.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(n),this.state=It.TOUCH_ROTATE;break;case ko.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(n),this.state=It.TOUCH_PAN;break;default:this.state=It.NONE}break;case 2:switch(this.touches.TWO){case ko.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(n),this.state=It.TOUCH_DOLLY_PAN;break;case ko.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(n),this.state=It.TOUCH_DOLLY_ROTATE;break;default:this.state=It.NONE}break;default:this.state=It.NONE}this.state!==It.NONE&&this.dispatchEvent(Hp)}function aR(n){switch(this._trackPointer(n),this.state){case It.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(n),this.update();break;case It.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(n),this.update();break;case It.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(n),this.update();break;case It.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=It.NONE}}function lR(n){this.enabled!==!1&&n.preventDefault()}function uR(n){n.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function cR(n){n.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function L1(n,e){if(e===O7)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Cd||e===Ny){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===Cd)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}class hR extends xp{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new gR(t)}),this.register(function(t){return new vR(t)}),this.register(function(t){return new $R(t)}),this.register(function(t){return new AR(t)}),this.register(function(t){return new TR(t)}),this.register(function(t){return new yR(t)}),this.register(function(t){return new bR(t)}),this.register(function(t){return new wR(t)}),this.register(function(t){return new xR(t)}),this.register(function(t){return new mR(t)}),this.register(function(t){return new SR(t)}),this.register(function(t){return new OR(t)}),this.register(function(t){return new _R(t)}),this.register(function(t){return new kR(t)}),this.register(function(t){return new fR(t)}),this.register(function(t){return new PR(t)}),this.register(function(t){return new MR(t)})}load(e,t,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=Po.extractUrlBase(e);o=Po.resolveURL(u,this.path)}else o=Po.extractUrlBase(e);this.manager.itemStart(e);const a=function(u){r?r(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ph(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){t(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={},l=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===K4){try{o[_t.KHR_BINARY_GLTF]=new CR(e)}catch(h){r&&r(h);return}s=JSON.parse(o[_t.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new qR(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const h=this.pluginCallbacks[c](u);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const h=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(h){case _t.KHR_MATERIALS_UNLIT:o[h]=new pR;break;case _t.KHR_DRACO_MESH_COMPRESSION:o[h]=new ER(s,this.dracoLoader);break;case _t.KHR_TEXTURE_TRANSFORM:o[h]=new QR;break;case _t.KHR_MESH_QUANTIZATION:o[h]=new RR;break;default:d.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function dR(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const _t={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class fR{constructor(e){this.parser=e,this.name=_t.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new si(16777215);l.color!==void 0&&c.setRGB(l.color[0],l.color[1],l.color[2],Cr);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new wc(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new Ly(c),u.distance=h;break;case"spot":u=new y7(c),u.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),mr(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(u),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class pR{constructor(){this.name=_t.KHR_MATERIALS_UNLIT}getMaterialType(){return Ca}extendParams(e,t,i){const r=[];e.color=new si(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Cr),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,Hi))}return Promise.all(r)}}class mR{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class gR{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:tr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Rn(a,a)}return Promise.all(s)}}class vR{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:tr}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class OR{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:tr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class yR{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:tr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new si(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Cr)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Hi)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class bR{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:tr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class wR{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:tr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new si().setRGB(a[0],a[1],a[2],Cr),Promise.all(s)}}class xR{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:tr}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class SR{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:tr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new si().setRGB(a[0],a[1],a[2],Cr),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,Hi)),Promise.all(s)}}class kR{constructor(e){this.parser=e,this.name=_t.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:tr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class _R{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:tr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class $R{constructor(e){this.parser=e,this.name=_t.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class AR{constructor(e){this.parser=e,this.name=_t.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class TR{constructor(e){this.parser=e,this.name=_t.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class PR{constructor(e){this.name=_t.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,u=r.byteLength||0,c=r.count,h=r.byteStride,d=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,h,d,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(c*h);return o.decodeGltfBuffer(new Uint8Array(m),c,h,d,r.mode,r.filter),m})})}else return null}}class MR{constructor(e){this.name=_t.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const u of r.primitives)if(u.mode!==hi.TRIANGLES&&u.mode!==hi.TRIANGLE_STRIP&&u.mode!==hi.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(c=>(l[u]=c,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const c=u.pop(),h=c.isGroup?c.children:[c],d=u[0].count,m=[];for(const v of h){const b=new xc,k=new Et,_=new bc,T=new Et(1,1,1),$=new b7(v.geometry,v.material,d);for(let w=0;w<d;w++)l.TRANSLATION&&k.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&_.fromBufferAttribute(l.ROTATION,w),l.SCALE&&T.fromBufferAttribute(l.SCALE,w),$.setMatrixAt(w,b.compose(k,_,T));for(const w in l)if(w==="_COLOR_0"){const R=l[w];$.instanceColor=new w7(R.array,R.itemSize,R.normalized)}else w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&v.geometry.setAttribute(w,l[w]);Fa.prototype.copy.call($,v),this.parser.assignFinalMaterial($),m.push($)}return c.isGroup?(c.clear(),c.add(...m),c):m[0]}))}}const K4="glTF",xa=12,Z1={JSON:1313821514,BIN:5130562};class CR{constructor(e){this.name=_t.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,xa),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==K4)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-xa,s=new DataView(e,xa);let o=0;for(;o<r;){const a=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);if(o+=4,l===Z1.JSON){const u=new Uint8Array(e,xa+o,a);this.content=i.decode(u)}else if(l===Z1.BIN){const u=xa+o;this.body=e.slice(u,u+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ER{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=_t.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const h=hf[c]||c.toLowerCase();a[h]=o[c]}for(const c in e.attributes){const h=hf[c]||c.toLowerCase();if(o[c]!==void 0){const d=i.accessors[e.attributes[c]],m=Io[d.componentType];u[h]=m.name,l[h]=d.normalized===!0}}return t.getDependency("bufferView",s).then(function(c){return new Promise(function(h,d){r.decodeDracoFile(c,function(m){for(const v in m.attributes){const b=m.attributes[v],k=l[v];k!==void 0&&(b.normalized=k)}h(m)},a,u,Cr,d)})})}}class QR{constructor(){this.name=_t.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class RR{constructor(){this.name=_t.KHR_MESH_QUANTIZATION}}class J4 extends N7{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=r-t,h=(i-t)/c,d=h*h,m=d*h,v=e*u,b=v-u,k=-2*m+3*d,_=m-d,T=1-k,$=_-d+h;for(let w=0;w!==a;w++){const R=o[b+w+a],Q=o[b+w+l]*c,M=o[v+w+a],B=o[v+w]*c;s[w]=T*R+$*Q+k*M+_*B}return s}}const zR=new bc;class DR extends J4{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return zR.fromArray(s).normalize().toArray(s),s}}const hi={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Io={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},B1={9728:kp,9729:Ed,9984:$7,9985:_7,9986:k7,9987:Zy},V1={33071:T7,33648:A7,10497:qo},I0={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},hf={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Gr={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},IR={CUBICSPLINE:void 0,LINEAR:Xy,STEP:D7},N0={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function NR(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Es({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:qy})),n.DefaultMaterial}function Ts(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function mr(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function LR(n,e,t){let i=!1,r=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const h=e[u];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const h=e[u];if(i){const d=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(d)}if(r){const d=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(d)}if(s){const d=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],h=u[1],d=u[2];return i&&(n.morphAttributes.position=c),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=d),n.morphTargetsRelative=!0,n})}function ZR(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function BR(n){let e;const t=n.extensions&&n.extensions[_t.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+L0(t.attributes):e=n.indices+":"+L0(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+L0(n.targets[i]);return e}function L0(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function df(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function VR(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":n.search(/\.ktx2($|\?)/i)>0||n.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const XR=new xc;class qR{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new dR,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=-1,s=!1,o=-1;if(typeof navigator<"u"){const a=navigator.userAgent;i=/^((?!chrome|android).)*safari/i.test(a)===!0;const l=a.match(/Version\/(\d+)/);r=i&&l?parseInt(l[1],10):-1,s=a.indexOf("Firefox")>-1,o=s?a.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||i&&r<17||s&&o<98?this.textureLoader=new Sp(this.options.manager):this.textureLoader=new x7(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ph(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return Ts(s,a,r),mr(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[_t.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Po.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=I0[r.type],a=Io[r.componentType],l=r.normalized===!0,u=new a(r.count*o);return Promise.resolve(new y0(u,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=I0[r.type],u=Io[r.componentType],c=u.BYTES_PER_ELEMENT,h=c*l,d=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let b,k;if(m&&m!==h){const _=Math.floor(d/m),T="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+_+":"+r.count;let $=t.cache.get(T);$||(b=new u(a,_*m,r.count*m/c),$=new S7(b,m/c),t.cache.add(T,$)),k=new I7($,l,d%m/c,v)}else a===null?b=new u(r.count*l):b=new u(a,d,r.count*l),k=new y0(b,l,v);if(r.sparse!==void 0){const _=I0.SCALAR,T=Io[r.sparse.indices.componentType],$=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,R=new T(o[1],$,r.sparse.count*_),Q=new u(o[2],w,r.sparse.count*l);a!==null&&(k=new y0(k.array.slice(),k.itemSize,k.normalized)),k.normalized=!1;for(let M=0,B=R.length;M<B;M++){const N=R[M];if(k.setX(N,Q[M*l]),l>=2&&k.setY(N,Q[M*l+1]),l>=3&&k.setZ(N,Q[M*l+2]),l>=4&&k.setW(N,Q[M*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}k.normalized=v}return k})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,i).then(function(c){c.flipY=!1,c.name=o.name||a.name||"",c.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(c.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return c.magFilter=B1[d.magFilter]||Ed,c.minFilter=B1[d.minFilter]||Zy,c.wrapS=V1[d.wrapS]||qo,c.wrapT=V1[d.wrapT]||qo,c.generateMipmaps=!c.isCompressedTexture&&c.minFilter!==kp&&c.minFilter!==Ed,r.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(h){u=!0;const d=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(h){return new Promise(function(d,m){let v=d;t.isImageBitmapLoader===!0&&(v=function(b){const k=new wg(b);k.needsUpdate=!0,d(k)}),t.load(Po.resolveURL(h,s.path),v,void 0,m)})}).then(function(h){return u===!0&&a.revokeObjectURL(l),mr(h,o),h.userData.mimeType=o.mimeType||VR(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=c,c}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[_t.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[_t.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[_t.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(o.colorSpace=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Ma,Ha.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new ja,Ha.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return Es}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[_t.KHR_MATERIALS_UNLIT]){const h=r[_t.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new si(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const d=h.baseColorFactor;a.color.setRGB(d[0],d[1],d[2],Cr),a.opacity=d[3]}h.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",h.baseColorTexture,Hi)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=By);const c=s.alphaMode||N0.OPAQUE;if(c===N0.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===N0.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ca&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Rn(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}if(s.occlusionTexture!==void 0&&o!==Ca&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ca){const h=s.emissiveFactor;a.emissive=new si().setRGB(h[0],h[1],h[2],Cr)}return s.emissiveTexture!==void 0&&o!==Ca&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Hi)),Promise.all(u).then(function(){const h=new o(a);return s.name&&(h.name=s.name),mr(h,s),t.associations.set(h,{materials:e}),s.extensions&&Ts(r,h,s),h})}createUniqueName(e){const t=P7.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[_t.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return X1(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=BR(u),h=r[c];if(h)o.push(h.promise);else{let d;u.extensions&&u.extensions[_t.KHR_DRACO_MESH_COMPRESSION]?d=s(u):d=X1(new Sc,u,t),r[c]={primitive:u,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?NR(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],h=[];for(let m=0,v=c.length;m<v;m++){const b=c[m],k=o[m];let _;const T=u[m];if(k.mode===hi.TRIANGLES||k.mode===hi.TRIANGLE_STRIP||k.mode===hi.TRIANGLE_FAN||k.mode===void 0)_=s.isSkinnedMesh===!0?new M7(b,T):new Xi(b,T),_.isSkinnedMesh===!0&&_.normalizeSkinWeights(),k.mode===hi.TRIANGLE_STRIP?_.geometry=L1(_.geometry,Ny):k.mode===hi.TRIANGLE_FAN&&(_.geometry=L1(_.geometry,Cd));else if(k.mode===hi.LINES)_=new Qd(b,T);else if(k.mode===hi.LINE_STRIP)_=new Vy(b,T);else if(k.mode===hi.LINE_LOOP)_=new C7(b,T);else if(k.mode===hi.POINTS)_=new Mo(b,T);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+k.mode);Object.keys(_.geometry.morphAttributes).length>0&&ZR(_,s),_.name=t.createUniqueName(s.name||"mesh_"+e),mr(_,s),k.extensions&&Ts(r,_,k),t.assignFinalMaterial(_),h.push(_)}for(let m=0,v=h.length;m<v;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&Ts(r,h[0],s),h[0];const d=new Hs;s.extensions&&Ts(r,d,s),t.associations.set(d,{meshes:e});for(let m=0,v=h.length;m<v;m++)d.add(h[m]);return d})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Ua(br.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new E7(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),mr(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let u=0,c=o.length;u<c;u++){const h=o[u];if(h){a.push(h);const d=new xc;s!==null&&d.fromArray(s.array,u*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new Q7(a,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],u=[],c=[];for(let h=0,d=r.channels.length;h<d;h++){const m=r.channels[h],v=r.samplers[m.sampler],b=m.target,k=b.node,_=r.parameters!==void 0?r.parameters[v.input]:v.input,T=r.parameters!==void 0?r.parameters[v.output]:v.output;b.node!==void 0&&(o.push(this.getDependency("node",k)),a.push(this.getDependency("accessor",_)),l.push(this.getDependency("accessor",T)),u.push(v),c.push(b))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(c)]).then(function(h){const d=h[0],m=h[1],v=h[2],b=h[3],k=h[4],_=[];for(let T=0,$=d.length;T<$;T++){const w=d[T],R=m[T],Q=v[T],M=b[T],B=k[T];if(w===void 0)continue;w.updateMatrix&&w.updateMatrix();const N=i._createAnimationTracks(w,R,Q,M,B);if(N)for(let K=0;K<N.length;K++)_.push(N[K])}return new R7(s,void 0,_)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=r.weights.length;l<u;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let u=0,c=a.length;u<c;u++)o.push(i.getDependency("node",a[u]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const c=u[0],h=u[1],d=u[2];d!==null&&c.traverse(function(m){m.isSkinnedMesh&&m.bind(d,XR)});for(let m=0,v=h.length;m<v;m++)c.add(h[m]);return c})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(u){return r._getNodeRef(r.cameraCache,s.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let c;if(s.isBone===!0?c=new z7:u.length>1?c=new Hs:u.length===1?c=u[0]:c=new Fa,c!==u[0])for(let h=0,d=u.length;h<d;h++)c.add(u[h]);if(s.name&&(c.userData.name=s.name,c.name=o),mr(c,s),s.extensions&&Ts(i,c,s),s.matrix!==void 0){const h=new xc;h.fromArray(s.matrix),c.applyMatrix4(h)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return r.associations.has(c)||r.associations.set(c,{}),r.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Hs;i.name&&(s.name=r.createUniqueName(i.name)),mr(s,i),i.extensions&&Ts(t,s,i);const o=i.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let c=0,h=l.length;c<h;c++)s.add(l[c]);const u=c=>{const h=new Map;for(const[d,m]of r.associations)(d instanceof Ha||d instanceof wg)&&h.set(d,m);return c.traverse(d=>{const m=r.associations.get(d);m!=null&&h.set(d,m)}),h};return r.associations=u(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];Gr[s.path]===Gr.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(a);let u;switch(Gr[s.path]){case Gr.weights:u=Sg;break;case Gr.rotation:u=kg;break;case Gr.position:case Gr.scale:u=xg;break;default:switch(i.itemSize){case 1:u=Sg;break;case 2:case 3:default:u=xg;break}break}const c=r.interpolation!==void 0?IR[r.interpolation]:Xy,h=this._getArrayFromAccessor(i);for(let d=0,m=l.length;d<m;d++){const v=new u(l[d]+"."+Gr[s.path],t.array,h,c);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=df(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof kg?DR:J4;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function FR(n,e,t){const i=e.attributes,r=new L7;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(r.set(new Et(l[0],l[1],l[2]),new Et(u[0],u[1],u[2])),a.normalized){const c=df(Io[a.componentType]);r.min.multiplyScalar(c),r.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Et,l=new Et;for(let u=0,c=s.length;u<c;u++){const h=s[u];if(h.POSITION!==void 0){const d=t.json.accessors[h.POSITION],m=d.min,v=d.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),d.normalized){const b=df(Io[d.componentType]);l.multiplyScalar(b)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Z7;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function X1(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=hf[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Ga.workingColorSpace!==Cr&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Ga.workingColorSpace}" not supported.`),mr(n,e),FR(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?LR(n,e.targets,t):n})}const HR=/^[og]\s*(.+)?/,jR=/^mtllib /,UR=/^usemtl /,GR=/^usemap /,q1=/\s+/,F1=new Et,Z0=new Et,H1=new Et,j1=new Et,ci=new Et,Ou=new si;function WR(){const n={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const i=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(r,s){const o=this._finalize(!1);o&&(o.inherited||o.groupCount<=0)&&this.materials.splice(o.index,1);const a={index:this.materials.length,name:r||"",mtllib:Array.isArray(s)&&s.length>0?s[s.length-1]:"",smooth:o!==void 0?o.smooth:this.smooth,groupStart:o!==void 0?o.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(l){const u={index:typeof l=="number"?l:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return u.clone=this.clone.bind(u),u}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(r){const s=this.currentMaterial();if(s&&s.groupEnd===-1&&(s.groupEnd=this.geometry.vertices.length/3,s.groupCount=s.groupEnd-s.groupStart,s.inherited=!1),r&&this.materials.length>1)for(let o=this.materials.length-1;o>=0;o--)this.materials[o].groupCount<=0&&this.materials.splice(o,1);return r&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),s}},i&&i.name&&typeof i.clone=="function"){const r=i.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const i=parseInt(e,10);return(i>=0?i-1:i+t/3)*3},parseNormalIndex:function(e,t){const i=parseInt(e,10);return(i>=0?i-1:i+t/3)*3},parseUVIndex:function(e,t){const i=parseInt(e,10);return(i>=0?i-1:i+t/2)*2},addVertex:function(e,t,i){const r=this.vertices,s=this.object.geometry.vertices;s.push(r[e+0],r[e+1],r[e+2]),s.push(r[t+0],r[t+1],r[t+2]),s.push(r[i+0],r[i+1],r[i+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,i){const r=this.normals,s=this.object.geometry.normals;s.push(r[e+0],r[e+1],r[e+2]),s.push(r[t+0],r[t+1],r[t+2]),s.push(r[i+0],r[i+1],r[i+2])},addFaceNormal:function(e,t,i){const r=this.vertices,s=this.object.geometry.normals;F1.fromArray(r,e),Z0.fromArray(r,t),H1.fromArray(r,i),ci.subVectors(H1,Z0),j1.subVectors(F1,Z0),ci.cross(j1),ci.normalize(),s.push(ci.x,ci.y,ci.z),s.push(ci.x,ci.y,ci.z),s.push(ci.x,ci.y,ci.z)},addColor:function(e,t,i){const r=this.colors,s=this.object.geometry.colors;r[e]!==void 0&&s.push(r[e+0],r[e+1],r[e+2]),r[t]!==void 0&&s.push(r[t+0],r[t+1],r[t+2]),r[i]!==void 0&&s.push(r[i+0],r[i+1],r[i+2])},addUV:function(e,t,i){const r=this.uvs,s=this.object.geometry.uvs;s.push(r[e+0],r[e+1]),s.push(r[t+0],r[t+1]),s.push(r[i+0],r[i+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,i,r,s,o,a,l,u){const c=this.vertices.length;let h=this.parseVertexIndex(e,c),d=this.parseVertexIndex(t,c),m=this.parseVertexIndex(i,c);if(this.addVertex(h,d,m),this.addColor(h,d,m),a!==void 0&&a!==""){const v=this.normals.length;h=this.parseNormalIndex(a,v),d=this.parseNormalIndex(l,v),m=this.parseNormalIndex(u,v),this.addNormal(h,d,m)}else this.addFaceNormal(h,d,m);if(r!==void 0&&r!==""){const v=this.uvs.length;h=this.parseUVIndex(r,v),d=this.parseUVIndex(s,v),m=this.parseUVIndex(o,v),this.addUV(h,d,m),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let i=0,r=e.length;i<r;i++){const s=this.parseVertexIndex(e[i],t);this.addVertexPoint(s),this.addColor(s)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const i=this.vertices.length,r=this.uvs.length;for(let s=0,o=e.length;s<o;s++)this.addVertexLine(this.parseVertexIndex(e[s],i));for(let s=0,o=t.length;s<o;s++)this.addUVLine(this.parseUVIndex(t[s],r))}};return n.startObject("",!1),n}class eb extends xp{constructor(e){super(e),this.materials=null}load(e,t,i,r){const s=this,o=new ph(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(a))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}setMaterials(e){return this.materials=e,this}parse(e){const t=new WR;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const i=e.split(`
`);let r=[];for(let a=0,l=i.length;a<l;a++){const u=i[a].trimStart();if(u.length===0)continue;const c=u.charAt(0);if(c!=="#")if(c==="v"){const h=u.split(q1);switch(h[0]){case"v":t.vertices.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3])),h.length>=7?(Ou.setRGB(parseFloat(h[4]),parseFloat(h[5]),parseFloat(h[6]),Hi),t.colors.push(Ou.r,Ou.g,Ou.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3]));break;case"vt":t.uvs.push(parseFloat(h[1]),parseFloat(h[2]));break}}else if(c==="f"){const d=u.slice(1).trim().split(q1),m=[];for(let b=0,k=d.length;b<k;b++){const _=d[b];if(_.length>0){const T=_.split("/");m.push(T)}}const v=m[0];for(let b=1,k=m.length-1;b<k;b++){const _=m[b],T=m[b+1];t.addFace(v[0],_[0],T[0],v[1],_[1],T[1],v[2],_[2],T[2])}}else if(c==="l"){const h=u.substring(1).trim().split(" ");let d=[];const m=[];if(u.indexOf("/")===-1)d=h;else for(let v=0,b=h.length;v<b;v++){const k=h[v].split("/");k[0]!==""&&d.push(k[0]),k[1]!==""&&m.push(k[1])}t.addLineGeometry(d,m)}else if(c==="p"){const d=u.slice(1).trim().split(" ");t.addPointGeometry(d)}else if((r=HR.exec(u))!==null){const h=(" "+r[0].slice(1).trim()).slice(1);t.startObject(h)}else if(UR.test(u))t.object.startMaterial(u.substring(7).trim(),t.materialLibraries);else if(jR.test(u))t.materialLibraries.push(u.substring(7).trim());else if(GR.test(u))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(c==="s"){if(r=u.split(" "),r.length>1){const d=r[1].trim().toLowerCase();t.object.smooth=d!=="0"&&d!=="off"}else t.object.smooth=!0;const h=t.object.currentMaterial();h&&(h.smooth=t.object.smooth)}else{if(u==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+u+'"')}}t.finalize();const s=new Hs;if(s.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let a=0,l=t.objects.length;a<l;a++){const u=t.objects[a],c=u.geometry,h=u.materials,d=c.type==="Line",m=c.type==="Points";let v=!1;if(c.vertices.length===0)continue;const b=new Sc;b.setAttribute("position",new yo(c.vertices,3)),c.normals.length>0&&b.setAttribute("normal",new yo(c.normals,3)),c.colors.length>0&&(v=!0,b.setAttribute("color",new yo(c.colors,3))),c.hasUVIndices===!0&&b.setAttribute("uv",new yo(c.uvs,2));const k=[];for(let T=0,$=h.length;T<$;T++){const w=h[T],R=w.name+"_"+w.smooth+"_"+v;let Q=t.materials[R];if(this.materials!==null){if(Q=this.materials.create(w.name),d&&Q&&!(Q instanceof ja)){const M=new ja;Ha.prototype.copy.call(M,Q),M.color.copy(Q.color),Q=M}else if(m&&Q&&!(Q instanceof Ma)){const M=new Ma({size:10,sizeAttenuation:!1});Ha.prototype.copy.call(M,Q),M.color.copy(Q.color),M.map=Q.map,Q=M}}Q===void 0&&(d?Q=new ja:m?Q=new Ma({size:1,sizeAttenuation:!1}):Q=new _p,Q.name=w.name,Q.flatShading=!w.smooth,Q.vertexColors=v,t.materials[R]=Q),k.push(Q)}let _;if(k.length>1){for(let T=0,$=h.length;T<$;T++){const w=h[T];b.addGroup(w.groupStart,w.groupCount,T)}d?_=new Qd(b,k):m?_=new Mo(b,k):_=new Xi(b,k)}else d?_=new Qd(b,k[0]):m?_=new Mo(b,k[0]):_=new Xi(b,k[0]);_.name=u.name,s.add(_)}else if(t.vertices.length>0){const a=new Ma({size:1,sizeAttenuation:!1}),l=new Sc;l.setAttribute("position",new yo(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(l.setAttribute("color",new yo(t.colors,3)),a.vertexColors=!0);const u=new Mo(l,a);s.add(u)}return s}}var YR=B7();const tb=Fy(YR),KR={class:"chart-3d-container"},JR={class:"data-panel"},ez={class:"model-controls"},tz=rt({__name:"ChartIMU",setup(n){try{Co.install({THREE:Hy})}catch{}const e=vi.getInstance(),t=Me(null),i=Me(0),r=Me(0),s=Me(0),o=Me("rocket"),a=Me(null),l=Me(null),u=ao(),c=qe(()=>u.value?1710618:15790320),h=qe(()=>u.value?4210752:3368703);let d,m,v,b,k,_,T,$,w;const R=()=>{d=new jy,d.background=new si(c.value);const H=new V7(1.6);d.add(H),m=new q7,$=new tb,$.showPanel(0),$.dom.style.position="absolute",$.dom.style.left="0px",$.dom.style.top="0px",t.value.appendChild($.dom),v=new Ua(75,t.value.clientWidth/t.value.clientHeight,.1,1e3),v.position.set(2,2,2),v.lookAt(0,0,0),b=new Uy({antialias:!0}),b.setSize(t.value.clientWidth,t.value.clientHeight),t.value.appendChild(b.domElement),_=new Y4(v,b.domElement),_.enableDamping=!0,N(o.value),q()},Q=()=>{const H=new Hs,ee=new _g(.5,1.4,12),ce=new Es({color:h.value,metalness:.6,roughness:.3,envMapIntensity:1.2}),te=new Xi(ee,ce);te.position.set(0,0,-.6),te.rotation.x=-Math.PI/2,H.add(te);const he=new Rd(.4,.4,1),W=new Es({color:h.value,metalness:.6,roughness:.3,envMapIntensity:1.2}),ae=new Xi(he,W);return ae.position.set(0,0,.3),H.add(ae),H},M=()=>{const H=new Hs,ee=new _g(.2,.5,12),ce=new Es({color:h.value,metalness:.6,roughness:.3,envMapIntensity:1.2}),te=new Xi(ee,ce);te.position.set(0,1.05,0),H.add(te);const he=new F7(.2,.2,1.6),W=new Es({color:h.value,metalness:.6,roughness:.3,envMapIntensity:1.2}),ae=new Xi(he,W);ae.position.set(0,0,0),H.add(ae);const Oe=.09,we=1.5,Ne=800,Re=window.innerHeight,Ke=new Co.Geometry(Oe,we,Ne),be=new Co.Material({color:16720384});return be.setPerspective(v.fov,Re),w=new Mo(Ke,be),w.rotation.x=3.14,w.position.set(0,-.92,0),H.add(w),H},B=()=>{const H=new Hs,ee=new Rd(1,1,1),ce=new Es({color:h.value,metalness:.7,roughness:.3,envMapIntensity:1}),te=new Xi(ee,ce);return H.add(te),H},N=H=>{switch(k&&d.remove(k),H){case"rocket":k=M();break;case"arrow":k=Q();break;case"cube":k=B();break;case"custom":a?k=a.value:k=Q();break;default:k=Q()}d.add(k)},K=H=>{var he,W;const ee=(he=H.target.files)==null?void 0:he[0];if(!ee)return;const ce=(W=ee.name.split(".").pop())==null?void 0:W.toLowerCase(),te=new FileReader;te.onload=ae=>{var we;const Oe=(we=ae.target)==null?void 0:we.result;if(Oe)if(ce==="gltf"||ce==="glb")new hR().parse(Oe,"",Re=>{a.value=Re.scene,o.value="custom",N("custom")},Re=>{Xt.error("加载模型失败："+Re.message)});else if(ce==="obj"){const Ne=new eb;try{const Re=Ne.parse(Oe);a.value=Re,o.value="custom",N("custom")}catch(Re){Xt.error("加载模型失败："+Re.message)}}else Xt.error("不支持的文件格式，请使用.gltf、.glb或.obj格式的3D模型文件")},te.readAsText(ee)},q=()=>{const H=new X7(16777215,6);d.add(H);const ee=new wc(16777215,12);ee.position.set(5,5,10),d.add(ee);const ce=new wc(16777215,1);ce.position.set(-5,3,-5),d.add(ce);const te=new Ly(4890367,1,10);te.position.set(2,2,2),d.add(te)},Z=()=>{var H=m.getDelta();T=requestAnimationFrame(Z),$.begin(),k&&k.rotation.set(br.degToRad(r.value),br.degToRad(s.value),br.degToRad(i.value)),w&&w.material.update(H),_.update(),b.render(d,v),$.end()},re=()=>{if(t.value&&v&&b){let H=t.value.clientWidth,ee=t.value.clientHeight;v.aspect=H/ee,v.updateProjectionMatrix(),b.setSize(H,ee),w&&w.material.setPerspective(v.fov,ee)}},P=H=>{if(!H||typeof H.pitch!="number")return;const{pitch:ee,roll:ce,yaw:te}=H;i.value=ee,r.value=ce,s.value=te},j=()=>{o.value==="arrow"?o.value="cube":(o.value,o.value="arrow"),N(o.value)},L=()=>{var H;(H=l.value)==null||H.click()};return gn(()=>{R(),Z(),e.on(Ut.DATA_UPDATE,P),window.addEventListener("resize",re)}),er(()=>{T&&cancelAnimationFrame(T),e.off(Ut.DATA_UPDATE,P),window.removeEventListener("resize",re),b.dispose()}),(H,ee)=>{const ce=Ee("el-button");return me(),_e("div",KR,[fe("div",{ref_key:"container",ref:t,class:"canvas-container"},null,512),fe("div",JR,[fe("div",null,"Pitch: "+it(i.value.toFixed(2))+"°",1),fe("div",null,"Roll: "+it(r.value.toFixed(2))+"°",1),fe("div",null,"Yaw: "+it(s.value.toFixed(2))+"°",1),fe("div",ez,[z(ce,{class:"model-switch",onClick:j,size:"small"},{default:U(()=>ee[0]||(ee[0]=[Ce(" 切换模型 ")])),_:1}),z(ce,{class:"model-upload",onClick:L,size:"small"},{default:U(()=>ee[1]||(ee[1]=[Ce(" 导入模型 ")])),_:1}),fe("input",{ref_key:"fileInput",ref:l,type:"file",accept:".gltf,.glb,.obj",style:{display:"none"},onChange:K},null,544)])])])}}}),nb=yn(tz,[["__scopeId","data-v-c84e5003"]]);class nz extends xp{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?Po.extractUrlBase(e):this.path,a=new ph(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{t(s.parse(l,o))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}setMaterialOptions(e){return this.materialOptions=e,this}parse(e,t){const i=e.split(`
`);let r={};const s=/\s+/,o={};for(let l=0;l<i.length;l++){let u=i[l];if(u=u.trim(),u.length===0||u.charAt(0)==="#")continue;const c=u.indexOf(" ");let h=c>=0?u.substring(0,c):u;h=h.toLowerCase();let d=c>=0?u.substring(c+1):"";if(d=d.trim(),h==="newmtl")r={name:d},o[d]=r;else if(h==="ka"||h==="kd"||h==="ks"||h==="ke"){const m=d.split(s,3);r[h]=[parseFloat(m[0]),parseFloat(m[1]),parseFloat(m[2])]}else r[h]=d}const a=new iz(this.resourcePath||t,this.materialOptions);return a.setCrossOrigin(this.crossOrigin),a.setManager(this.manager),a.setMaterials(o),a}}class iz{constructor(e="",t={}){this.baseUrl=e,this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:qy,this.wrap=this.options.wrap!==void 0?this.options.wrap:qo}setCrossOrigin(e){return this.crossOrigin=e,this}setManager(e){this.manager=e}setMaterials(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(e){if(!this.options)return e;const t={};for(const i in e){const r=e[i],s={};t[i]=s;for(const o in r){let a=!0,l=r[o];const u=o.toLowerCase();switch(u){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(l=[l[0]/255,l[1]/255,l[2]/255]),this.options&&this.options.ignoreZeroRGBs&&l[0]===0&&l[1]===0&&l[2]===0&&(a=!1);break}a&&(s[u]=l)}}return t}preload(){for(const e in this.materialsInfo)this.create(e)}getIndex(e){return this.nameLookup[e]}getAsArray(){let e=0;for(const t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray}create(e){return this.materials[e]===void 0&&this.createMaterial_(e),this.materials[e]}createMaterial_(e){const t=this,i=this.materialsInfo[e],r={name:e,side:this.side};function s(a,l){return typeof l!="string"||l===""?"":/^https?:\/\//i.test(l)?l:a+l}function o(a,l){if(r[a])return;const u=t.getTextureParams(l,r),c=t.loadTexture(s(t.baseUrl,u.url));c.repeat.copy(u.scale),c.offset.copy(u.offset),c.wrapS=t.wrap,c.wrapT=t.wrap,(a==="map"||a==="emissiveMap")&&(c.colorSpace=Hi),r[a]=c}for(const a in i){const l=i[a];let u;if(l!=="")switch(a.toLowerCase()){case"kd":r.color=Ga.toWorkingColorSpace(new si().fromArray(l),Hi);break;case"ks":r.specular=Ga.toWorkingColorSpace(new si().fromArray(l),Hi);break;case"ke":r.emissive=Ga.toWorkingColorSpace(new si().fromArray(l),Hi);break;case"map_kd":o("map",l);break;case"map_ks":o("specularMap",l);break;case"map_ke":o("emissiveMap",l);break;case"norm":o("normalMap",l);break;case"map_bump":case"bump":o("bumpMap",l);break;case"map_d":o("alphaMap",l),r.transparent=!0;break;case"ns":r.shininess=parseFloat(l);break;case"d":u=parseFloat(l),u<1&&(r.opacity=u,r.transparent=!0);break;case"tr":u=parseFloat(l),this.options&&this.options.invertTrProperty&&(u=1-u),u>0&&(r.opacity=1-u,r.transparent=!0);break}}return this.materials[e]=new _p(r),this.materials[e]}getTextureParams(e,t){const i={scale:new Rn(1,1),offset:new Rn(0,0)},r=e.split(/\s+/);let s;return s=r.indexOf("-bm"),s>=0&&(t.bumpScale=parseFloat(r[s+1]),r.splice(s,2)),s=r.indexOf("-s"),s>=0&&(i.scale.set(parseFloat(r[s+1]),parseFloat(r[s+2])),r.splice(s,4)),s=r.indexOf("-o"),s>=0&&(i.offset.set(parseFloat(r[s+1]),parseFloat(r[s+2])),r.splice(s,4)),i.url=r.join(" ").trim(),i}loadTexture(e,t,i,r,s){const o=this.manager!==void 0?this.manager:H7;let a=o.getHandler(e);a===null&&(a=new Sp(o)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin);const l=a.load(e,i,r,s);return t!==void 0&&(l.mapping=t),l}}class Qh extends Xi{constructor(){const e=Qh.SkyShader,t=new j7({name:e.name,uniforms:G7.clone(e.uniforms),vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,side:U7,depthWrite:!1});super(new Rd(1,1,1),t),this.isSky=!0}}Qh.SkyShader={name:"SkyShader",uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new Et},up:{value:new Et(0,1,0)}},vertexShader:`
		uniform vec3 sunPosition;
		uniform float rayleigh;
		uniform float turbidity;
		uniform float mieCoefficient;
		uniform vec3 up;

		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		// constants for atmospheric scattering
		const float e = 2.71828182845904523536028747135266249775724709369995957;
		const float pi = 3.141592653589793238462643383279502884197169;

		// wavelength of used primaries, according to preetham
		const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
		// this pre-calculation replaces older TotalRayleigh(vec3 lambda) function:
		// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
		const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

		// mie stuff
		// K coefficient for the primaries
		const float v = 4.0;
		const vec3 K = vec3( 0.686, 0.678, 0.666 );
		// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
		const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

		// earth shadow hack
		// cutoffAngle = pi / 1.95;
		const float cutoffAngle = 1.6110731556870734;
		const float steepness = 1.5;
		const float EE = 1000.0;

		float sunIntensity( float zenithAngleCos ) {
			zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
			return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
		}

		vec3 totalMie( float T ) {
			float c = ( 0.2 * T ) * 10E-18;
			return 0.434 * c * MieConst;
		}

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vWorldPosition = worldPosition.xyz;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			gl_Position.z = gl_Position.w; // set z to camera.far

			vSunDirection = normalize( sunPosition );

			vSunE = sunIntensity( dot( vSunDirection, up ) );

			vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

			float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

			// extinction (absorption + out scattering)
			// rayleigh coefficients
			vBetaR = totalRayleigh * rayleighCoefficient;

			// mie coefficients
			vBetaM = totalMie( turbidity ) * mieCoefficient;

		}`,fragmentShader:`
		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		uniform float mieDirectionalG;
		uniform vec3 up;

		// constants for atmospheric scattering
		const float pi = 3.141592653589793238462643383279502884197169;

		const float n = 1.0003; // refractive index of air
		const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

		// optical length at zenith for molecules
		const float rayleighZenithLength = 8.4E3;
		const float mieZenithLength = 1.25E3;
		// 66 arc seconds -> degrees, and the cosine of that
		const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

		// 3.0 / ( 16.0 * pi )
		const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
		// 1.0 / ( 4.0 * pi )
		const float ONE_OVER_FOURPI = 0.07957747154594767;

		float rayleighPhase( float cosTheta ) {
			return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
		}

		float hgPhase( float cosTheta, float g ) {
			float g2 = pow( g, 2.0 );
			float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
			return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
		}

		void main() {

			vec3 direction = normalize( vWorldPosition - cameraPosition );

			// optical length
			// cutoff angle at 90 to avoid singularity in next formula.
			float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
			float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
			float sR = rayleighZenithLength * inverse;
			float sM = mieZenithLength * inverse;

			// combined extinction factor
			vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

			// in scattering
			float cosTheta = dot( direction, vSunDirection );

			float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
			vec3 betaRTheta = vBetaR * rPhase;

			float mPhase = hgPhase( cosTheta, mieDirectionalG );
			vec3 betaMTheta = vBetaM * mPhase;

			vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
			Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

			// nightsky
			float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
			float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
			vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
			vec3 L0 = vec3( 0.1 ) * Fex;

			// composition + solar disc
			float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
			L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

			vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

			vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

			gl_FragColor = vec4( retColor, 1.0 );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>

		}`};/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.17.0
 * @author George Michael Brower
 * @license MIT
 */let oa=class sc{constructor(e,t,i,r,s="div"){this.parent=e,this.object=t,this.property=i,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(r),this.$name=document.createElement("div"),this.$name.classList.add("name"),sc.nextNameID=sc.nextNameID||0,this.$name.id="lil-gui-name-"+ ++sc.nextNameID,this.$widget=document.createElement(s),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(i)}name(e){return this._name=e,this.$name.innerHTML=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled||(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e)),this}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(e){const t=this.parent.add(this.object,this.property,e);return t.name(this._name),this.destroy(),t}min(e){return this}max(e){return this}step(e){return this}decimals(e){return this}listen(e=!0){return this._listening=e,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const e=this.save();e!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=e}getValue(){return this.object[this.property]}setValue(e){return this.object[this.property]=e,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}},rz=class extends oa{constructor(e,t,i){super(e,t,i,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}};function ff(n){let e,t;return(e=n.match(/(#|0x)?([a-f0-9]{6})/i))?t=e[2]:(e=n.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?t=parseInt(e[1]).toString(16).padStart(2,0)+parseInt(e[2]).toString(16).padStart(2,0)+parseInt(e[3]).toString(16).padStart(2,0):(e=n.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(t=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),!!t&&"#"+t}const sz={isPrimitive:!0,match:n=>typeof n=="string",fromHexString:ff,toHexString:ff},yl={isPrimitive:!0,match:n=>typeof n=="number",fromHexString:n=>parseInt(n.substring(1),16),toHexString:n=>"#"+n.toString(16).padStart(6,0)},oz={isPrimitive:!1,match:Array.isArray,fromHexString(n,e,t=1){const i=yl.fromHexString(n);e[0]=(i>>16&255)/255*t,e[1]=(i>>8&255)/255*t,e[2]=(255&i)/255*t},toHexString:([n,e,t],i=1)=>yl.toHexString(n*(i=255/i)<<16^e*i<<8^t*i<<0)},az={isPrimitive:!1,match:n=>Object(n)===n,fromHexString(n,e,t=1){const i=yl.fromHexString(n);e.r=(i>>16&255)/255*t,e.g=(i>>8&255)/255*t,e.b=(255&i)/255*t},toHexString:({r:n,g:e,b:t},i=1)=>yl.toHexString(n*(i=255/i)<<16^e*i<<8^t*i<<0)},lz=[sz,yl,oz,az];let uz=class extends oa{constructor(e,t,i,r){var s;super(e,t,i,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=(s=this.initialValue,lz.find(o=>o.match(s))),this._rgbScale=r,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const o=ff(this.$text.value);o&&this._setValueFromHexString(o)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){const t=this._format.fromHexString(e);this.setValue(t)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}};class B0 extends oa{constructor(e,t,i){super(e,t,i,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",r=>{r.preventDefault(),this.getValue().call(this.object)}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}let cz=class extends oa{constructor(e,t,i,r,s,o){super(e,t,i,"number"),this._initInput(),this.min(r),this.max(s);const a=o!==void 0;this.step(a?o:this._getImplicitStep(),a),this.updateDisplay()}decimals(e){return this._decimals=e,this.updateDisplay(),this}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,t=!0){return this._step=e,this._stepExplicit=t,this}updateDisplay(){const e=this.getValue();if(this._hasSlider){let t=(e-this._min)/(this._max-this._min);t=Math.max(0,Math.min(t,1)),this.$fill.style.width=100*t+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?e:e.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;const e=c=>{const h=parseFloat(this.$input.value);isNaN(h)||(this._snapClampSetValue(h+c),this.$input.value=this.getValue())};let t,i,r,s,o,a=!1;const l=c=>{if(a){const h=c.clientX-t,d=c.clientY-i;Math.abs(d)>5?(c.preventDefault(),this.$input.blur(),a=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(h)>5&&u()}if(!a){const h=c.clientY-r;o-=h*this._step*this._arrowKeyMultiplier(c),s+o>this._max?o=this._max-s:s+o<this._min&&(o=this._min-s),this._snapClampSetValue(s+o)}r=c.clientY},u=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",u)};this.$input.addEventListener("input",()=>{let c=parseFloat(this.$input.value);isNaN(c)||(this._stepExplicit&&(c=this._snap(c)),this.setValue(this._clamp(c)))}),this.$input.addEventListener("keydown",c=>{c.code==="Enter"&&this.$input.blur(),c.code==="ArrowUp"&&(c.preventDefault(),e(this._step*this._arrowKeyMultiplier(c))),c.code==="ArrowDown"&&(c.preventDefault(),e(this._step*this._arrowKeyMultiplier(c)*-1))}),this.$input.addEventListener("wheel",c=>{this._inputFocused&&(c.preventDefault(),e(this._step*this._normalizeMouseWheel(c)))},{passive:!1}),this.$input.addEventListener("mousedown",c=>{t=c.clientX,i=r=c.clientY,a=!0,s=this.getValue(),o=0,window.addEventListener("mousemove",l),window.addEventListener("mouseup",u)}),this.$input.addEventListener("focus",()=>{this._inputFocused=!0}),this.$input.addEventListener("blur",()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()})}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const e=d=>{const m=this.$slider.getBoundingClientRect();let v=(b=d,k=m.left,_=m.right,T=this._min,$=this._max,(b-k)/(_-k)*($-T)+T);var b,k,_,T,$;this._snapClampSetValue(v)},t=d=>{e(d.clientX)},i=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",i)};let r,s,o=!1;const a=d=>{d.preventDefault(),this._setDraggingStyle(!0),e(d.touches[0].clientX),o=!1},l=d=>{if(o){const m=d.touches[0].clientX-r,v=d.touches[0].clientY-s;Math.abs(m)>Math.abs(v)?a(d):(window.removeEventListener("touchmove",l),window.removeEventListener("touchend",u))}else d.preventDefault(),e(d.touches[0].clientX)},u=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",l),window.removeEventListener("touchend",u)},c=this._callOnFinishChange.bind(this);let h;this.$slider.addEventListener("mousedown",d=>{this._setDraggingStyle(!0),e(d.clientX),window.addEventListener("mousemove",t),window.addEventListener("mouseup",i)}),this.$slider.addEventListener("touchstart",d=>{d.touches.length>1||(this._hasScrollBar?(r=d.touches[0].clientX,s=d.touches[0].clientY,o=!0):a(d),window.addEventListener("touchmove",l,{passive:!1}),window.addEventListener("touchend",u))},{passive:!1}),this.$slider.addEventListener("wheel",d=>{if(Math.abs(d.deltaX)<Math.abs(d.deltaY)&&this._hasScrollBar)return;d.preventDefault();const m=this._normalizeMouseWheel(d)*this._step;this._snapClampSetValue(this.getValue()+m),this.$input.value=this.getValue(),clearTimeout(h),h=setTimeout(c,400)},{passive:!1})}_setDraggingStyle(e,t="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle("lil-gui-"+t,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:t,deltaY:i}=e;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(t=0,i=-e.wheelDelta/120,i*=this._stepExplicit?1:10),t+-i}_arrowKeyMultiplier(e){let t=this._stepExplicit?1:10;return e.shiftKey?t*=10:e.altKey&&(t/=10),t}_snap(e){const t=Math.round(e/this._step)*this._step;return parseFloat(t.toPrecision(15))}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){const e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}},hz=class extends oa{constructor(e,t,i,r){super(e,t,i,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(r)?r:Object.values(r),this._names=Array.isArray(r)?r:Object.keys(r),this._names.forEach(s=>{const o=document.createElement("option");o.innerHTML=s,this.$select.appendChild(o)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const e=this.getValue(),t=this._values.indexOf(e);return this.$select.selectedIndex=t,this.$display.innerHTML=t===-1?e:this._names[t],this}};class dz extends oa{constructor(e,t,i){super(e,t,i,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",r=>{r.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}let U1=!1,fz=class ib{constructor({parent:e,autoPlace:t=e===void 0,container:i,width:r,title:s="Controls",injectStyles:o=!0,touchStyles:a=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",l=>{l.code!=="Enter"&&l.code!=="Space"||(l.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(s),a&&this.domElement.classList.add("allow-touch-styles"),this.parent)return this.parent.children.push(this),this.parent.folders.push(this),void this.parent.$children.appendChild(this.domElement);this.domElement.classList.add("root"),!U1&&o&&(function(l){const u=document.createElement("style");u.innerHTML=l;const c=document.querySelector("head link[rel=stylesheet], head style");c?document.head.insertBefore(u,c):document.head.appendChild(u)}('.lil-gui{--background-color:#1f1f1f;--text-color:#ebebeb;--title-background-color:#111;--title-text-color:#ebebeb;--widget-color:#424242;--hover-color:#4f4f4f;--focus-color:#595959;--number-color:#2cc9ff;--string-color:#a2db3c;--font-size:11px;--input-font-size:11px;--font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;--font-family-mono:Menlo,Monaco,Consolas,"Droid Sans Mono",monospace;--padding:4px;--spacing:4px;--widget-height:20px;--name-width:45%;--slider-knob-width:2px;--slider-input-width:27%;--color-input-width:27%;--slider-input-min-width:45px;--color-input-min-width:45px;--folder-indent:7px;--widget-padding:0 0 0 3px;--widget-border-radius:2px;--checkbox-size:calc(var(--widget-height)*0.75);--scrollbar-width:5px;background-color:var(--background-color);color:var(--text-color);font-family:var(--font-family);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:1;text-align:left;touch-action:manipulation;user-select:none;-webkit-user-select:none}.lil-gui,.lil-gui *{box-sizing:border-box;margin:0;padding:0}.lil-gui.root{display:flex;flex-direction:column;width:var(--width,245px)}.lil-gui.root>.title{background:var(--title-background-color);color:var(--title-text-color)}.lil-gui.root>.children{overflow-x:hidden;overflow-y:auto}.lil-gui.root>.children::-webkit-scrollbar{background:var(--background-color);height:var(--scrollbar-width);width:var(--scrollbar-width)}.lil-gui.root>.children::-webkit-scrollbar-thumb{background:var(--focus-color);border-radius:var(--scrollbar-width)}.lil-gui.force-touch-styles{--widget-height:28px;--padding:6px;--spacing:6px;--font-size:13px;--input-font-size:16px;--folder-indent:10px;--scrollbar-width:7px;--slider-input-min-width:50px;--color-input-min-width:65px}.lil-gui.autoPlace{max-height:100%;position:fixed;right:15px;top:0;z-index:1001}.lil-gui .controller{align-items:center;display:flex;margin:var(--spacing) 0;padding:0 var(--padding)}.lil-gui .controller.disabled{opacity:.5}.lil-gui .controller.disabled,.lil-gui .controller.disabled *{pointer-events:none!important}.lil-gui .controller>.name{flex-shrink:0;line-height:var(--widget-height);min-width:var(--name-width);padding-right:var(--spacing);white-space:pre}.lil-gui .controller .widget{align-items:center;display:flex;min-height:var(--widget-height);position:relative;width:100%}.lil-gui .controller.string input{color:var(--string-color)}.lil-gui .controller.boolean .widget{cursor:pointer}.lil-gui .controller.color .display{border-radius:var(--widget-border-radius);height:var(--widget-height);position:relative;width:100%}.lil-gui .controller.color input[type=color]{cursor:pointer;height:100%;opacity:0;width:100%}.lil-gui .controller.color input[type=text]{flex-shrink:0;font-family:var(--font-family-mono);margin-left:var(--spacing);min-width:var(--color-input-min-width);width:var(--color-input-width)}.lil-gui .controller.option select{max-width:100%;opacity:0;position:absolute;width:100%}.lil-gui .controller.option .display{background:var(--widget-color);border-radius:var(--widget-border-radius);height:var(--widget-height);line-height:var(--widget-height);max-width:100%;overflow:hidden;padding-left:.55em;padding-right:1.75em;pointer-events:none;position:relative;word-break:break-all}.lil-gui .controller.option .display.active{background:var(--focus-color)}.lil-gui .controller.option .display:after{bottom:0;content:"↕";font-family:lil-gui;padding-right:.375em;position:absolute;right:0;top:0}.lil-gui .controller.option .widget,.lil-gui .controller.option select{cursor:pointer}.lil-gui .controller.number input{color:var(--number-color)}.lil-gui .controller.number.hasSlider input{flex-shrink:0;margin-left:var(--spacing);min-width:var(--slider-input-min-width);width:var(--slider-input-width)}.lil-gui .controller.number .slider{background-color:var(--widget-color);border-radius:var(--widget-border-radius);cursor:ew-resize;height:var(--widget-height);overflow:hidden;padding-right:var(--slider-knob-width);touch-action:pan-y;width:100%}.lil-gui .controller.number .slider.active{background-color:var(--focus-color)}.lil-gui .controller.number .slider.active .fill{opacity:.95}.lil-gui .controller.number .fill{border-right:var(--slider-knob-width) solid var(--number-color);box-sizing:content-box;height:100%}.lil-gui-dragging .lil-gui{--hover-color:var(--widget-color)}.lil-gui-dragging *{cursor:ew-resize!important}.lil-gui-dragging.lil-gui-vertical *{cursor:ns-resize!important}.lil-gui .title{--title-height:calc(var(--widget-height) + var(--spacing)*1.25);-webkit-tap-highlight-color:transparent;text-decoration-skip:objects;cursor:pointer;font-weight:600;height:var(--title-height);line-height:calc(var(--title-height) - 4px);outline:none;padding:0 var(--padding)}.lil-gui .title:before{content:"▾";display:inline-block;font-family:lil-gui;padding-right:2px}.lil-gui .title:active{background:var(--title-background-color);opacity:.75}.lil-gui.root>.title:focus{text-decoration:none!important}.lil-gui.closed>.title:before{content:"▸"}.lil-gui.closed>.children{opacity:0;transform:translateY(-7px)}.lil-gui.closed:not(.transition)>.children{display:none}.lil-gui.transition>.children{overflow:hidden;pointer-events:none;transition-duration:.3s;transition-property:height,opacity,transform;transition-timing-function:cubic-bezier(.2,.6,.35,1)}.lil-gui .children:empty:before{content:"Empty";display:block;font-style:italic;height:var(--widget-height);line-height:var(--widget-height);margin:var(--spacing) 0;opacity:.5;padding:0 var(--padding)}.lil-gui.root>.children>.lil-gui>.title{border-width:0;border-bottom:1px solid var(--widget-color);border-left:0 solid var(--widget-color);border-right:0 solid var(--widget-color);border-top:1px solid var(--widget-color);transition:border-color .3s}.lil-gui.root>.children>.lil-gui.closed>.title{border-bottom-color:transparent}.lil-gui+.controller{border-top:1px solid var(--widget-color);margin-top:0;padding-top:var(--spacing)}.lil-gui .lil-gui .lil-gui>.title{border:none}.lil-gui .lil-gui .lil-gui>.children{border:none;border-left:2px solid var(--widget-color);margin-left:var(--folder-indent)}.lil-gui .lil-gui .controller{border:none}.lil-gui input{-webkit-tap-highlight-color:transparent;background:var(--widget-color);border:0;border-radius:var(--widget-border-radius);color:var(--text-color);font-family:var(--font-family);font-size:var(--input-font-size);height:var(--widget-height);outline:none;width:100%}.lil-gui input:disabled{opacity:1}.lil-gui input[type=number],.lil-gui input[type=text]{padding:var(--widget-padding)}.lil-gui input[type=number]:focus,.lil-gui input[type=text]:focus{background:var(--focus-color)}.lil-gui input::-webkit-inner-spin-button,.lil-gui input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.lil-gui input[type=number]{-moz-appearance:textfield}.lil-gui input[type=checkbox]{appearance:none;-webkit-appearance:none;border-radius:var(--widget-border-radius);cursor:pointer;height:var(--checkbox-size);text-align:center;width:var(--checkbox-size)}.lil-gui input[type=checkbox]:checked:before{content:"✓";font-family:lil-gui;font-size:var(--checkbox-size);line-height:var(--checkbox-size)}.lil-gui button{-webkit-tap-highlight-color:transparent;background:var(--widget-color);border:1px solid var(--widget-color);border-radius:var(--widget-border-radius);color:var(--text-color);cursor:pointer;font-family:var(--font-family);font-size:var(--font-size);height:var(--widget-height);line-height:calc(var(--widget-height) - 4px);outline:none;text-align:center;text-transform:none;width:100%}.lil-gui button:active{background:var(--focus-color)}@font-face{font-family:lil-gui;src:url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff")}@media (pointer:coarse){.lil-gui.allow-touch-styles{--widget-height:28px;--padding:6px;--spacing:6px;--font-size:13px;--input-font-size:16px;--folder-indent:10px;--scrollbar-width:7px;--slider-input-min-width:50px;--color-input-min-width:65px}}@media (hover:hover){.lil-gui .controller.color .display:hover:before{border:1px solid #fff9;border-radius:var(--widget-border-radius);bottom:0;content:" ";display:block;left:0;position:absolute;right:0;top:0}.lil-gui .controller.option .display.focus{background:var(--focus-color)}.lil-gui .controller.option .widget:hover .display{background:var(--hover-color)}.lil-gui .controller.number .slider:hover{background-color:var(--hover-color)}body:not(.lil-gui-dragging) .lil-gui .title:hover{background:var(--title-background-color);opacity:.85}.lil-gui .title:focus{text-decoration:underline var(--focus-color)}.lil-gui input:hover{background:var(--hover-color)}.lil-gui input:active{background:var(--focus-color)}.lil-gui input[type=checkbox]:focus{box-shadow:inset 0 0 0 1px var(--focus-color)}.lil-gui button:hover{background:var(--hover-color);border-color:var(--hover-color)}.lil-gui button:focus{border-color:var(--focus-color)}}'),U1=!0),i?i.appendChild(this.domElement):t&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),r&&this.domElement.style.setProperty("--width",r+"px"),this.domElement.addEventListener("keydown",l=>l.stopPropagation()),this.domElement.addEventListener("keyup",l=>l.stopPropagation())}add(e,t,i,r,s){if(Object(i)===i)return new hz(this,e,t,i);const o=e[t];switch(typeof o){case"number":return new cz(this,e,t,i,r,s);case"boolean":return new rz(this,e,t);case"string":return new dz(this,e,t);case"function":return new B0(this,e,t)}console.error(`gui.add failed
	property:`,t,`
	object:`,e,`
	value:`,o)}addColor(e,t,i=1){return new uz(this,e,t,i)}addFolder(e){return new ib({parent:this,title:e})}load(e,t=!0){return e.controllers&&this.controllers.forEach(i=>{i instanceof B0||i._name in e.controllers&&i.load(e.controllers[i._name])}),t&&e.folders&&this.folders.forEach(i=>{i._title in e.folders&&i.load(e.folders[i._title])}),this}save(e=!0){const t={controllers:{},folders:{}};return this.controllers.forEach(i=>{if(!(i instanceof B0)){if(i._name in t.controllers)throw new Error(`Cannot save GUI with duplicate property "${i._name}"`);t.controllers[i._name]=i.save()}}),e&&this.folders.forEach(i=>{if(i._title in t.folders)throw new Error(`Cannot save GUI with duplicate folder "${i._title}"`);t.folders[i._title]=i.save()}),t}open(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const t=this.$children.clientHeight;this.$children.style.height=t+"px",this.domElement.classList.add("transition");const i=s=>{s.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",i))};this.$children.addEventListener("transitionend",i);const r=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=r+"px"})}),this}title(e){return this._title=e,this.$title.innerHTML=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(t=>t.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),this._onChange!==void 0&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach(t=>{e=e.concat(t.controllersRecursive())}),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach(t=>{e=e.concat(t.foldersRecursive())}),e}};Co.install({THREE:Hy});class pz{constructor(e,t){this.object=e,this.prop=t}get value(){return`#${this.object[this.prop].getHexString()}`}set value(e){this.object[this.prop].set(e)}}class mz{constructor(){}init(e){this.container=e,this.setupRenderer(),this.setupScene(),this.setupCameras(),this.setupLights(),this.setupGround(),this.setupSky(),this.setupGUI(),this.loadRocketModel(),this.trajectoryLine=null,this.trajectoryPoints=[],this.lastPoint=new Et,this.arrowHelper=null}setupRenderer(){this.renderer=new Uy({antialias:!0}),this.renderer.toneMapping=W7,this.renderer.toneMappingExposure=.5}setupScene(){this.scene=new jy,this.scene.background=new si("#4accea"),this.rocketSystem=new Fa,this.scene.add(this.rocketSystem);const e=new Et(10,2,0);e.normalize();const t=new Et(285e3,-6371210,0),i=10,r=0;this.arrowHelper=new Y7(e,t,i,r),this.scene.add(this.arrowHelper)}setupCameras(){this.mainCameraRig=new Fa,this.mainCamera=new Ua(45,2,.1,5e3),this.mainCamera.position.set(-5,3,16),this.mainCameraRig.add(this.mainCamera),this.nozzleCamera=new Ua(45,2,.1,5e3),this.nozzleCamera.position.set(-1,-2,2),this.nozzleCamera.rotation.set(.68,0,0),this.ellipsisCamera=new Ua(45,2,.1,48e5),this.ellipsisCamera.position.set(18e4,0,45e4),this.scene.add(this.ellipsisCamera),this.currentCamera=this.mainCamera,this.controls=new Y4(this.mainCamera,this.renderer.domElement),this.controls.target.set(0,5,0),this.controls.update()}setupLights(){this.light=new wc(16777215,1),this.light.position.set(0,1e3,1e3),this.scene.add(this.light)}setupGround(){const i=new Sp().load("./ground_texture.jpg");i.wrapS=qo,i.wrapT=qo,i.magFilter=kp;const r=14e5/2;i.repeat.set(r,r);const s=new K7(14e5,14e5),o=new _p({map:i,side:By}),a=new Xi(s,o);a.rotation.x=Math.PI*-.5,this.scene.add(a)}setupSky(){this.sky=new Qh,this.sky.scale.setScalar(145e4),this.scene.add(this.sky);const e=new Et,t={turbidity:10,rayleigh:3,mieCoefficient:.005,mieDirectionalG:.7,elevation:2,azimuth:180},i=this.sky.material.uniforms;i.turbidity.value=t.turbidity,i.rayleigh.value=t.rayleigh,i.mieCoefficient.value=t.mieCoefficient,i.mieDirectionalG.value=t.mieDirectionalG;const r=br.degToRad(90-t.elevation),s=br.degToRad(t.azimuth);e.setFromSphericalCoords(1,r,s),i.sunPosition.value.copy(e)}setupGUI(){this.gui=new fz({container:this.container});const e=this.gui.addFolder("Light");e.addColor(new pz(this.light,"color"),"value").name("color"),e.add(this.light,"intensity",0,2,.01),this.animationSettings={step:.05},this.step=this.animationSettings.step,this.gui.addFolder("Animation").add(this.animationSettings,"step",0,2,.01).onChange(a=>{this.step=a,this.onStepChange&&this.onStepChange(a)});const i=this.gui.addFolder("Sky"),r={turbidity:10,rayleigh:3,mieCoefficient:.005,mieDirectionalG:.7,elevation:2,azimuth:180,exposure:this.renderer.toneMappingExposure};i.add(r,"turbidity",0,20,.1).onChange(()=>this.updateSky(r)),i.add(r,"rayleigh",0,4,.001).onChange(()=>this.updateSky(r)),i.add(r,"mieCoefficient",0,.1,.001).onChange(()=>this.updateSky(r)),i.add(r,"mieDirectionalG",0,1,.001).onChange(()=>this.updateSky(r)),i.add(r,"elevation",0,90,.1).onChange(()=>this.updateSky(r)),i.add(r,"azimuth",-180,180,.1).onChange(()=>this.updateSky(r)),i.add(r,"exposure",0,1,1e-4).onChange(()=>{this.renderer.toneMappingExposure=r.exposure});const s={x:-.1,y:0,z:.3},o=this.gui.addFolder("Fire");o.add(s,"x",-1,1,.01).onChange(()=>this.particleFireMesh.position.set(s.x,s.y,s.z)),o.add(s,"y",-1,1,.01).onChange(()=>this.particleFireMesh.position.set(s.x,s.y,s.z)),o.add(s,"z",-1,1,.01).onChange(()=>this.particleFireMesh.position.set(s.x,s.y,s.z))}updateSky(e){const t=this.sky.material.uniforms;t.turbidity.value=e.turbidity,t.rayleigh.value=e.rayleigh,t.mieCoefficient.value=e.mieCoefficient,t.mieDirectionalG.value=e.mieDirectionalG;const i=br.degToRad(90-e.elevation),r=br.degToRad(e.azimuth),s=new Et;s.setFromSphericalCoords(1,i,r),t.sunPosition.value.copy(s)}setStepChangeCallback(e){this.onStepChange=e}loadRocketModel(){new nz().load("./models/starshipv2.mtl",t=>{t.preload();const i=new eb;i.setMaterials(t),i.load("./models/starshipv2.obj",r=>{r.scale.set(.02,.02,.02),r.position.set(.3,1.3,.3),this.rocket=new Fa,this.rocket.add(r),this.rocket.position.y=3,this.rocketSystem.add(this.rocket),this.rocketSystem.add(this.mainCameraRig),this.rocket.add(this.nozzleCamera),this.setupRocketFire()})})}setupRocketFire(){const r=new Co.Geometry(.1,1.5,800),s=new Co.Material({color:16720384});s.setPerspective(this.currentCamera.fov,window.innerHeight),this.particleFireMesh=new Mo(r,s),this.particleFireMesh.position.set(-.1,0,.3),this.particleFireMesh.rotation.x=Math.PI,this.rocket.add(this.particleFireMesh)}resizeRendererToDisplaySize(){const e=this.renderer.domElement,t=e.clientWidth,i=e.clientHeight,r=e.width!==t||e.height!==i;return r&&this.renderer.setSize(t,i,!1),r}setCamera(e){switch(e){case"main":this.currentCamera=this.mainCamera,this.controls.enabled=!0,this.hideTrajectory();break;case"nozzle":this.currentCamera=this.nozzleCamera,this.controls.enabled=!1,this.hideTrajectory();break;case"ellipsis":this.currentCamera=this.ellipsisCamera,this.controls.enabled=!1,this.showTrajectory();break}}showTrajectory(){this.trajectoryLine&&(this.trajectoryLine.visible=!0),this.arrowHelper&&(this.arrowHelper.visible=!0)}hideTrajectory(){this.trajectoryLine&&(this.trajectoryLine.visible=!1),this.arrowHelper&&(this.arrowHelper.visible=!1)}updateTrajectory(){if(this.rocket&&this.lastPoint.distanceTo(this.rocketSystem.position)>1e3){this.trajectoryPoints.push(this.rocketSystem.position.clone()),this.lastPoint.copy(this.rocketSystem.position),this.trajectoryLine&&this.scene.remove(this.trajectoryLine);const e=new Sc().setFromPoints(this.trajectoryPoints),t=new ja({color:0});this.trajectoryLine=new Vy(e,t),this.scene.add(this.trajectoryLine)}}updateArrowHelper(){if(this.rocket&&this.arrowHelper){const e=this.rocketSystem.position,t=Math.sqrt(Math.pow(Math.abs(e.x-285e3),2)+Math.pow(e.y+6371210,2)),i=new Et(e.x-285e3,e.y+6371210,0).normalize();this.arrowHelper.setDirection(i),this.arrowHelper.setLength(t,1e4,5e3)}}updateRocket(e){if(this.rocket){if(this.rocketSystem.position.set(e.position.x,e.position.y,e.position.z),this.rocket.rotation.z=e.angle-1.57,this.currentCamera===this.mainCamera){this.mainCameraRig.rotation.z=this.rocket.rotation.z;const t=new Et;this.rocket.getWorldPosition(t),this.controls.target.copy(t),this.controls.update()}this.updateTrajectory(),this.updateArrowHelper(),this.particleFireMesh&&!e.activePart&&this.rocket.remove(this.particleFireMesh)}}render(){if(this.resizeRendererToDisplaySize()){const e=this.renderer.domElement;this.currentCamera.aspect=e.clientWidth/e.clientHeight,this.currentCamera.updateProjectionMatrix(),this.particleFireMesh&&this.particleFireMesh.material.setPerspective(this.currentCamera.fov,e.clientHeight)}this.particleFireMesh&&this.particleFireMesh.material.update(.05),this.renderer.render(this.scene,this.currentCamera)}}const Wt={g0:9.8,finishAngle:.68,startAngle:1.57,m0:3800,ta:4,tp:40,mut:.7,S:.92,mass_dot:40,P:11e4,ro0:1.23,p0:Math.pow(10,5)},G1=[0,500,1e3,1500,2e3,2500,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,14e3,16e3,18e3,2e4,24e3,28e3,32e3,36e3,4e4,5e4,6e4,8e4],gz=[340.3,338.4,336.4,334.5,332.5,330.6,328.6,324.6,320.6,316.5,312.3,308.1,303.9,299.6,295.2,295.1,295.1,295.1,295.1,295.1,297.7,300.4,303,310.1,317.2,329.8,315.1,282.5],W1=(n,e,t)=>(n-e)/(t-e),vz=(n,e,t,i)=>.5*n*e*i*Math.pow(t,2),Oz=n=>{if(n>8e4)return 282.5;for(let e=0;e<G1.length;e++)if(n<=G1[e])return gz[e]},yz=n=>n>=0&&n<=.8?.29:n>.8&&n<=1.068?n-.51:.091+.5*Math.pow(n,-1);class bz{constructor(){this.velocity=10,this.angle=Wt.startAngle,this.mass=Wt.m0,this.position={x:0,y:0,z:0},this.alpha=0,this.Y=0,this.P=Wt.P,this.activePart=!0,this.mk=Wt.m0*(1-Wt.mut)}updateVelocity(e,t){this.velocity+=e*((this.P*Math.cos(this.alpha)-t)/this.mass-Wt.g0*Math.sin(this.angle))}updatePosition(e){this.position.x+=e*this.velocity*Math.cos(this.angle),this.position.y+=e*this.velocity*Math.sin(this.angle)}updateAngle(e){e>=Wt.tp?this.activePart?this.angle=Wt.finishAngle:this.angle+=this.step*((this.P*Math.sin(0)+this.Y)/(this.mass*this.velocity)-Wt.g0*Math.cos(this.angle)/this.velocity):e>=Wt.ta&&(this.angle=Wt.startAngle-2*(Wt.startAngle-Wt.finishAngle)*W1(e,Wt.ta,Wt.tp)+(Wt.startAngle-Wt.finishAngle)*Math.pow(W1(e,Wt.ta,Wt.tp),2))}updateMass(e){this.mass>=this.mk?this.mass-=e*Wt.mass_dot:(this.activePart=!1,this.P=0)}update(e,t){Wt.p0*Math.exp(-this.position.y/1e4);const i=Wt.ro0*Math.exp(-this.position.y/1e4),r=Oz(this.position.y),s=this.velocity/r,o=yz(s),a=vz(o,i,this.velocity,Wt.S);return this.updateVelocity(t,a),this.updatePosition(t),this.updateAngle(e),this.updateMass(t),{position:this.position,angle:this.angle,velocity:this.velocity,mass:this.mass,activePart:this.activePart}}}class ii{constructor(e,t,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=i}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new ii(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class pi{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new pi(t,ii.range(this,e))}}class Ae{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+e,r,s,o=t&&t.loc;if(o&&o.start<=o.end){var a=o.lexer.input;r=o.start,s=o.end,r===a.length?i+=" at end of input: ":i+=" at position "+(r+1)+": ";var l=a.slice(r,s).replace(/[^]/g,"$&̲"),u;r>15?u="…"+a.slice(r-15,r):u=a.slice(0,r);var c;s+15<a.length?c=a.slice(s,s+15)+"…":c=a.slice(s),i+=u+l+c}var h=new Error(i);return h.name="ParseError",h.__proto__=Ae.prototype,h.position=r,r!=null&&s!=null&&(h.length=s-r),h.rawMessage=e,h}}Ae.prototype.__proto__=Error.prototype;var wz=function(e,t){return e.indexOf(t)!==-1},xz=function(e,t){return e===void 0?t:e},Sz=/([A-Z])/g,kz=function(e){return e.replace(Sz,"-$1").toLowerCase()},_z={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},$z=/[&><"']/g;function Az(n){return String(n).replace($z,e=>_z[e])}var rb=function n(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?n(e.body[0]):e:e.type==="font"?n(e.body):e},Tz=function(e){var t=rb(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},Pz=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},Mz=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},st={contains:wz,deflt:xz,escape:Az,hyphenate:kz,getBaseElem:rb,isCharacterBox:Tz,protocolFromUrl:Mz},oc={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:n=>"#"+n},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(n,e)=>(e.push(n),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:n=>Math.max(0,n),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:n=>Math.max(0,n),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:n=>Math.max(0,n),cli:"-e, --max-expand <n>",cliProcessor:n=>n==="Infinity"?1/0:parseInt(n)},globalGroup:{type:"boolean",cli:!1}};function Cz(n){if(n.default)return n.default;var e=n.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class jp{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in oc)if(oc.hasOwnProperty(t)){var i=oc[t];this[t]=e[t]!==void 0?i.processor?i.processor(e[t]):e[t]:Cz(i)}}reportNonstrict(e,t,i){var r=this.strict;if(typeof r=="function"&&(r=r(e,t,i)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new Ae("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),i);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,i){var r=this.strict;if(typeof r=="function")try{r=r(e,t,i)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=st.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var i=typeof this.trust=="function"?this.trust(e):this.trust;return!!i}}class Wr{constructor(e,t,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=i}sup(){return Vi[Ez[this.id]]}sub(){return Vi[Qz[this.id]]}fracNum(){return Vi[Rz[this.id]]}fracDen(){return Vi[zz[this.id]]}cramp(){return Vi[Dz[this.id]]}text(){return Vi[Iz[this.id]]}isTight(){return this.size>=2}}var Up=0,Vc=1,No=2,_r=3,bl=4,fi=5,Jo=6,Dn=7,Vi=[new Wr(Up,0,!1),new Wr(Vc,0,!0),new Wr(No,1,!1),new Wr(_r,1,!0),new Wr(bl,2,!1),new Wr(fi,2,!0),new Wr(Jo,3,!1),new Wr(Dn,3,!0)],Ez=[bl,fi,bl,fi,Jo,Dn,Jo,Dn],Qz=[fi,fi,fi,fi,Dn,Dn,Dn,Dn],Rz=[No,_r,bl,fi,Jo,Dn,Jo,Dn],zz=[_r,_r,fi,fi,Dn,Dn,Dn,Dn],Dz=[Vc,Vc,_r,_r,fi,fi,Dn,Dn],Iz=[Up,Vc,No,_r,No,_r,No,_r],lt={DISPLAY:Vi[Up],TEXT:Vi[No],SCRIPT:Vi[bl],SCRIPTSCRIPT:Vi[Jo]},pf=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Nz(n){for(var e=0;e<pf.length;e++)for(var t=pf[e],i=0;i<t.blocks.length;i++){var r=t.blocks[i];if(n>=r[0]&&n<=r[1])return t.name}return null}var ac=[];pf.forEach(n=>n.blocks.forEach(e=>ac.push(...e)));function sb(n){for(var e=0;e<ac.length;e+=2)if(n>=ac[e]&&n<=ac[e+1])return!0;return!1}var wo=80,Lz=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},Zz=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},Bz=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},Vz=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},Xz=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},qz=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},Fz=function(e,t,i){var r=i-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},Hz=function(e,t,i){t=1e3*t;var r="";switch(e){case"sqrtMain":r=Lz(t,wo);break;case"sqrtSize1":r=Zz(t,wo);break;case"sqrtSize2":r=Bz(t,wo);break;case"sqrtSize3":r=Vz(t,wo);break;case"sqrtSize4":r=Xz(t,wo);break;case"sqrtTall":r=Fz(t,wo,i)}return r},jz=function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},Y1={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Uz=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Il{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return st.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var ji={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},yu={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},K1={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Gz(n,e){ji[n]=e}function Gp(n,e,t){if(!ji[e])throw new Error("Font metrics not found for font: "+e+".");var i=n.charCodeAt(0),r=ji[e][i];if(!r&&n[0]in K1&&(i=K1[n[0]].charCodeAt(0),r=ji[e][i]),!r&&t==="text"&&sb(i)&&(r=ji[e][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var V0={};function Wz(n){var e;if(n>=5?e=0:n>=3?e=1:e=2,!V0[e]){var t=V0[e]={cssEmPerMu:yu.quad[e]/18};for(var i in yu)yu.hasOwnProperty(i)&&(t[i]=yu[i][e])}return V0[e]}var Yz=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],J1=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],ev=function(e,t){return t.size<2?e:Yz[e-1][t.size-1]};class gr{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||gr.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=J1[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return new gr(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:ev(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:J1[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=ev(gr.BASESIZE,e);return this.size===t&&this.textSize===gr.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==gr.BASESIZE?["sizing","reset-size"+this.size,"size"+gr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Wz(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}gr.BASESIZE=6;var mf={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Kz={ex:!0,em:!0,mu:!0},ob=function(e){return typeof e!="string"&&(e=e.unit),e in mf||e in Kz||e==="ex"},Kt=function(e,t){var i;if(e.unit in mf)i=mf[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")i=t.fontMetrics().cssEmPerMu;else{var r;if(t.style.isTight()?r=t.havingStyle(t.style.text()):r=t,e.unit==="ex")i=r.fontMetrics().xHeight;else if(e.unit==="em")i=r.fontMetrics().quad;else throw new Ae("Invalid unit: '"+e.unit+"'");r!==t&&(i*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*i,t.maxSize)},Qe=function(e){return+e.toFixed(4)+"em"},ms=function(e){return e.filter(t=>t).join(" ")},ab=function(e,t,i){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},t){t.style.isTight()&&this.classes.push("mtight");var r=t.getColor();r&&(this.style.color=r)}},lb=function(e){var t=document.createElement(e);t.className=ms(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(t.style[i]=this.style[i]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&t.setAttribute(r,this.attributes[r]);for(var s=0;s<this.children.length;s++)t.appendChild(this.children[s].toNode());return t},Jz=/[\s"'>/=\x00-\x1f]/,ub=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+st.escape(ms(this.classes))+'"');var i="";for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=st.hyphenate(r)+":"+this.style[r]+";");i&&(t+=' style="'+st.escape(i)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(Jz.test(s))throw new Ae("Invalid attribute name '"+s+"'");t+=" "+s+'="'+st.escape(this.attributes[s])+'"'}t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+e+">",t};class Nl{constructor(e,t,i,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ab.call(this,e,i,r),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return st.contains(this.classes,e)}toNode(){return lb.call(this,"span")}toMarkup(){return ub.call(this,"span")}}class Wp{constructor(e,t,i,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ab.call(this,t,r),this.children=i||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return st.contains(this.classes,e)}toNode(){return lb.call(this,"a")}toMarkup(){return ub.call(this,"a")}}class eD{constructor(e,t,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=i}hasClass(e){return st.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+st.escape(this.src)+'"'+(' alt="'+st.escape(this.alt)+'"'),t="";for(var i in this.style)this.style.hasOwnProperty(i)&&(t+=st.hyphenate(i)+":"+this.style[i]+";");return t&&(e+=' style="'+st.escape(t)+'"'),e+="'/>",e}}var tD={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class yi{constructor(e,t,i,r,s,o,a,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=i||0,this.italic=r||0,this.skew=s||0,this.width=o||0,this.classes=a||[],this.style=l||{},this.maxFontSize=0;var u=Nz(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=tD[this.text])}hasClass(e){return st.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=Qe(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=ms(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(t=t||document.createElement("span"),t.style[i]=this.style[i]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=st.escape(ms(this.classes)),t+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=st.hyphenate(r)+":"+this.style[r]+";");i&&(e=!0,t+=' style="'+st.escape(i)+'"');var s=st.escape(this.text);return e?(t+=">",t+=s,t+="</span>",t):s}}class Dr{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&t.setAttribute(i,this.attributes[i]);for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+st.escape(this.attributes[t])+'"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</svg>",e}}class gs{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",Y1[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+st.escape(this.alternate)+'"/>':'<path d="'+st.escape(Y1[this.pathName])+'"/>'}}class gf{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&t.setAttribute(i,this.attributes[i]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+st.escape(this.attributes[t])+'"');return e+="/>",e}}function tv(n){if(n instanceof yi)return n;throw new Error("Expected symbolNode but got "+String(n)+".")}function nD(n){if(n instanceof Nl)return n;throw new Error("Expected span<HtmlDomNode> but got "+String(n)+".")}var iD={bin:1,close:1,inner:1,open:1,punct:1,rel:1},rD={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ft={math:{},text:{}};function O(n,e,t,i,r,s){Ft[n][r]={font:e,group:t,replace:i},s&&i&&(Ft[n][i]=Ft[n][r])}var S="math",xe="text",C="main",G="ams",Gt="accent-token",He="bin",Ln="close",aa="inner",at="mathord",cn="op-token",ui="open",Rh="punct",Y="rel",Zr="spacing",le="textord";O(S,C,Y,"≡","\\equiv",!0);O(S,C,Y,"≺","\\prec",!0);O(S,C,Y,"≻","\\succ",!0);O(S,C,Y,"∼","\\sim",!0);O(S,C,Y,"⊥","\\perp");O(S,C,Y,"⪯","\\preceq",!0);O(S,C,Y,"⪰","\\succeq",!0);O(S,C,Y,"≃","\\simeq",!0);O(S,C,Y,"∣","\\mid",!0);O(S,C,Y,"≪","\\ll",!0);O(S,C,Y,"≫","\\gg",!0);O(S,C,Y,"≍","\\asymp",!0);O(S,C,Y,"∥","\\parallel");O(S,C,Y,"⋈","\\bowtie",!0);O(S,C,Y,"⌣","\\smile",!0);O(S,C,Y,"⊑","\\sqsubseteq",!0);O(S,C,Y,"⊒","\\sqsupseteq",!0);O(S,C,Y,"≐","\\doteq",!0);O(S,C,Y,"⌢","\\frown",!0);O(S,C,Y,"∋","\\ni",!0);O(S,C,Y,"∝","\\propto",!0);O(S,C,Y,"⊢","\\vdash",!0);O(S,C,Y,"⊣","\\dashv",!0);O(S,C,Y,"∋","\\owns");O(S,C,Rh,".","\\ldotp");O(S,C,Rh,"⋅","\\cdotp");O(S,C,le,"#","\\#");O(xe,C,le,"#","\\#");O(S,C,le,"&","\\&");O(xe,C,le,"&","\\&");O(S,C,le,"ℵ","\\aleph",!0);O(S,C,le,"∀","\\forall",!0);O(S,C,le,"ℏ","\\hbar",!0);O(S,C,le,"∃","\\exists",!0);O(S,C,le,"∇","\\nabla",!0);O(S,C,le,"♭","\\flat",!0);O(S,C,le,"ℓ","\\ell",!0);O(S,C,le,"♮","\\natural",!0);O(S,C,le,"♣","\\clubsuit",!0);O(S,C,le,"℘","\\wp",!0);O(S,C,le,"♯","\\sharp",!0);O(S,C,le,"♢","\\diamondsuit",!0);O(S,C,le,"ℜ","\\Re",!0);O(S,C,le,"♡","\\heartsuit",!0);O(S,C,le,"ℑ","\\Im",!0);O(S,C,le,"♠","\\spadesuit",!0);O(S,C,le,"§","\\S",!0);O(xe,C,le,"§","\\S");O(S,C,le,"¶","\\P",!0);O(xe,C,le,"¶","\\P");O(S,C,le,"†","\\dag");O(xe,C,le,"†","\\dag");O(xe,C,le,"†","\\textdagger");O(S,C,le,"‡","\\ddag");O(xe,C,le,"‡","\\ddag");O(xe,C,le,"‡","\\textdaggerdbl");O(S,C,Ln,"⎱","\\rmoustache",!0);O(S,C,ui,"⎰","\\lmoustache",!0);O(S,C,Ln,"⟯","\\rgroup",!0);O(S,C,ui,"⟮","\\lgroup",!0);O(S,C,He,"∓","\\mp",!0);O(S,C,He,"⊖","\\ominus",!0);O(S,C,He,"⊎","\\uplus",!0);O(S,C,He,"⊓","\\sqcap",!0);O(S,C,He,"∗","\\ast");O(S,C,He,"⊔","\\sqcup",!0);O(S,C,He,"◯","\\bigcirc",!0);O(S,C,He,"∙","\\bullet",!0);O(S,C,He,"‡","\\ddagger");O(S,C,He,"≀","\\wr",!0);O(S,C,He,"⨿","\\amalg");O(S,C,He,"&","\\And");O(S,C,Y,"⟵","\\longleftarrow",!0);O(S,C,Y,"⇐","\\Leftarrow",!0);O(S,C,Y,"⟸","\\Longleftarrow",!0);O(S,C,Y,"⟶","\\longrightarrow",!0);O(S,C,Y,"⇒","\\Rightarrow",!0);O(S,C,Y,"⟹","\\Longrightarrow",!0);O(S,C,Y,"↔","\\leftrightarrow",!0);O(S,C,Y,"⟷","\\longleftrightarrow",!0);O(S,C,Y,"⇔","\\Leftrightarrow",!0);O(S,C,Y,"⟺","\\Longleftrightarrow",!0);O(S,C,Y,"↦","\\mapsto",!0);O(S,C,Y,"⟼","\\longmapsto",!0);O(S,C,Y,"↗","\\nearrow",!0);O(S,C,Y,"↩","\\hookleftarrow",!0);O(S,C,Y,"↪","\\hookrightarrow",!0);O(S,C,Y,"↘","\\searrow",!0);O(S,C,Y,"↼","\\leftharpoonup",!0);O(S,C,Y,"⇀","\\rightharpoonup",!0);O(S,C,Y,"↙","\\swarrow",!0);O(S,C,Y,"↽","\\leftharpoondown",!0);O(S,C,Y,"⇁","\\rightharpoondown",!0);O(S,C,Y,"↖","\\nwarrow",!0);O(S,C,Y,"⇌","\\rightleftharpoons",!0);O(S,G,Y,"≮","\\nless",!0);O(S,G,Y,"","\\@nleqslant");O(S,G,Y,"","\\@nleqq");O(S,G,Y,"⪇","\\lneq",!0);O(S,G,Y,"≨","\\lneqq",!0);O(S,G,Y,"","\\@lvertneqq");O(S,G,Y,"⋦","\\lnsim",!0);O(S,G,Y,"⪉","\\lnapprox",!0);O(S,G,Y,"⊀","\\nprec",!0);O(S,G,Y,"⋠","\\npreceq",!0);O(S,G,Y,"⋨","\\precnsim",!0);O(S,G,Y,"⪹","\\precnapprox",!0);O(S,G,Y,"≁","\\nsim",!0);O(S,G,Y,"","\\@nshortmid");O(S,G,Y,"∤","\\nmid",!0);O(S,G,Y,"⊬","\\nvdash",!0);O(S,G,Y,"⊭","\\nvDash",!0);O(S,G,Y,"⋪","\\ntriangleleft");O(S,G,Y,"⋬","\\ntrianglelefteq",!0);O(S,G,Y,"⊊","\\subsetneq",!0);O(S,G,Y,"","\\@varsubsetneq");O(S,G,Y,"⫋","\\subsetneqq",!0);O(S,G,Y,"","\\@varsubsetneqq");O(S,G,Y,"≯","\\ngtr",!0);O(S,G,Y,"","\\@ngeqslant");O(S,G,Y,"","\\@ngeqq");O(S,G,Y,"⪈","\\gneq",!0);O(S,G,Y,"≩","\\gneqq",!0);O(S,G,Y,"","\\@gvertneqq");O(S,G,Y,"⋧","\\gnsim",!0);O(S,G,Y,"⪊","\\gnapprox",!0);O(S,G,Y,"⊁","\\nsucc",!0);O(S,G,Y,"⋡","\\nsucceq",!0);O(S,G,Y,"⋩","\\succnsim",!0);O(S,G,Y,"⪺","\\succnapprox",!0);O(S,G,Y,"≆","\\ncong",!0);O(S,G,Y,"","\\@nshortparallel");O(S,G,Y,"∦","\\nparallel",!0);O(S,G,Y,"⊯","\\nVDash",!0);O(S,G,Y,"⋫","\\ntriangleright");O(S,G,Y,"⋭","\\ntrianglerighteq",!0);O(S,G,Y,"","\\@nsupseteqq");O(S,G,Y,"⊋","\\supsetneq",!0);O(S,G,Y,"","\\@varsupsetneq");O(S,G,Y,"⫌","\\supsetneqq",!0);O(S,G,Y,"","\\@varsupsetneqq");O(S,G,Y,"⊮","\\nVdash",!0);O(S,G,Y,"⪵","\\precneqq",!0);O(S,G,Y,"⪶","\\succneqq",!0);O(S,G,Y,"","\\@nsubseteqq");O(S,G,He,"⊴","\\unlhd");O(S,G,He,"⊵","\\unrhd");O(S,G,Y,"↚","\\nleftarrow",!0);O(S,G,Y,"↛","\\nrightarrow",!0);O(S,G,Y,"⇍","\\nLeftarrow",!0);O(S,G,Y,"⇏","\\nRightarrow",!0);O(S,G,Y,"↮","\\nleftrightarrow",!0);O(S,G,Y,"⇎","\\nLeftrightarrow",!0);O(S,G,Y,"△","\\vartriangle");O(S,G,le,"ℏ","\\hslash");O(S,G,le,"▽","\\triangledown");O(S,G,le,"◊","\\lozenge");O(S,G,le,"Ⓢ","\\circledS");O(S,G,le,"®","\\circledR");O(xe,G,le,"®","\\circledR");O(S,G,le,"∡","\\measuredangle",!0);O(S,G,le,"∄","\\nexists");O(S,G,le,"℧","\\mho");O(S,G,le,"Ⅎ","\\Finv",!0);O(S,G,le,"⅁","\\Game",!0);O(S,G,le,"‵","\\backprime");O(S,G,le,"▲","\\blacktriangle");O(S,G,le,"▼","\\blacktriangledown");O(S,G,le,"■","\\blacksquare");O(S,G,le,"⧫","\\blacklozenge");O(S,G,le,"★","\\bigstar");O(S,G,le,"∢","\\sphericalangle",!0);O(S,G,le,"∁","\\complement",!0);O(S,G,le,"ð","\\eth",!0);O(xe,C,le,"ð","ð");O(S,G,le,"╱","\\diagup");O(S,G,le,"╲","\\diagdown");O(S,G,le,"□","\\square");O(S,G,le,"□","\\Box");O(S,G,le,"◊","\\Diamond");O(S,G,le,"¥","\\yen",!0);O(xe,G,le,"¥","\\yen",!0);O(S,G,le,"✓","\\checkmark",!0);O(xe,G,le,"✓","\\checkmark");O(S,G,le,"ℶ","\\beth",!0);O(S,G,le,"ℸ","\\daleth",!0);O(S,G,le,"ℷ","\\gimel",!0);O(S,G,le,"ϝ","\\digamma",!0);O(S,G,le,"ϰ","\\varkappa");O(S,G,ui,"┌","\\@ulcorner",!0);O(S,G,Ln,"┐","\\@urcorner",!0);O(S,G,ui,"└","\\@llcorner",!0);O(S,G,Ln,"┘","\\@lrcorner",!0);O(S,G,Y,"≦","\\leqq",!0);O(S,G,Y,"⩽","\\leqslant",!0);O(S,G,Y,"⪕","\\eqslantless",!0);O(S,G,Y,"≲","\\lesssim",!0);O(S,G,Y,"⪅","\\lessapprox",!0);O(S,G,Y,"≊","\\approxeq",!0);O(S,G,He,"⋖","\\lessdot");O(S,G,Y,"⋘","\\lll",!0);O(S,G,Y,"≶","\\lessgtr",!0);O(S,G,Y,"⋚","\\lesseqgtr",!0);O(S,G,Y,"⪋","\\lesseqqgtr",!0);O(S,G,Y,"≑","\\doteqdot");O(S,G,Y,"≓","\\risingdotseq",!0);O(S,G,Y,"≒","\\fallingdotseq",!0);O(S,G,Y,"∽","\\backsim",!0);O(S,G,Y,"⋍","\\backsimeq",!0);O(S,G,Y,"⫅","\\subseteqq",!0);O(S,G,Y,"⋐","\\Subset",!0);O(S,G,Y,"⊏","\\sqsubset",!0);O(S,G,Y,"≼","\\preccurlyeq",!0);O(S,G,Y,"⋞","\\curlyeqprec",!0);O(S,G,Y,"≾","\\precsim",!0);O(S,G,Y,"⪷","\\precapprox",!0);O(S,G,Y,"⊲","\\vartriangleleft");O(S,G,Y,"⊴","\\trianglelefteq");O(S,G,Y,"⊨","\\vDash",!0);O(S,G,Y,"⊪","\\Vvdash",!0);O(S,G,Y,"⌣","\\smallsmile");O(S,G,Y,"⌢","\\smallfrown");O(S,G,Y,"≏","\\bumpeq",!0);O(S,G,Y,"≎","\\Bumpeq",!0);O(S,G,Y,"≧","\\geqq",!0);O(S,G,Y,"⩾","\\geqslant",!0);O(S,G,Y,"⪖","\\eqslantgtr",!0);O(S,G,Y,"≳","\\gtrsim",!0);O(S,G,Y,"⪆","\\gtrapprox",!0);O(S,G,He,"⋗","\\gtrdot");O(S,G,Y,"⋙","\\ggg",!0);O(S,G,Y,"≷","\\gtrless",!0);O(S,G,Y,"⋛","\\gtreqless",!0);O(S,G,Y,"⪌","\\gtreqqless",!0);O(S,G,Y,"≖","\\eqcirc",!0);O(S,G,Y,"≗","\\circeq",!0);O(S,G,Y,"≜","\\triangleq",!0);O(S,G,Y,"∼","\\thicksim");O(S,G,Y,"≈","\\thickapprox");O(S,G,Y,"⫆","\\supseteqq",!0);O(S,G,Y,"⋑","\\Supset",!0);O(S,G,Y,"⊐","\\sqsupset",!0);O(S,G,Y,"≽","\\succcurlyeq",!0);O(S,G,Y,"⋟","\\curlyeqsucc",!0);O(S,G,Y,"≿","\\succsim",!0);O(S,G,Y,"⪸","\\succapprox",!0);O(S,G,Y,"⊳","\\vartriangleright");O(S,G,Y,"⊵","\\trianglerighteq");O(S,G,Y,"⊩","\\Vdash",!0);O(S,G,Y,"∣","\\shortmid");O(S,G,Y,"∥","\\shortparallel");O(S,G,Y,"≬","\\between",!0);O(S,G,Y,"⋔","\\pitchfork",!0);O(S,G,Y,"∝","\\varpropto");O(S,G,Y,"◀","\\blacktriangleleft");O(S,G,Y,"∴","\\therefore",!0);O(S,G,Y,"∍","\\backepsilon");O(S,G,Y,"▶","\\blacktriangleright");O(S,G,Y,"∵","\\because",!0);O(S,G,Y,"⋘","\\llless");O(S,G,Y,"⋙","\\gggtr");O(S,G,He,"⊲","\\lhd");O(S,G,He,"⊳","\\rhd");O(S,G,Y,"≂","\\eqsim",!0);O(S,C,Y,"⋈","\\Join");O(S,G,Y,"≑","\\Doteq",!0);O(S,G,He,"∔","\\dotplus",!0);O(S,G,He,"∖","\\smallsetminus");O(S,G,He,"⋒","\\Cap",!0);O(S,G,He,"⋓","\\Cup",!0);O(S,G,He,"⩞","\\doublebarwedge",!0);O(S,G,He,"⊟","\\boxminus",!0);O(S,G,He,"⊞","\\boxplus",!0);O(S,G,He,"⋇","\\divideontimes",!0);O(S,G,He,"⋉","\\ltimes",!0);O(S,G,He,"⋊","\\rtimes",!0);O(S,G,He,"⋋","\\leftthreetimes",!0);O(S,G,He,"⋌","\\rightthreetimes",!0);O(S,G,He,"⋏","\\curlywedge",!0);O(S,G,He,"⋎","\\curlyvee",!0);O(S,G,He,"⊝","\\circleddash",!0);O(S,G,He,"⊛","\\circledast",!0);O(S,G,He,"⋅","\\centerdot");O(S,G,He,"⊺","\\intercal",!0);O(S,G,He,"⋒","\\doublecap");O(S,G,He,"⋓","\\doublecup");O(S,G,He,"⊠","\\boxtimes",!0);O(S,G,Y,"⇢","\\dashrightarrow",!0);O(S,G,Y,"⇠","\\dashleftarrow",!0);O(S,G,Y,"⇇","\\leftleftarrows",!0);O(S,G,Y,"⇆","\\leftrightarrows",!0);O(S,G,Y,"⇚","\\Lleftarrow",!0);O(S,G,Y,"↞","\\twoheadleftarrow",!0);O(S,G,Y,"↢","\\leftarrowtail",!0);O(S,G,Y,"↫","\\looparrowleft",!0);O(S,G,Y,"⇋","\\leftrightharpoons",!0);O(S,G,Y,"↶","\\curvearrowleft",!0);O(S,G,Y,"↺","\\circlearrowleft",!0);O(S,G,Y,"↰","\\Lsh",!0);O(S,G,Y,"⇈","\\upuparrows",!0);O(S,G,Y,"↿","\\upharpoonleft",!0);O(S,G,Y,"⇃","\\downharpoonleft",!0);O(S,C,Y,"⊶","\\origof",!0);O(S,C,Y,"⊷","\\imageof",!0);O(S,G,Y,"⊸","\\multimap",!0);O(S,G,Y,"↭","\\leftrightsquigarrow",!0);O(S,G,Y,"⇉","\\rightrightarrows",!0);O(S,G,Y,"⇄","\\rightleftarrows",!0);O(S,G,Y,"↠","\\twoheadrightarrow",!0);O(S,G,Y,"↣","\\rightarrowtail",!0);O(S,G,Y,"↬","\\looparrowright",!0);O(S,G,Y,"↷","\\curvearrowright",!0);O(S,G,Y,"↻","\\circlearrowright",!0);O(S,G,Y,"↱","\\Rsh",!0);O(S,G,Y,"⇊","\\downdownarrows",!0);O(S,G,Y,"↾","\\upharpoonright",!0);O(S,G,Y,"⇂","\\downharpoonright",!0);O(S,G,Y,"⇝","\\rightsquigarrow",!0);O(S,G,Y,"⇝","\\leadsto");O(S,G,Y,"⇛","\\Rrightarrow",!0);O(S,G,Y,"↾","\\restriction");O(S,C,le,"‘","`");O(S,C,le,"$","\\$");O(xe,C,le,"$","\\$");O(xe,C,le,"$","\\textdollar");O(S,C,le,"%","\\%");O(xe,C,le,"%","\\%");O(S,C,le,"_","\\_");O(xe,C,le,"_","\\_");O(xe,C,le,"_","\\textunderscore");O(S,C,le,"∠","\\angle",!0);O(S,C,le,"∞","\\infty",!0);O(S,C,le,"′","\\prime");O(S,C,le,"△","\\triangle");O(S,C,le,"Γ","\\Gamma",!0);O(S,C,le,"Δ","\\Delta",!0);O(S,C,le,"Θ","\\Theta",!0);O(S,C,le,"Λ","\\Lambda",!0);O(S,C,le,"Ξ","\\Xi",!0);O(S,C,le,"Π","\\Pi",!0);O(S,C,le,"Σ","\\Sigma",!0);O(S,C,le,"Υ","\\Upsilon",!0);O(S,C,le,"Φ","\\Phi",!0);O(S,C,le,"Ψ","\\Psi",!0);O(S,C,le,"Ω","\\Omega",!0);O(S,C,le,"A","Α");O(S,C,le,"B","Β");O(S,C,le,"E","Ε");O(S,C,le,"Z","Ζ");O(S,C,le,"H","Η");O(S,C,le,"I","Ι");O(S,C,le,"K","Κ");O(S,C,le,"M","Μ");O(S,C,le,"N","Ν");O(S,C,le,"O","Ο");O(S,C,le,"P","Ρ");O(S,C,le,"T","Τ");O(S,C,le,"X","Χ");O(S,C,le,"¬","\\neg",!0);O(S,C,le,"¬","\\lnot");O(S,C,le,"⊤","\\top");O(S,C,le,"⊥","\\bot");O(S,C,le,"∅","\\emptyset");O(S,G,le,"∅","\\varnothing");O(S,C,at,"α","\\alpha",!0);O(S,C,at,"β","\\beta",!0);O(S,C,at,"γ","\\gamma",!0);O(S,C,at,"δ","\\delta",!0);O(S,C,at,"ϵ","\\epsilon",!0);O(S,C,at,"ζ","\\zeta",!0);O(S,C,at,"η","\\eta",!0);O(S,C,at,"θ","\\theta",!0);O(S,C,at,"ι","\\iota",!0);O(S,C,at,"κ","\\kappa",!0);O(S,C,at,"λ","\\lambda",!0);O(S,C,at,"μ","\\mu",!0);O(S,C,at,"ν","\\nu",!0);O(S,C,at,"ξ","\\xi",!0);O(S,C,at,"ο","\\omicron",!0);O(S,C,at,"π","\\pi",!0);O(S,C,at,"ρ","\\rho",!0);O(S,C,at,"σ","\\sigma",!0);O(S,C,at,"τ","\\tau",!0);O(S,C,at,"υ","\\upsilon",!0);O(S,C,at,"ϕ","\\phi",!0);O(S,C,at,"χ","\\chi",!0);O(S,C,at,"ψ","\\psi",!0);O(S,C,at,"ω","\\omega",!0);O(S,C,at,"ε","\\varepsilon",!0);O(S,C,at,"ϑ","\\vartheta",!0);O(S,C,at,"ϖ","\\varpi",!0);O(S,C,at,"ϱ","\\varrho",!0);O(S,C,at,"ς","\\varsigma",!0);O(S,C,at,"φ","\\varphi",!0);O(S,C,He,"∗","*",!0);O(S,C,He,"+","+");O(S,C,He,"−","-",!0);O(S,C,He,"⋅","\\cdot",!0);O(S,C,He,"∘","\\circ",!0);O(S,C,He,"÷","\\div",!0);O(S,C,He,"±","\\pm",!0);O(S,C,He,"×","\\times",!0);O(S,C,He,"∩","\\cap",!0);O(S,C,He,"∪","\\cup",!0);O(S,C,He,"∖","\\setminus",!0);O(S,C,He,"∧","\\land");O(S,C,He,"∨","\\lor");O(S,C,He,"∧","\\wedge",!0);O(S,C,He,"∨","\\vee",!0);O(S,C,le,"√","\\surd");O(S,C,ui,"⟨","\\langle",!0);O(S,C,ui,"∣","\\lvert");O(S,C,ui,"∥","\\lVert");O(S,C,Ln,"?","?");O(S,C,Ln,"!","!");O(S,C,Ln,"⟩","\\rangle",!0);O(S,C,Ln,"∣","\\rvert");O(S,C,Ln,"∥","\\rVert");O(S,C,Y,"=","=");O(S,C,Y,":",":");O(S,C,Y,"≈","\\approx",!0);O(S,C,Y,"≅","\\cong",!0);O(S,C,Y,"≥","\\ge");O(S,C,Y,"≥","\\geq",!0);O(S,C,Y,"←","\\gets");O(S,C,Y,">","\\gt",!0);O(S,C,Y,"∈","\\in",!0);O(S,C,Y,"","\\@not");O(S,C,Y,"⊂","\\subset",!0);O(S,C,Y,"⊃","\\supset",!0);O(S,C,Y,"⊆","\\subseteq",!0);O(S,C,Y,"⊇","\\supseteq",!0);O(S,G,Y,"⊈","\\nsubseteq",!0);O(S,G,Y,"⊉","\\nsupseteq",!0);O(S,C,Y,"⊨","\\models");O(S,C,Y,"←","\\leftarrow",!0);O(S,C,Y,"≤","\\le");O(S,C,Y,"≤","\\leq",!0);O(S,C,Y,"<","\\lt",!0);O(S,C,Y,"→","\\rightarrow",!0);O(S,C,Y,"→","\\to");O(S,G,Y,"≱","\\ngeq",!0);O(S,G,Y,"≰","\\nleq",!0);O(S,C,Zr," ","\\ ");O(S,C,Zr," ","\\space");O(S,C,Zr," ","\\nobreakspace");O(xe,C,Zr," ","\\ ");O(xe,C,Zr," "," ");O(xe,C,Zr," ","\\space");O(xe,C,Zr," ","\\nobreakspace");O(S,C,Zr,null,"\\nobreak");O(S,C,Zr,null,"\\allowbreak");O(S,C,Rh,",",",");O(S,C,Rh,";",";");O(S,G,He,"⊼","\\barwedge",!0);O(S,G,He,"⊻","\\veebar",!0);O(S,C,He,"⊙","\\odot",!0);O(S,C,He,"⊕","\\oplus",!0);O(S,C,He,"⊗","\\otimes",!0);O(S,C,le,"∂","\\partial",!0);O(S,C,He,"⊘","\\oslash",!0);O(S,G,He,"⊚","\\circledcirc",!0);O(S,G,He,"⊡","\\boxdot",!0);O(S,C,He,"△","\\bigtriangleup");O(S,C,He,"▽","\\bigtriangledown");O(S,C,He,"†","\\dagger");O(S,C,He,"⋄","\\diamond");O(S,C,He,"⋆","\\star");O(S,C,He,"◃","\\triangleleft");O(S,C,He,"▹","\\triangleright");O(S,C,ui,"{","\\{");O(xe,C,le,"{","\\{");O(xe,C,le,"{","\\textbraceleft");O(S,C,Ln,"}","\\}");O(xe,C,le,"}","\\}");O(xe,C,le,"}","\\textbraceright");O(S,C,ui,"{","\\lbrace");O(S,C,Ln,"}","\\rbrace");O(S,C,ui,"[","\\lbrack",!0);O(xe,C,le,"[","\\lbrack",!0);O(S,C,Ln,"]","\\rbrack",!0);O(xe,C,le,"]","\\rbrack",!0);O(S,C,ui,"(","\\lparen",!0);O(S,C,Ln,")","\\rparen",!0);O(xe,C,le,"<","\\textless",!0);O(xe,C,le,">","\\textgreater",!0);O(S,C,ui,"⌊","\\lfloor",!0);O(S,C,Ln,"⌋","\\rfloor",!0);O(S,C,ui,"⌈","\\lceil",!0);O(S,C,Ln,"⌉","\\rceil",!0);O(S,C,le,"\\","\\backslash");O(S,C,le,"∣","|");O(S,C,le,"∣","\\vert");O(xe,C,le,"|","\\textbar",!0);O(S,C,le,"∥","\\|");O(S,C,le,"∥","\\Vert");O(xe,C,le,"∥","\\textbardbl");O(xe,C,le,"~","\\textasciitilde");O(xe,C,le,"\\","\\textbackslash");O(xe,C,le,"^","\\textasciicircum");O(S,C,Y,"↑","\\uparrow",!0);O(S,C,Y,"⇑","\\Uparrow",!0);O(S,C,Y,"↓","\\downarrow",!0);O(S,C,Y,"⇓","\\Downarrow",!0);O(S,C,Y,"↕","\\updownarrow",!0);O(S,C,Y,"⇕","\\Updownarrow",!0);O(S,C,cn,"∐","\\coprod");O(S,C,cn,"⋁","\\bigvee");O(S,C,cn,"⋀","\\bigwedge");O(S,C,cn,"⨄","\\biguplus");O(S,C,cn,"⋂","\\bigcap");O(S,C,cn,"⋃","\\bigcup");O(S,C,cn,"∫","\\int");O(S,C,cn,"∫","\\intop");O(S,C,cn,"∬","\\iint");O(S,C,cn,"∭","\\iiint");O(S,C,cn,"∏","\\prod");O(S,C,cn,"∑","\\sum");O(S,C,cn,"⨂","\\bigotimes");O(S,C,cn,"⨁","\\bigoplus");O(S,C,cn,"⨀","\\bigodot");O(S,C,cn,"∮","\\oint");O(S,C,cn,"∯","\\oiint");O(S,C,cn,"∰","\\oiiint");O(S,C,cn,"⨆","\\bigsqcup");O(S,C,cn,"∫","\\smallint");O(xe,C,aa,"…","\\textellipsis");O(S,C,aa,"…","\\mathellipsis");O(xe,C,aa,"…","\\ldots",!0);O(S,C,aa,"…","\\ldots",!0);O(S,C,aa,"⋯","\\@cdots",!0);O(S,C,aa,"⋱","\\ddots",!0);O(S,C,le,"⋮","\\varvdots");O(xe,C,le,"⋮","\\varvdots");O(S,C,Gt,"ˊ","\\acute");O(S,C,Gt,"ˋ","\\grave");O(S,C,Gt,"¨","\\ddot");O(S,C,Gt,"~","\\tilde");O(S,C,Gt,"ˉ","\\bar");O(S,C,Gt,"˘","\\breve");O(S,C,Gt,"ˇ","\\check");O(S,C,Gt,"^","\\hat");O(S,C,Gt,"⃗","\\vec");O(S,C,Gt,"˙","\\dot");O(S,C,Gt,"˚","\\mathring");O(S,C,at,"","\\@imath");O(S,C,at,"","\\@jmath");O(S,C,le,"ı","ı");O(S,C,le,"ȷ","ȷ");O(xe,C,le,"ı","\\i",!0);O(xe,C,le,"ȷ","\\j",!0);O(xe,C,le,"ß","\\ss",!0);O(xe,C,le,"æ","\\ae",!0);O(xe,C,le,"œ","\\oe",!0);O(xe,C,le,"ø","\\o",!0);O(xe,C,le,"Æ","\\AE",!0);O(xe,C,le,"Œ","\\OE",!0);O(xe,C,le,"Ø","\\O",!0);O(xe,C,Gt,"ˊ","\\'");O(xe,C,Gt,"ˋ","\\`");O(xe,C,Gt,"ˆ","\\^");O(xe,C,Gt,"˜","\\~");O(xe,C,Gt,"ˉ","\\=");O(xe,C,Gt,"˘","\\u");O(xe,C,Gt,"˙","\\.");O(xe,C,Gt,"¸","\\c");O(xe,C,Gt,"˚","\\r");O(xe,C,Gt,"ˇ","\\v");O(xe,C,Gt,"¨",'\\"');O(xe,C,Gt,"˝","\\H");O(xe,C,Gt,"◯","\\textcircled");var cb={"--":!0,"---":!0,"``":!0,"''":!0};O(xe,C,le,"–","--",!0);O(xe,C,le,"–","\\textendash");O(xe,C,le,"—","---",!0);O(xe,C,le,"—","\\textemdash");O(xe,C,le,"‘","`",!0);O(xe,C,le,"‘","\\textquoteleft");O(xe,C,le,"’","'",!0);O(xe,C,le,"’","\\textquoteright");O(xe,C,le,"“","``",!0);O(xe,C,le,"“","\\textquotedblleft");O(xe,C,le,"”","''",!0);O(xe,C,le,"”","\\textquotedblright");O(S,C,le,"°","\\degree",!0);O(xe,C,le,"°","\\degree");O(xe,C,le,"°","\\textdegree",!0);O(S,C,le,"£","\\pounds");O(S,C,le,"£","\\mathsterling",!0);O(xe,C,le,"£","\\pounds");O(xe,C,le,"£","\\textsterling",!0);O(S,G,le,"✠","\\maltese");O(xe,G,le,"✠","\\maltese");var nv='0123456789/@."';for(var X0=0;X0<nv.length;X0++){var iv=nv.charAt(X0);O(S,C,le,iv,iv)}var rv='0123456789!@*()-=+";:?/.,';for(var q0=0;q0<rv.length;q0++){var sv=rv.charAt(q0);O(xe,C,le,sv,sv)}var Xc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var F0=0;F0<Xc.length;F0++){var bu=Xc.charAt(F0);O(S,C,at,bu,bu),O(xe,C,le,bu,bu)}O(S,G,le,"C","ℂ");O(xe,G,le,"C","ℂ");O(S,G,le,"H","ℍ");O(xe,G,le,"H","ℍ");O(S,G,le,"N","ℕ");O(xe,G,le,"N","ℕ");O(S,G,le,"P","ℙ");O(xe,G,le,"P","ℙ");O(S,G,le,"Q","ℚ");O(xe,G,le,"Q","ℚ");O(S,G,le,"R","ℝ");O(xe,G,le,"R","ℝ");O(S,G,le,"Z","ℤ");O(xe,G,le,"Z","ℤ");O(S,C,at,"h","ℎ");O(xe,C,at,"h","ℎ");var ft="";for(var En=0;En<Xc.length;En++){var Jt=Xc.charAt(En);ft=String.fromCharCode(55349,56320+En),O(S,C,at,Jt,ft),O(xe,C,le,Jt,ft),ft=String.fromCharCode(55349,56372+En),O(S,C,at,Jt,ft),O(xe,C,le,Jt,ft),ft=String.fromCharCode(55349,56424+En),O(S,C,at,Jt,ft),O(xe,C,le,Jt,ft),ft=String.fromCharCode(55349,56580+En),O(S,C,at,Jt,ft),O(xe,C,le,Jt,ft),ft=String.fromCharCode(55349,56684+En),O(S,C,at,Jt,ft),O(xe,C,le,Jt,ft),ft=String.fromCharCode(55349,56736+En),O(S,C,at,Jt,ft),O(xe,C,le,Jt,ft),ft=String.fromCharCode(55349,56788+En),O(S,C,at,Jt,ft),O(xe,C,le,Jt,ft),ft=String.fromCharCode(55349,56840+En),O(S,C,at,Jt,ft),O(xe,C,le,Jt,ft),ft=String.fromCharCode(55349,56944+En),O(S,C,at,Jt,ft),O(xe,C,le,Jt,ft),En<26&&(ft=String.fromCharCode(55349,56632+En),O(S,C,at,Jt,ft),O(xe,C,le,Jt,ft),ft=String.fromCharCode(55349,56476+En),O(S,C,at,Jt,ft),O(xe,C,le,Jt,ft))}ft="𝕜";O(S,C,at,"k",ft);O(xe,C,le,"k",ft);for(var Ps=0;Ps<10;Ps++){var Yr=Ps.toString();ft=String.fromCharCode(55349,57294+Ps),O(S,C,at,Yr,ft),O(xe,C,le,Yr,ft),ft=String.fromCharCode(55349,57314+Ps),O(S,C,at,Yr,ft),O(xe,C,le,Yr,ft),ft=String.fromCharCode(55349,57324+Ps),O(S,C,at,Yr,ft),O(xe,C,le,Yr,ft),ft=String.fromCharCode(55349,57334+Ps),O(S,C,at,Yr,ft),O(xe,C,le,Yr,ft)}var vf="ÐÞþ";for(var H0=0;H0<vf.length;H0++){var wu=vf.charAt(H0);O(S,C,at,wu,wu),O(xe,C,le,wu,wu)}var xu=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],ov=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],sD=function(e,t){var i=e.charCodeAt(0),r=e.charCodeAt(1),s=(i-55296)*1024+(r-56320)+65536,o=t==="math"?0:1;if(119808<=s&&s<120484){var a=Math.floor((s-119808)/26);return[xu[a][2],xu[a][o]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[ov[l][2],ov[l][o]]}else{if(s===120485||s===120486)return[xu[0][2],xu[0][o]];if(120486<s&&s<120782)return["",""];throw new Ae("Unsupported character: "+e)}},zh=function(e,t,i){return Ft[i][e]&&Ft[i][e].replace&&(e=Ft[i][e].replace),{value:e,metrics:Gp(e,t,i)}},ki=function(e,t,i,r,s){var o=zh(e,t,i),a=o.metrics;e=o.value;var l;if(a){var u=a.italic;(i==="text"||r&&r.font==="mathit")&&(u=0),l=new yi(e,a.height,a.depth,u,a.skew,a.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+i+"'")),l=new yi(e,0,0,0,0,0,s);if(r){l.maxFontSize=r.sizeMultiplier,r.style.isTight()&&l.classes.push("mtight");var c=r.getColor();c&&(l.style.color=c)}return l},oD=function(e,t,i,r){return r===void 0&&(r=[]),i.font==="boldsymbol"&&zh(e,"Main-Bold",t).metrics?ki(e,"Main-Bold",t,i,r.concat(["mathbf"])):e==="\\"||Ft[t][e].font==="main"?ki(e,"Main-Regular",t,i,r):ki(e,"AMS-Regular",t,i,r.concat(["amsrm"]))},aD=function(e,t,i,r,s){return s!=="textord"&&zh(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},lD=function(e,t,i){var r=e.mode,s=e.text,o=["mord"],a=r==="math"||r==="text"&&t.font,l=a?t.font:t.fontFamily,u="",c="";if(s.charCodeAt(0)===55349&&([u,c]=sD(s,r)),u.length>0)return ki(s,u,r,t,o.concat(c));if(l){var h,d;if(l==="boldsymbol"){var m=aD(s,r,t,o,i);h=m.fontName,d=[m.fontClass]}else a?(h=fb[l].fontName,d=[l]):(h=Su(l,t.fontWeight,t.fontShape),d=[l,t.fontWeight,t.fontShape]);if(zh(s,h,r).metrics)return ki(s,h,r,t,o.concat(d));if(cb.hasOwnProperty(s)&&h.slice(0,10)==="Typewriter"){for(var v=[],b=0;b<s.length;b++)v.push(ki(s[b],h,r,t,o.concat(d)));return db(v)}}if(i==="mathord")return ki(s,"Math-Italic",r,t,o.concat(["mathnormal"]));if(i==="textord"){var k=Ft[r][s]&&Ft[r][s].font;if(k==="ams"){var _=Su("amsrm",t.fontWeight,t.fontShape);return ki(s,_,r,t,o.concat("amsrm",t.fontWeight,t.fontShape))}else if(k==="main"||!k){var T=Su("textrm",t.fontWeight,t.fontShape);return ki(s,T,r,t,o.concat(t.fontWeight,t.fontShape))}else{var $=Su(k,t.fontWeight,t.fontShape);return ki(s,$,r,t,o.concat($,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},uD=(n,e)=>{if(ms(n.classes)!==ms(e.classes)||n.skew!==e.skew||n.maxFontSize!==e.maxFontSize)return!1;if(n.classes.length===1){var t=n.classes[0];if(t==="mbin"||t==="mord")return!1}for(var i in n.style)if(n.style.hasOwnProperty(i)&&n.style[i]!==e.style[i])return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&n.style[r]!==e.style[r])return!1;return!0},cD=n=>{for(var e=0;e<n.length-1;e++){var t=n[e],i=n[e+1];t instanceof yi&&i instanceof yi&&uD(t,i)&&(t.text+=i.text,t.height=Math.max(t.height,i.height),t.depth=Math.max(t.depth,i.depth),t.italic=i.italic,n.splice(e+1,1),e--)}return n},Yp=function(e){for(var t=0,i=0,r=0,s=0;s<e.children.length;s++){var o=e.children[s];o.height>t&&(t=o.height),o.depth>i&&(i=o.depth),o.maxFontSize>r&&(r=o.maxFontSize)}e.height=t,e.depth=i,e.maxFontSize=r},Vn=function(e,t,i,r){var s=new Nl(e,t,i,r);return Yp(s),s},hb=(n,e,t,i)=>new Nl(n,e,t,i),hD=function(e,t,i){var r=Vn([e],[],t);return r.height=Math.max(i||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),r.style.borderBottomWidth=Qe(r.height),r.maxFontSize=1,r},dD=function(e,t,i,r){var s=new Wp(e,t,i,r);return Yp(s),s},db=function(e){var t=new Il(e);return Yp(t),t},fD=function(e,t){return e instanceof Il?Vn([],[e],t):e},pD=function(e){if(e.positionType==="individualShift"){for(var t=e.children,i=[t[0]],r=-t[0].shift-t[0].elem.depth,s=r,o=1;o<t.length;o++){var a=-t[o].shift-s-t[o].elem.depth,l=a-(t[o-1].elem.height+t[o-1].elem.depth);s=s+a,i.push({type:"kern",size:l}),i.push(t[o])}return{children:i,depth:r}}var u;if(e.positionType==="top"){for(var c=e.positionData,h=0;h<e.children.length;h++){var d=e.children[h];c-=d.type==="kern"?d.size:d.elem.height+d.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var m=e.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-m.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},mD=function(e,t){for(var{children:i,depth:r}=pD(e),s=0,o=0;o<i.length;o++){var a=i[o];if(a.type==="elem"){var l=a.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var u=Vn(["pstrut"],[]);u.style.height=Qe(s);for(var c=[],h=r,d=r,m=r,v=0;v<i.length;v++){var b=i[v];if(b.type==="kern")m+=b.size;else{var k=b.elem,_=b.wrapperClasses||[],T=b.wrapperStyle||{},$=Vn(_,[u,k],void 0,T);$.style.top=Qe(-s-m-k.depth),b.marginLeft&&($.style.marginLeft=b.marginLeft),b.marginRight&&($.style.marginRight=b.marginRight),c.push($),m+=k.height+k.depth}h=Math.min(h,m),d=Math.max(d,m)}var w=Vn(["vlist"],c);w.style.height=Qe(d);var R;if(h<0){var Q=Vn([],[]),M=Vn(["vlist"],[Q]);M.style.height=Qe(-h);var B=Vn(["vlist-s"],[new yi("​")]);R=[Vn(["vlist-r"],[w,B]),Vn(["vlist-r"],[M])]}else R=[Vn(["vlist-r"],[w])];var N=Vn(["vlist-t"],R);return R.length===2&&N.classes.push("vlist-t2"),N.height=d,N.depth=-h,N},gD=(n,e)=>{var t=Vn(["mspace"],[],e),i=Kt(n,e);return t.style.marginRight=Qe(i),t},Su=function(e,t,i){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}var s;return t==="textbf"&&i==="textit"?s="BoldItalic":t==="textbf"?s="Bold":t==="textit"?s="Italic":s="Regular",r+"-"+s},fb={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},pb={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},vD=function(e,t){var[i,r,s]=pb[e],o=new gs(i),a=new Dr([o],{width:Qe(r),height:Qe(s),style:"width:"+Qe(r),viewBox:"0 0 "+1e3*r+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=hb(["overlay"],[a],t);return l.height=s,l.style.height=Qe(s),l.style.width=Qe(r),l},pe={fontMap:fb,makeSymbol:ki,mathsym:oD,makeSpan:Vn,makeSvgSpan:hb,makeLineSpan:hD,makeAnchor:dD,makeFragment:db,wrapFragment:fD,makeVList:mD,makeOrd:lD,makeGlue:gD,staticSvg:vD,svgData:pb,tryCombineChars:cD},Yt={number:3,unit:"mu"},Ms={number:4,unit:"mu"},pr={number:5,unit:"mu"},OD={mord:{mop:Yt,mbin:Ms,mrel:pr,minner:Yt},mop:{mord:Yt,mop:Yt,mrel:pr,minner:Yt},mbin:{mord:Ms,mop:Ms,mopen:Ms,minner:Ms},mrel:{mord:pr,mop:pr,mopen:pr,minner:pr},mopen:{},mclose:{mop:Yt,mbin:Ms,mrel:pr,minner:Yt},mpunct:{mord:Yt,mop:Yt,mrel:pr,mopen:Yt,mclose:Yt,mpunct:Yt,minner:Yt},minner:{mord:Yt,mop:Yt,mbin:Ms,mrel:pr,mopen:Yt,mpunct:Yt,minner:Yt}},yD={mord:{mop:Yt},mop:{mord:Yt,mop:Yt},mbin:{},mrel:{},mopen:{},mclose:{mop:Yt},mpunct:{},minner:{mop:Yt}},mb={},qc={},Fc={};function Be(n){for(var{type:e,names:t,props:i,handler:r,htmlBuilder:s,mathmlBuilder:o}=n,a={type:e,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:r},l=0;l<t.length;++l)mb[t[l]]=a;e&&(s&&(qc[e]=s),o&&(Fc[e]=o))}function uo(n){var{type:e,htmlBuilder:t,mathmlBuilder:i}=n;Be({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:i})}var Hc=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},rn=function(e){return e.type==="ordgroup"?e.body:[e]},Ir=pe.makeSpan,bD=["leftmost","mbin","mopen","mrel","mop","mpunct"],wD=["rightmost","mrel","mclose","mpunct"],xD={display:lt.DISPLAY,text:lt.TEXT,script:lt.SCRIPT,scriptscript:lt.SCRIPTSCRIPT},SD={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},mn=function(e,t,i,r){r===void 0&&(r=[null,null]);for(var s=[],o=0;o<e.length;o++){var a=Mt(e[o],t);if(a instanceof Il){var l=a.children;s.push(...l)}else s.push(a)}if(pe.tryCombineChars(s),!i)return s;var u=t;if(e.length===1){var c=e[0];c.type==="sizing"?u=t.havingSize(c.size):c.type==="styling"&&(u=t.havingStyle(xD[c.style]))}var h=Ir([r[0]||"leftmost"],[],t),d=Ir([r[1]||"rightmost"],[],t),m=i==="root";return av(s,(v,b)=>{var k=b.classes[0],_=v.classes[0];k==="mbin"&&st.contains(wD,_)?b.classes[0]="mord":_==="mbin"&&st.contains(bD,k)&&(v.classes[0]="mord")},{node:h},d,m),av(s,(v,b)=>{var k=Of(b),_=Of(v),T=k&&_?v.hasClass("mtight")?yD[k][_]:OD[k][_]:null;if(T)return pe.makeGlue(T,u)},{node:h},d,m),s},av=function n(e,t,i,r,s){r&&e.push(r);for(var o=0;o<e.length;o++){var a=e[o],l=gb(a);if(l){n(l.children,t,i,null,s);continue}var u=!a.hasClass("mspace");if(u){var c=t(a,i.node);c&&(i.insertAfter?i.insertAfter(c):(e.unshift(c),o++))}u?i.node=a:s&&a.hasClass("newline")&&(i.node=Ir(["leftmost"])),i.insertAfter=(h=>d=>{e.splice(h+1,0,d),o++})(o)}r&&e.pop()},gb=function(e){return e instanceof Il||e instanceof Wp||e instanceof Nl&&e.hasClass("enclosing")?e:null},kD=function n(e,t){var i=gb(e);if(i){var r=i.children;if(r.length){if(t==="right")return n(r[r.length-1],"right");if(t==="left")return n(r[0],"left")}}return e},Of=function(e,t){return e?(t&&(e=kD(e,t)),SD[e.classes[0]]||null):null},wl=function(e,t){var i=["nulldelimiter"].concat(e.baseSizingClasses());return Ir(t.concat(i))},Mt=function(e,t,i){if(!e)return Ir();if(qc[e.type]){var r=qc[e.type](e,t);if(i&&t.size!==i.size){r=Ir(t.sizingClasses(i),[r],t);var s=t.sizeMultiplier/i.sizeMultiplier;r.height*=s,r.depth*=s}return r}else throw new Ae("Got group of unknown type: '"+e.type+"'")};function ku(n,e){var t=Ir(["base"],n,e),i=Ir(["strut"]);return i.style.height=Qe(t.height+t.depth),t.depth&&(i.style.verticalAlign=Qe(-t.depth)),t.children.unshift(i),t}function yf(n,e){var t=null;n.length===1&&n[0].type==="tag"&&(t=n[0].tag,n=n[0].body);var i=mn(n,e,"root"),r;i.length===2&&i[1].hasClass("tag")&&(r=i.pop());for(var s=[],o=[],a=0;a<i.length;a++)if(o.push(i[a]),i[a].hasClass("mbin")||i[a].hasClass("mrel")||i[a].hasClass("allowbreak")){for(var l=!1;a<i.length-1&&i[a+1].hasClass("mspace")&&!i[a+1].hasClass("newline");)a++,o.push(i[a]),i[a].hasClass("nobreak")&&(l=!0);l||(s.push(ku(o,e)),o=[])}else i[a].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(ku(o,e)),o=[]),s.push(i[a]));o.length>0&&s.push(ku(o,e));var u;t?(u=ku(mn(t,e,!0)),u.classes=["tag"],s.push(u)):r&&s.push(r);var c=Ir(["katex-html"],s);if(c.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=Qe(c.height+c.depth),c.depth&&(h.style.verticalAlign=Qe(-c.depth))}return c}function vb(n){return new Il(n)}class ri{constructor(e,t,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=i||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=ms(this.classes));for(var i=0;i<this.children.length;i++)if(this.children[i]instanceof Ui&&this.children[i+1]instanceof Ui){for(var r=this.children[i].toText()+this.children[++i].toText();this.children[i+1]instanceof Ui;)r+=this.children[++i].toText();e.appendChild(new Ui(r).toNode())}else e.appendChild(this.children[i].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=st.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+st.escape(ms(this.classes))+'"'),e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}let Ui=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return st.escape(this.toText())}toText(){return this.text}};class _D{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Qe(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Qe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var $e={MathNode:ri,TextNode:Ui,SpaceNode:_D,newDocumentFragment:vb},bi=function(e,t,i){return Ft[t][e]&&Ft[t][e].replace&&e.charCodeAt(0)!==55349&&!(cb.hasOwnProperty(e)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(e=Ft[t][e].replace),new $e.TextNode(e)},Kp=function(e){return e.length===1?e[0]:new $e.MathNode("mrow",e)},Jp=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var i=t.font;if(!i||i==="mathnormal")return null;var r=e.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathsfit")return"sans-serif-italic";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var s=e.text;if(st.contains(["\\imath","\\jmath"],s))return null;Ft[r][s]&&Ft[r][s].replace&&(s=Ft[r][s].replace);var o=pe.fontMap[i].fontName;return Gp(s,o,r)?pe.fontMap[i].variant:null};function j0(n){if(!n)return!1;if(n.type==="mi"&&n.children.length===1){var e=n.children[0];return e instanceof Ui&&e.text==="."}else if(n.type==="mo"&&n.children.length===1&&n.getAttribute("separator")==="true"&&n.getAttribute("lspace")==="0em"&&n.getAttribute("rspace")==="0em"){var t=n.children[0];return t instanceof Ui&&t.text===","}else return!1}var Un=function(e,t,i){if(e.length===1){var r=Vt(e[0],t);return i&&r instanceof ri&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var s=[],o,a=0;a<e.length;a++){var l=Vt(e[a],t);if(l instanceof ri&&o instanceof ri){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(j0(l)&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mn"&&j0(o))l.children=[...o.children,...l.children],s.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(o.type==="mn"||j0(o))){var u=l.children[0];u instanceof ri&&u.type==="mn"&&(u.children=[...o.children,...u.children],s.pop())}else if(o.type==="mi"&&o.children.length===1){var c=o.children[0];if(c instanceof Ui&&c.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var h=l.children[0];h instanceof Ui&&h.text.length>0&&(h.text=h.text.slice(0,1)+"̸"+h.text.slice(1),s.pop())}}}s.push(l),o=l}return s},vs=function(e,t,i){return Kp(Un(e,t,i))},Vt=function(e,t){if(!e)return new $e.MathNode("mrow");if(Fc[e.type]){var i=Fc[e.type](e,t);return i}else throw new Ae("Got group of unknown type: '"+e.type+"'")};function lv(n,e,t,i,r){var s=Un(n,t),o;s.length===1&&s[0]instanceof ri&&st.contains(["mrow","mtable"],s[0].type)?o=s[0]:o=new $e.MathNode("mrow",s);var a=new $e.MathNode("annotation",[new $e.TextNode(e)]);a.setAttribute("encoding","application/x-tex");var l=new $e.MathNode("semantics",[o,a]),u=new $e.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var c=r?"katex":"katex-mathml";return pe.makeSpan([c],[u])}var Ob=function(e){return new gr({style:e.displayMode?lt.DISPLAY:lt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},yb=function(e,t){if(t.displayMode){var i=["katex-display"];t.leqno&&i.push("leqno"),t.fleqn&&i.push("fleqn"),e=pe.makeSpan(i,[e])}return e},$D=function(e,t,i){var r=Ob(i),s;if(i.output==="mathml")return lv(e,t,r,i.displayMode,!0);if(i.output==="html"){var o=yf(e,r);s=pe.makeSpan(["katex"],[o])}else{var a=lv(e,t,r,i.displayMode,!1),l=yf(e,r);s=pe.makeSpan(["katex"],[a,l])}return yb(s,i)},AD=function(e,t,i){var r=Ob(i),s=yf(e,r),o=pe.makeSpan(["katex"],[s]);return yb(o,i)},TD={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},PD=function(e){var t=new $e.MathNode("mo",[new $e.TextNode(TD[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},MD={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},CD=function(e){return e.type==="ordgroup"?e.body.length:1},ED=function(e,t){function i(){var a=4e5,l=e.label.slice(1);if(st.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,c=CD(u.base),h,d,m;if(c>5)l==="widehat"||l==="widecheck"?(h=420,a=2364,m=.42,d=l+"4"):(h=312,a=2340,m=.34,d="tilde4");else{var v=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(a=[0,1062,2364,2364,2364][v],h=[0,239,300,360,420][v],m=[0,.24,.3,.3,.36,.42][v],d=l+v):(a=[0,600,1033,2339,2340][v],h=[0,260,286,306,312][v],m=[0,.26,.286,.3,.306,.34][v],d="tilde"+v)}var b=new gs(d),k=new Dr([b],{width:"100%",height:Qe(m),viewBox:"0 0 "+a+" "+h,preserveAspectRatio:"none"});return{span:pe.makeSvgSpan([],[k],t),minWidth:0,height:m}}else{var _=[],T=MD[l],[$,w,R]=T,Q=R/1e3,M=$.length,B,N;if(M===1){var K=T[3];B=["hide-tail"],N=[K]}else if(M===2)B=["halfarrow-left","halfarrow-right"],N=["xMinYMin","xMaxYMin"];else if(M===3)B=["brace-left","brace-center","brace-right"],N=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+M+" children.");for(var q=0;q<M;q++){var Z=new gs($[q]),re=new Dr([Z],{width:"400em",height:Qe(Q),viewBox:"0 0 "+a+" "+R,preserveAspectRatio:N[q]+" slice"}),P=pe.makeSvgSpan([B[q]],[re],t);if(M===1)return{span:P,minWidth:w,height:Q};P.style.height=Qe(Q),_.push(P)}return{span:pe.makeSpan(["stretchy"],_,t),minWidth:w,height:Q}}}var{span:r,minWidth:s,height:o}=i();return r.height=o,r.style.height=Qe(o),s>0&&(r.style.minWidth=Qe(s)),r},QD=function(e,t,i,r,s){var o,a=e.height+e.depth+i+r;if(/fbox|color|angl/.test(t)){if(o=pe.makeSpan(["stretchy",t],[],s),t==="fbox"){var l=s.color&&s.getColor();l&&(o.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(t)&&u.push(new gf({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&u.push(new gf({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new Dr(u,{width:"100%",height:Qe(a)});o=pe.makeSvgSpan([],[c],s)}return o.height=a,o.style.height=Qe(a),o},Nr={encloseSpan:QD,mathMLnode:PD,svgSpan:ED};function bt(n,e){if(!n||n.type!==e)throw new Error("Expected node of type "+e+", but got "+(n?"node of type "+n.type:String(n)));return n}function em(n){var e=Dh(n);if(!e)throw new Error("Expected node of symbol group type, but got "+(n?"node of type "+n.type:String(n)));return e}function Dh(n){return n&&(n.type==="atom"||rD.hasOwnProperty(n.type))?n:null}var tm=(n,e)=>{var t,i,r;n&&n.type==="supsub"?(i=bt(n.base,"accent"),t=i.base,n.base=t,r=nD(Mt(n,e)),n.base=i):(i=bt(n,"accent"),t=i.base);var s=Mt(t,e.havingCrampedStyle()),o=i.isShifty&&st.isCharacterBox(t),a=0;if(o){var l=st.getBaseElem(t),u=Mt(l,e.havingCrampedStyle());a=tv(u).skew}var c=i.label==="\\c",h=c?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),d;if(i.isStretchy)d=Nr.svgSpan(i,e),d=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:d,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+Qe(2*a)+")",marginLeft:Qe(2*a)}:void 0}]},e);else{var m,v;i.label==="\\vec"?(m=pe.staticSvg("vec",e),v=pe.svgData.vec[1]):(m=pe.makeOrd({mode:i.mode,text:i.label},e,"textord"),m=tv(m),m.italic=0,v=m.width,c&&(h+=m.depth)),d=pe.makeSpan(["accent-body"],[m]);var b=i.label==="\\textcircled";b&&(d.classes.push("accent-full"),h=s.height);var k=a;b||(k-=v/2),d.style.left=Qe(k),i.label==="\\textcircled"&&(d.style.top=".2em"),d=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-h},{type:"elem",elem:d}]},e)}var _=pe.makeSpan(["mord","accent"],[d],e);return r?(r.children[0]=_,r.height=Math.max(_.height,r.height),r.classes[0]="mord",r):_},bb=(n,e)=>{var t=n.isStretchy?Nr.mathMLnode(n.label):new $e.MathNode("mo",[bi(n.label,n.mode)]),i=new $e.MathNode("mover",[Vt(n.base,e),t]);return i.setAttribute("accent","true"),i},RD=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(n=>"\\"+n).join("|"));Be({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(n,e)=>{var t=Hc(e[0]),i=!RD.test(n.funcName),r=!i||n.funcName==="\\widehat"||n.funcName==="\\widetilde"||n.funcName==="\\widecheck";return{type:"accent",mode:n.parser.mode,label:n.funcName,isStretchy:i,isShifty:r,base:t}},htmlBuilder:tm,mathmlBuilder:bb});Be({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(n,e)=>{var t=e[0],i=n.parser.mode;return i==="math"&&(n.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+n.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:n.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:tm,mathmlBuilder:bb});Be({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0];return{type:"accentUnder",mode:t.mode,label:i,base:r}},htmlBuilder:(n,e)=>{var t=Mt(n.base,e),i=Nr.svgSpan(n,e),r=n.label==="\\utilde"?.12:0,s=pe.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:t}]},e);return pe.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(n,e)=>{var t=Nr.mathMLnode(n.label),i=new $e.MathNode("munder",[Vt(n.base,e),t]);return i.setAttribute("accentunder","true"),i}});var _u=n=>{var e=new $e.MathNode("mpadded",n?[n]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Be({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:i,funcName:r}=n;return{type:"xArrow",mode:i.mode,label:r,body:e[0],below:t[0]}},htmlBuilder(n,e){var t=e.style,i=e.havingStyle(t.sup()),r=pe.wrapFragment(Mt(n.body,i,e),e),s=n.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(s+"-arrow-pad");var o;n.below&&(i=e.havingStyle(t.sub()),o=pe.wrapFragment(Mt(n.below,i,e),e),o.classes.push(s+"-arrow-pad"));var a=Nr.svgSpan(n,e),l=-e.fontMetrics().axisHeight+.5*a.height,u=-e.fontMetrics().axisHeight-.5*a.height-.111;(r.depth>.25||n.label==="\\xleftequilibrium")&&(u-=r.depth);var c;if(o){var h=-e.fontMetrics().axisHeight+o.height+.5*a.height+.111;c=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:u},{type:"elem",elem:a,shift:l},{type:"elem",elem:o,shift:h}]},e)}else c=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:u},{type:"elem",elem:a,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),pe.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(n,e){var t=Nr.mathMLnode(n.label);t.setAttribute("minsize",n.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(n.body){var r=_u(Vt(n.body,e));if(n.below){var s=_u(Vt(n.below,e));i=new $e.MathNode("munderover",[t,s,r])}else i=new $e.MathNode("mover",[t,r])}else if(n.below){var o=_u(Vt(n.below,e));i=new $e.MathNode("munder",[t,o])}else i=_u(),i=new $e.MathNode("mover",[t,i]);return i}});var zD=pe.makeSpan;function wb(n,e){var t=mn(n.body,e,!0);return zD([n.mclass],t,e)}function xb(n,e){var t,i=Un(n.body,e);return n.mclass==="minner"?t=new $e.MathNode("mpadded",i):n.mclass==="mord"?n.isCharacterBox?(t=i[0],t.type="mi"):t=new $e.MathNode("mi",i):(n.isCharacterBox?(t=i[0],t.type="mo"):t=new $e.MathNode("mo",i),n.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):n.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):n.mclass==="mopen"||n.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):n.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}Be({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(n,e){var{parser:t,funcName:i}=n,r=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+i.slice(5),body:rn(r),isCharacterBox:st.isCharacterBox(r)}},htmlBuilder:wb,mathmlBuilder:xb});var Ih=n=>{var e=n.type==="ordgroup"&&n.body.length?n.body[0]:n;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Be({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(n,e){var{parser:t}=n;return{type:"mclass",mode:t.mode,mclass:Ih(e[0]),body:rn(e[1]),isCharacterBox:st.isCharacterBox(e[1])}}});Be({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(n,e){var{parser:t,funcName:i}=n,r=e[1],s=e[0],o;i!=="\\stackrel"?o=Ih(r):o="mrel";var a={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:rn(r)},l={type:"supsub",mode:s.mode,base:a,sup:i==="\\underset"?null:s,sub:i==="\\underset"?s:null};return{type:"mclass",mode:t.mode,mclass:o,body:[l],isCharacterBox:st.isCharacterBox(l)}},htmlBuilder:wb,mathmlBuilder:xb});Be({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"pmb",mode:t.mode,mclass:Ih(e[0]),body:rn(e[0])}},htmlBuilder(n,e){var t=mn(n.body,e,!0),i=pe.makeSpan([n.mclass],t,e);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(n,e){var t=Un(n.body,e),i=new $e.MathNode("mstyle",t);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var DD={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},uv=()=>({type:"styling",body:[],mode:"math",style:"display"}),cv=n=>n.type==="textord"&&n.text==="@",ID=(n,e)=>(n.type==="mathord"||n.type==="atom")&&n.text===e;function ND(n,e,t){var i=DD[n];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(i,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var r=t.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:i,mode:"math",family:"rel"},o=t.callFunction("\\Big",[s],[]),a=t.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[r,o,a]};return t.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function LD(n){var e=[];for(n.gullet.beginGroup(),n.gullet.macros.set("\\cr","\\\\\\relax"),n.gullet.beginGroup();;){e.push(n.parseExpression(!1,"\\\\")),n.gullet.endGroup(),n.gullet.beginGroup();var t=n.fetch().text;if(t==="&"||t==="\\\\")n.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Ae("Expected \\\\ or \\cr or \\end",n.nextToken)}for(var i=[],r=[i],s=0;s<e.length;s++){for(var o=e[s],a=uv(),l=0;l<o.length;l++)if(!cv(o[l]))a.body.push(o[l]);else{i.push(a),l+=1;var u=em(o[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var d=!0,m=l+1;m<o.length;m++){if(ID(o[m],u)){d=!1,l=m;break}if(cv(o[m]))throw new Ae("Missing a "+u+" character to complete a CD arrow.",o[m]);c[h].body.push(o[m])}if(d)throw new Ae("Missing a "+u+" character to complete a CD arrow.",o[l])}else throw new Ae('Expected one of "<>AV=|." after @',o[l]);var v=ND(u,c,n),b={type:"styling",body:[v],mode:"math",style:"display"};i.push(b),a=uv()}s%2===0?i.push(a):i.shift(),i=[],r.push(i)}n.gullet.endGroup(),n.gullet.endGroup();var k=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:k,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}Be({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:i}=n;return{type:"cdlabel",mode:t.mode,side:i.slice(4),label:e[0]}},htmlBuilder(n,e){var t=e.havingStyle(e.style.sup()),i=pe.wrapFragment(Mt(n.label,t,e),e);return i.classes.push("cd-label-"+n.side),i.style.bottom=Qe(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(n,e){var t=new $e.MathNode("mrow",[Vt(n.label,e)]);return t=new $e.MathNode("mpadded",[t]),t.setAttribute("width","0"),n.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new $e.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});Be({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(n,e){var{parser:t}=n;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(n,e){var t=pe.wrapFragment(Mt(n.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(n,e){return new $e.MathNode("mrow",[Vt(n.fragment,e)])}});Be({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(n,e){for(var{parser:t}=n,i=bt(e[0],"ordgroup"),r=i.body,s="",o=0;o<r.length;o++){var a=bt(r[o],"textord");s+=a.text}var l=parseInt(s),u;if(isNaN(l))throw new Ae("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new Ae("\\@char with invalid code point "+s);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:t.mode,text:u}}});var Sb=(n,e)=>{var t=mn(n.body,e.withColor(n.color),!1);return pe.makeFragment(t)},kb=(n,e)=>{var t=Un(n.body,e.withColor(n.color)),i=new $e.MathNode("mstyle",t);return i.setAttribute("mathcolor",n.color),i};Be({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(n,e){var{parser:t}=n,i=bt(e[0],"color-token").color,r=e[1];return{type:"color",mode:t.mode,color:i,body:rn(r)}},htmlBuilder:Sb,mathmlBuilder:kb});Be({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(n,e){var{parser:t,breakOnTokenText:i}=n,r=bt(e[0],"color-token").color;t.gullet.macros.set("\\current@color",r);var s=t.parseExpression(!0,i);return{type:"color",mode:t.mode,color:r,body:s}},htmlBuilder:Sb,mathmlBuilder:kb});Be({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(n,e,t){var{parser:i}=n,r=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,s=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:s,size:r&&bt(r,"size").value}},htmlBuilder(n,e){var t=pe.makeSpan(["mspace"],[],e);return n.newLine&&(t.classes.push("newline"),n.size&&(t.style.marginTop=Qe(Kt(n.size,e)))),t},mathmlBuilder(n,e){var t=new $e.MathNode("mspace");return n.newLine&&(t.setAttribute("linebreak","newline"),n.size&&t.setAttribute("height",Qe(Kt(n.size,e)))),t}});var bf={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},_b=n=>{var e=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Ae("Expected a control sequence",n);return e},ZD=n=>{var e=n.gullet.popToken();return e.text==="="&&(e=n.gullet.popToken(),e.text===" "&&(e=n.gullet.popToken())),e},$b=(n,e,t,i)=>{var r=n.gullet.macros.get(t.text);r==null&&(t.noexpand=!0,r={tokens:[t],numArgs:0,unexpandable:!n.gullet.isExpandable(t.text)}),n.gullet.macros.set(e,r,i)};Be({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e,funcName:t}=n;e.consumeSpaces();var i=e.fetch();if(bf[i.text])return(t==="\\global"||t==="\\\\globallong")&&(i.text=bf[i.text]),bt(e.parseFunction(),"internal");throw new Ae("Invalid token after macro prefix",i)}});Be({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,i=e.gullet.popToken(),r=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new Ae("Expected a control sequence",i);for(var s=0,o,a=[[]];e.gullet.future().text!=="{";)if(i=e.gullet.popToken(),i.text==="#"){if(e.gullet.future().text==="{"){o=e.gullet.future(),a[s].push("{");break}if(i=e.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new Ae('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==s+1)throw new Ae('Argument number "'+i.text+'" out of order');s++,a.push([])}else{if(i.text==="EOF")throw new Ae("Expected a macro definition");a[s].push(i.text)}var{tokens:l}=e.gullet.consumeArg();return o&&l.unshift(o),(t==="\\edef"||t==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(r,{tokens:l,numArgs:s,delimiters:a},t===bf[t]),{type:"internal",mode:e.mode}}});Be({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,i=_b(e.gullet.popToken());e.gullet.consumeSpaces();var r=ZD(e);return $b(e,i,r,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});Be({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,i=_b(e.gullet.popToken()),r=e.gullet.popToken(),s=e.gullet.popToken();return $b(e,i,s,t==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(r),{type:"internal",mode:e.mode}}});var Ia=function(e,t,i){var r=Ft.math[e]&&Ft.math[e].replace,s=Gp(r||e,t,i);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return s},nm=function(e,t,i,r){var s=i.havingBaseStyle(t),o=pe.makeSpan(r.concat(s.sizingClasses(i)),[e],i),a=s.sizeMultiplier/i.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=s.sizeMultiplier,o},Ab=function(e,t,i){var r=t.havingBaseStyle(i),s=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Qe(s),e.height-=s,e.depth+=s},BD=function(e,t,i,r,s,o){var a=pe.makeSymbol(e,"Main-Regular",s,r),l=nm(a,t,r,o);return i&&Ab(l,r,t),l},VD=function(e,t,i,r){return pe.makeSymbol(e,"Size"+t+"-Regular",i,r)},Tb=function(e,t,i,r,s,o){var a=VD(e,t,s,r),l=nm(pe.makeSpan(["delimsizing","size"+t],[a],r),lt.TEXT,r,o);return i&&Ab(l,r,lt.TEXT),l},U0=function(e,t,i){var r;t==="Size1-Regular"?r="delim-size1":r="delim-size4";var s=pe.makeSpan(["delimsizinginner",r],[pe.makeSpan([],[pe.makeSymbol(e,t,i)])]);return{type:"elem",elem:s}},G0=function(e,t,i){var r=ji["Size4-Regular"][e.charCodeAt(0)]?ji["Size4-Regular"][e.charCodeAt(0)][4]:ji["Size1-Regular"][e.charCodeAt(0)][4],s=new gs("inner",jz(e,Math.round(1e3*t))),o=new Dr([s],{width:Qe(r),height:Qe(t),style:"width:"+Qe(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),a=pe.makeSvgSpan([],[o],i);return a.height=t,a.style.height=Qe(t),a.style.width=Qe(r),{type:"elem",elem:a}},wf=.008,$u={type:"kern",size:-1*wf},XD=["|","\\lvert","\\rvert","\\vert"],qD=["\\|","\\lVert","\\rVert","\\Vert"],Pb=function(e,t,i,r,s,o){var a,l,u,c,h="",d=0;a=u=c=e,l=null;var m="Size1-Regular";e==="\\uparrow"?u=c="⏐":e==="\\Uparrow"?u=c="‖":e==="\\downarrow"?a=u="⏐":e==="\\Downarrow"?a=u="‖":e==="\\updownarrow"?(a="\\uparrow",u="⏐",c="\\downarrow"):e==="\\Updownarrow"?(a="\\Uparrow",u="‖",c="\\Downarrow"):st.contains(XD,e)?(u="∣",h="vert",d=333):st.contains(qD,e)?(u="∥",h="doublevert",d=556):e==="["||e==="\\lbrack"?(a="⎡",u="⎢",c="⎣",m="Size4-Regular",h="lbrack",d=667):e==="]"||e==="\\rbrack"?(a="⎤",u="⎥",c="⎦",m="Size4-Regular",h="rbrack",d=667):e==="\\lfloor"||e==="⌊"?(u=a="⎢",c="⎣",m="Size4-Regular",h="lfloor",d=667):e==="\\lceil"||e==="⌈"?(a="⎡",u=c="⎢",m="Size4-Regular",h="lceil",d=667):e==="\\rfloor"||e==="⌋"?(u=a="⎥",c="⎦",m="Size4-Regular",h="rfloor",d=667):e==="\\rceil"||e==="⌉"?(a="⎤",u=c="⎥",m="Size4-Regular",h="rceil",d=667):e==="("||e==="\\lparen"?(a="⎛",u="⎜",c="⎝",m="Size4-Regular",h="lparen",d=875):e===")"||e==="\\rparen"?(a="⎞",u="⎟",c="⎠",m="Size4-Regular",h="rparen",d=875):e==="\\{"||e==="\\lbrace"?(a="⎧",l="⎨",c="⎩",u="⎪",m="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(a="⎫",l="⎬",c="⎭",u="⎪",m="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(a="⎧",c="⎩",u="⎪",m="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(a="⎫",c="⎭",u="⎪",m="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(a="⎧",c="⎭",u="⎪",m="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(a="⎫",c="⎩",u="⎪",m="Size4-Regular");var v=Ia(a,m,s),b=v.height+v.depth,k=Ia(u,m,s),_=k.height+k.depth,T=Ia(c,m,s),$=T.height+T.depth,w=0,R=1;if(l!==null){var Q=Ia(l,m,s);w=Q.height+Q.depth,R=2}var M=b+$+w,B=Math.max(0,Math.ceil((t-M)/(R*_))),N=M+B*R*_,K=r.fontMetrics().axisHeight;i&&(K*=r.sizeMultiplier);var q=N/2-K,Z=[];if(h.length>0){var re=N-b-$,P=Math.round(N*1e3),j=Uz(h,Math.round(re*1e3)),L=new gs(h,j),H=(d/1e3).toFixed(3)+"em",ee=(P/1e3).toFixed(3)+"em",ce=new Dr([L],{width:H,height:ee,viewBox:"0 0 "+d+" "+P}),te=pe.makeSvgSpan([],[ce],r);te.height=P/1e3,te.style.width=H,te.style.height=ee,Z.push({type:"elem",elem:te})}else{if(Z.push(U0(c,m,s)),Z.push($u),l===null){var he=N-b-$+2*wf;Z.push(G0(u,he,r))}else{var W=(N-b-$-w)/2+2*wf;Z.push(G0(u,W,r)),Z.push($u),Z.push(U0(l,m,s)),Z.push($u),Z.push(G0(u,W,r))}Z.push($u),Z.push(U0(a,m,s))}var ae=r.havingBaseStyle(lt.TEXT),Oe=pe.makeVList({positionType:"bottom",positionData:q,children:Z},ae);return nm(pe.makeSpan(["delimsizing","mult"],[Oe],ae),lt.TEXT,r,o)},W0=80,Y0=.08,K0=function(e,t,i,r,s){var o=Hz(e,r,i),a=new gs(e,o),l=new Dr([a],{width:"400em",height:Qe(t),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return pe.makeSvgSpan(["hide-tail"],[l],s)},FD=function(e,t){var i=t.havingBaseSizing(),r=Qb("\\surd",e*i.sizeMultiplier,Eb,i),s=i.sizeMultiplier,o=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),a,l=0,u=0,c=0,h;return r.type==="small"?(c=1e3+1e3*o+W0,e<1?s=1:e<1.4&&(s=.7),l=(1+o+Y0)/s,u=(1+o)/s,a=K0("sqrtMain",l,c,o,t),a.style.minWidth="0.853em",h=.833/s):r.type==="large"?(c=(1e3+W0)*Ka[r.size],u=(Ka[r.size]+o)/s,l=(Ka[r.size]+o+Y0)/s,a=K0("sqrtSize"+r.size,l,c,o,t),a.style.minWidth="1.02em",h=1/s):(l=e+o+Y0,u=e+o,c=Math.floor(1e3*e+o)+W0,a=K0("sqrtTall",l,c,o,t),a.style.minWidth="0.742em",h=1.056),a.height=u,a.style.height=Qe(l),{span:a,advanceWidth:h,ruleWidth:(t.fontMetrics().sqrtRuleThickness+o)*s}},Mb=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],HD=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Cb=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ka=[0,1.2,1.8,2.4,3],jD=function(e,t,i,r,s){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),st.contains(Mb,e)||st.contains(Cb,e))return Tb(e,t,!1,i,r,s);if(st.contains(HD,e))return Pb(e,Ka[t],!1,i,r,s);throw new Ae("Illegal delimiter: '"+e+"'")},UD=[{type:"small",style:lt.SCRIPTSCRIPT},{type:"small",style:lt.SCRIPT},{type:"small",style:lt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],GD=[{type:"small",style:lt.SCRIPTSCRIPT},{type:"small",style:lt.SCRIPT},{type:"small",style:lt.TEXT},{type:"stack"}],Eb=[{type:"small",style:lt.SCRIPTSCRIPT},{type:"small",style:lt.SCRIPT},{type:"small",style:lt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],WD=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Qb=function(e,t,i,r){for(var s=Math.min(2,3-r.style.size),o=s;o<i.length&&i[o].type!=="stack";o++){var a=Ia(e,WD(i[o]),"math"),l=a.height+a.depth;if(i[o].type==="small"){var u=r.havingBaseStyle(i[o].style);l*=u.sizeMultiplier}if(l>t)return i[o]}return i[i.length-1]},Rb=function(e,t,i,r,s,o){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var a;st.contains(Cb,e)?a=UD:st.contains(Mb,e)?a=Eb:a=GD;var l=Qb(e,t,a,r);return l.type==="small"?BD(e,l.style,i,r,s,o):l.type==="large"?Tb(e,l.size,i,r,s,o):Pb(e,t,i,r,s,o)},YD=function(e,t,i,r,s,o){var a=r.fontMetrics().axisHeight*r.sizeMultiplier,l=901,u=5/r.fontMetrics().ptPerEm,c=Math.max(t-a,i+a),h=Math.max(c/500*l,2*c-u);return Rb(e,h,!0,r,s,o)},$r={sqrtImage:FD,sizedDelim:jD,sizeToMaxHeight:Ka,customSizedDelim:Rb,leftRightDelim:YD},hv={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},KD=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Nh(n,e){var t=Dh(n);if(t&&st.contains(KD,t.text))return t;throw t?new Ae("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",n):new Ae("Invalid delimiter type '"+n.type+"'",n)}Be({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(n,e)=>{var t=Nh(e[0],n);return{type:"delimsizing",mode:n.parser.mode,size:hv[n.funcName].size,mclass:hv[n.funcName].mclass,delim:t.text}},htmlBuilder:(n,e)=>n.delim==="."?pe.makeSpan([n.mclass]):$r.sizedDelim(n.delim,n.size,e,n.mode,[n.mclass]),mathmlBuilder:n=>{var e=[];n.delim!=="."&&e.push(bi(n.delim,n.mode));var t=new $e.MathNode("mo",e);n.mclass==="mopen"||n.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var i=Qe($r.sizeToMaxHeight[n.size]);return t.setAttribute("minsize",i),t.setAttribute("maxsize",i),t}});function dv(n){if(!n.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Be({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=n.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new Ae("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:n.parser.mode,delim:Nh(e[0],n).text,color:t}}});Be({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=Nh(e[0],n),i=n.parser;++i.leftrightDepth;var r=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var s=bt(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:r,left:t.text,right:s.delim,rightColor:s.color}},htmlBuilder:(n,e)=>{dv(n);for(var t=mn(n.body,e,!0,["mopen","mclose"]),i=0,r=0,s=!1,o=0;o<t.length;o++)t[o].isMiddle?s=!0:(i=Math.max(t[o].height,i),r=Math.max(t[o].depth,r));i*=e.sizeMultiplier,r*=e.sizeMultiplier;var a;if(n.left==="."?a=wl(e,["mopen"]):a=$r.leftRightDelim(n.left,i,r,e,n.mode,["mopen"]),t.unshift(a),s)for(var l=1;l<t.length;l++){var u=t[l],c=u.isMiddle;c&&(t[l]=$r.leftRightDelim(c.delim,i,r,c.options,n.mode,[]))}var h;if(n.right===".")h=wl(e,["mclose"]);else{var d=n.rightColor?e.withColor(n.rightColor):e;h=$r.leftRightDelim(n.right,i,r,d,n.mode,["mclose"])}return t.push(h),pe.makeSpan(["minner"],t,e)},mathmlBuilder:(n,e)=>{dv(n);var t=Un(n.body,e);if(n.left!=="."){var i=new $e.MathNode("mo",[bi(n.left,n.mode)]);i.setAttribute("fence","true"),t.unshift(i)}if(n.right!=="."){var r=new $e.MathNode("mo",[bi(n.right,n.mode)]);r.setAttribute("fence","true"),n.rightColor&&r.setAttribute("mathcolor",n.rightColor),t.push(r)}return Kp(t)}});Be({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=Nh(e[0],n);if(!n.parser.leftrightDepth)throw new Ae("\\middle without preceding \\left",t);return{type:"middle",mode:n.parser.mode,delim:t.text}},htmlBuilder:(n,e)=>{var t;if(n.delim===".")t=wl(e,[]);else{t=$r.sizedDelim(n.delim,1,e,n.mode,[]);var i={delim:n.delim,options:e};t.isMiddle=i}return t},mathmlBuilder:(n,e)=>{var t=n.delim==="\\vert"||n.delim==="|"?bi("|","text"):bi(n.delim,n.mode),i=new $e.MathNode("mo",[t]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var im=(n,e)=>{var t=pe.wrapFragment(Mt(n.body,e),e),i=n.label.slice(1),r=e.sizeMultiplier,s,o=0,a=st.isCharacterBox(n.body);if(i==="sout")s=pe.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/r,o=-.5*e.fontMetrics().xHeight;else if(i==="phase"){var l=Kt({number:.6,unit:"pt"},e),u=Kt({number:.35,unit:"ex"},e),c=e.havingBaseSizing();r=r/c.sizeMultiplier;var h=t.height+t.depth+l+u;t.style.paddingLeft=Qe(h/2+l);var d=Math.floor(1e3*h*r),m=qz(d),v=new Dr([new gs("phase",m)],{width:"400em",height:Qe(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});s=pe.makeSvgSpan(["hide-tail"],[v],e),s.style.height=Qe(h),o=t.depth+l+u}else{/cancel/.test(i)?a||t.classes.push("cancel-pad"):i==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var b=0,k=0,_=0;/box/.test(i)?(_=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),b=e.fontMetrics().fboxsep+(i==="colorbox"?0:_),k=b):i==="angl"?(_=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),b=4*_,k=Math.max(0,.25-t.depth)):(b=a?.2:0,k=b),s=Nr.encloseSpan(t,i,b,k,e),/fbox|boxed|fcolorbox/.test(i)?(s.style.borderStyle="solid",s.style.borderWidth=Qe(_)):i==="angl"&&_!==.049&&(s.style.borderTopWidth=Qe(_),s.style.borderRightWidth=Qe(_)),o=t.depth+k,n.backgroundColor&&(s.style.backgroundColor=n.backgroundColor,n.borderColor&&(s.style.borderColor=n.borderColor))}var T;if(n.backgroundColor)T=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:o},{type:"elem",elem:t,shift:0}]},e);else{var $=/cancel|phase/.test(i)?["svg-align"]:[];T=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:s,shift:o,wrapperClasses:$}]},e)}return/cancel/.test(i)&&(T.height=t.height,T.depth=t.depth),/cancel/.test(i)&&!a?pe.makeSpan(["mord","cancel-lap"],[T],e):pe.makeSpan(["mord"],[T],e)},rm=(n,e)=>{var t=0,i=new $e.MathNode(n.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Vt(n.body,e)]);switch(n.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*t+"pt"),i.setAttribute("height","+"+2*t+"pt"),i.setAttribute("lspace",t+"pt"),i.setAttribute("voffset",t+"pt"),n.label==="\\fcolorbox"){var r=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);i.setAttribute("style","border: "+r+"em solid "+String(n.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return n.backgroundColor&&i.setAttribute("mathbackground",n.backgroundColor),i};Be({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(n,e,t){var{parser:i,funcName:r}=n,s=bt(e[0],"color-token").color,o=e[1];return{type:"enclose",mode:i.mode,label:r,backgroundColor:s,body:o}},htmlBuilder:im,mathmlBuilder:rm});Be({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(n,e,t){var{parser:i,funcName:r}=n,s=bt(e[0],"color-token").color,o=bt(e[1],"color-token").color,a=e[2];return{type:"enclose",mode:i.mode,label:r,backgroundColor:o,borderColor:s,body:a}},htmlBuilder:im,mathmlBuilder:rm});Be({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});Be({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:i}=n,r=e[0];return{type:"enclose",mode:t.mode,label:i,body:r}},htmlBuilder:im,mathmlBuilder:rm});Be({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var zb={};function rr(n){for(var{type:e,names:t,props:i,handler:r,htmlBuilder:s,mathmlBuilder:o}=n,a={type:e,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},l=0;l<t.length;++l)zb[t[l]]=a;s&&(qc[e]=s),o&&(Fc[e]=o)}var Db={};function D(n,e){Db[n]=e}function fv(n){var e=[];n.consumeSpaces();var t=n.fetch().text;for(t==="\\relax"&&(n.consume(),n.consumeSpaces(),t=n.fetch().text);t==="\\hline"||t==="\\hdashline";)n.consume(),e.push(t==="\\hdashline"),n.consumeSpaces(),t=n.fetch().text;return e}var Lh=n=>{var e=n.parser.settings;if(!e.displayMode)throw new Ae("{"+n.envName+"} can be used only in display mode.")};function sm(n){if(n.indexOf("ed")===-1)return n.indexOf("*")===-1}function Ss(n,e,t){var{hskipBeforeAndAfter:i,addJot:r,cols:s,arraystretch:o,colSeparationType:a,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:h,leqno:d}=e;if(n.gullet.beginGroup(),u||n.gullet.macros.set("\\cr","\\\\\\relax"),!o){var m=n.gullet.expandMacroAsText("\\arraystretch");if(m==null)o=1;else if(o=parseFloat(m),!o||o<0)throw new Ae("Invalid \\arraystretch: "+m)}n.gullet.beginGroup();var v=[],b=[v],k=[],_=[],T=l!=null?[]:void 0;function $(){l&&n.gullet.macros.set("\\@eqnsw","1",!0)}function w(){T&&(n.gullet.macros.get("\\df@tag")?(T.push(n.subparse([new pi("\\df@tag")])),n.gullet.macros.set("\\df@tag",void 0,!0)):T.push(!!l&&n.gullet.macros.get("\\@eqnsw")==="1"))}for($(),_.push(fv(n));;){var R=n.parseExpression(!1,u?"\\end":"\\\\");n.gullet.endGroup(),n.gullet.beginGroup(),R={type:"ordgroup",mode:n.mode,body:R},t&&(R={type:"styling",mode:n.mode,style:t,body:[R]}),v.push(R);var Q=n.fetch().text;if(Q==="&"){if(h&&v.length===h){if(u||a)throw new Ae("Too many tab characters: &",n.nextToken);n.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}n.consume()}else if(Q==="\\end"){w(),v.length===1&&R.type==="styling"&&R.body[0].body.length===0&&(b.length>1||!c)&&b.pop(),_.length<b.length+1&&_.push([]);break}else if(Q==="\\\\"){n.consume();var M=void 0;n.gullet.future().text!==" "&&(M=n.parseSizeGroup(!0)),k.push(M?M.value:null),w(),_.push(fv(n)),v=[],b.push(v),$()}else throw new Ae("Expected & or \\\\ or \\cr or \\end",n.nextToken)}return n.gullet.endGroup(),n.gullet.endGroup(),{type:"array",mode:n.mode,addJot:r,arraystretch:o,body:b,cols:s,rowGaps:k,hskipBeforeAndAfter:i,hLinesBeforeRow:_,colSeparationType:a,tags:T,leqno:d}}function om(n){return n.slice(0,1)==="d"?"display":"text"}var sr=function(e,t){var i,r,s=e.body.length,o=e.hLinesBeforeRow,a=0,l=new Array(s),u=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),h=1/t.fontMetrics().ptPerEm,d=5*h;if(e.colSeparationType&&e.colSeparationType==="small"){var m=t.havingStyle(lt.SCRIPT).sizeMultiplier;d=.2778*(m/t.sizeMultiplier)}var v=e.colSeparationType==="CD"?Kt({number:3,unit:"ex"},t):12*h,b=3*h,k=e.arraystretch*v,_=.7*k,T=.3*k,$=0;function w(ye){for(var Ze=0;Ze<ye.length;++Ze)Ze>0&&($+=.25),u.push({pos:$,isDashed:ye[Ze]})}for(w(o[0]),i=0;i<e.body.length;++i){var R=e.body[i],Q=_,M=T;a<R.length&&(a=R.length);var B=new Array(R.length);for(r=0;r<R.length;++r){var N=Mt(R[r],t);M<N.depth&&(M=N.depth),Q<N.height&&(Q=N.height),B[r]=N}var K=e.rowGaps[i],q=0;K&&(q=Kt(K,t),q>0&&(q+=T,M<q&&(M=q),q=0)),e.addJot&&(M+=b),B.height=Q,B.depth=M,$+=Q,B.pos=$,$+=M+q,l[i]=B,w(o[i+1])}var Z=$/2+t.fontMetrics().axisHeight,re=e.cols||[],P=[],j,L,H=[];if(e.tags&&e.tags.some(ye=>ye))for(i=0;i<s;++i){var ee=l[i],ce=ee.pos-Z,te=e.tags[i],he=void 0;te===!0?he=pe.makeSpan(["eqn-num"],[],t):te===!1?he=pe.makeSpan([],[],t):he=pe.makeSpan([],mn(te,t,!0),t),he.depth=ee.depth,he.height=ee.height,H.push({type:"elem",elem:he,shift:ce})}for(r=0,L=0;r<a||L<re.length;++r,++L){for(var W=re[L]||{},ae=!0;W.type==="separator";){if(ae||(j=pe.makeSpan(["arraycolsep"],[]),j.style.width=Qe(t.fontMetrics().doubleRuleSep),P.push(j)),W.separator==="|"||W.separator===":"){var Oe=W.separator==="|"?"solid":"dashed",we=pe.makeSpan(["vertical-separator"],[],t);we.style.height=Qe($),we.style.borderRightWidth=Qe(c),we.style.borderRightStyle=Oe,we.style.margin="0 "+Qe(-c/2);var Ne=$-Z;Ne&&(we.style.verticalAlign=Qe(-Ne)),P.push(we)}else throw new Ae("Invalid separator type: "+W.separator);L++,W=re[L]||{},ae=!1}if(!(r>=a)){var Re=void 0;(r>0||e.hskipBeforeAndAfter)&&(Re=st.deflt(W.pregap,d),Re!==0&&(j=pe.makeSpan(["arraycolsep"],[]),j.style.width=Qe(Re),P.push(j)));var Ke=[];for(i=0;i<s;++i){var be=l[i],ht=be[r];if(ht){var Le=be.pos-Z;ht.depth=be.depth,ht.height=be.height,Ke.push({type:"elem",elem:ht,shift:Le})}}Ke=pe.makeVList({positionType:"individualShift",children:Ke},t),Ke=pe.makeSpan(["col-align-"+(W.align||"c")],[Ke]),P.push(Ke),(r<a-1||e.hskipBeforeAndAfter)&&(Re=st.deflt(W.postgap,d),Re!==0&&(j=pe.makeSpan(["arraycolsep"],[]),j.style.width=Qe(Re),P.push(j)))}}if(l=pe.makeSpan(["mtable"],P),u.length>0){for(var Ie=pe.makeLineSpan("hline",t,c),Je=pe.makeLineSpan("hdashline",t,c),ie=[{type:"elem",elem:l,shift:0}];u.length>0;){var J=u.pop(),se=J.pos-Z;J.isDashed?ie.push({type:"elem",elem:Je,shift:se}):ie.push({type:"elem",elem:Ie,shift:se})}l=pe.makeVList({positionType:"individualShift",children:ie},t)}if(H.length===0)return pe.makeSpan(["mord"],[l],t);var oe=pe.makeVList({positionType:"individualShift",children:H},t);return oe=pe.makeSpan(["tag"],[oe],t),pe.makeFragment([l,oe])},JD={c:"center ",l:"left ",r:"right "},or=function(e,t){for(var i=[],r=new $e.MathNode("mtd",[],["mtr-glue"]),s=new $e.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var a=e.body[o],l=[],u=0;u<a.length;u++)l.push(new $e.MathNode("mtd",[Vt(a[u],t)]));e.tags&&e.tags[o]&&(l.unshift(r),l.push(r),e.leqno?l.unshift(s):l.push(s)),i.push(new $e.MathNode("mtr",l))}var c=new $e.MathNode("mtable",i),h=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",Qe(h));var d="",m="";if(e.cols&&e.cols.length>0){var v=e.cols,b="",k=!1,_=0,T=v.length;v[0].type==="separator"&&(d+="top ",_=1),v[v.length-1].type==="separator"&&(d+="bottom ",T-=1);for(var $=_;$<T;$++)v[$].type==="align"?(m+=JD[v[$].align],k&&(b+="none "),k=!0):v[$].type==="separator"&&k&&(b+=v[$].separator==="|"?"solid ":"dashed ",k=!1);c.setAttribute("columnalign",m.trim()),/[sd]/.test(b)&&c.setAttribute("columnlines",b.trim())}if(e.colSeparationType==="align"){for(var w=e.cols||[],R="",Q=1;Q<w.length;Q++)R+=Q%2?"0em ":"1em ";c.setAttribute("columnspacing",R.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var M="",B=e.hLinesBeforeRow;d+=B[0].length>0?"left ":"",d+=B[B.length-1].length>0?"right ":"";for(var N=1;N<B.length-1;N++)M+=B[N].length===0?"none ":B[N][0]?"dashed ":"solid ";return/[sd]/.test(M)&&c.setAttribute("rowlines",M.trim()),d!==""&&(c=new $e.MathNode("menclose",[c]),c.setAttribute("notation",d.trim())),e.arraystretch&&e.arraystretch<1&&(c=new $e.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},Ib=function(e,t){e.envName.indexOf("ed")===-1&&Lh(e);var i=[],r=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",o=Ss(e.parser,{cols:i,addJot:!0,autoTag:s?void 0:sm(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),a,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var c="",h=0;h<t[0].body.length;h++){var d=bt(t[0].body[h],"textord");c+=d.text}a=Number(c),l=a*2}var m=!l;o.body.forEach(function(_){for(var T=1;T<_.length;T+=2){var $=bt(_[T],"styling"),w=bt($.body[0],"ordgroup");w.body.unshift(u)}if(m)l<_.length&&(l=_.length);else{var R=_.length/2;if(a<R)throw new Ae("Too many math in a row: "+("expected "+a+", but got "+R),_[0])}});for(var v=0;v<l;++v){var b="r",k=0;v%2===1?b="l":v>0&&m&&(k=1),i[v]={type:"align",align:b,pregap:k,postgap:0}}return o.colSeparationType=m?"align":"alignat",o};rr({type:"array",names:["array","darray"],props:{numArgs:1},handler(n,e){var t=Dh(e[0]),i=t?[e[0]]:bt(e[0],"ordgroup").body,r=i.map(function(o){var a=em(o),l=a.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Ae("Unknown column alignment: "+l,o)}),s={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return Ss(n.parser,s,om(n.envName))},htmlBuilder:sr,mathmlBuilder:or});rr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(n){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[n.envName.replace("*","")],t="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(n.envName.charAt(n.envName.length-1)==="*"){var r=n.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),t=r.fetch().text,"lcr".indexOf(t)===-1)throw new Ae("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),i.cols=[{type:"align",align:t}]}}var s=Ss(n.parser,i,om(n.envName)),o=Math.max(0,...s.body.map(a=>a.length));return s.cols=new Array(o).fill({type:"align",align:t}),e?{type:"leftright",mode:n.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:sr,mathmlBuilder:or});rr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(n){var e={arraystretch:.5},t=Ss(n.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:sr,mathmlBuilder:or});rr({type:"array",names:["subarray"],props:{numArgs:1},handler(n,e){var t=Dh(e[0]),i=t?[e[0]]:bt(e[0],"ordgroup").body,r=i.map(function(o){var a=em(o),l=a.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Ae("Unknown column alignment: "+l,o)});if(r.length>1)throw new Ae("{subarray} can contain only one column");var s={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Ss(n.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Ae("{subarray} can contain only one column");return s},htmlBuilder:sr,mathmlBuilder:or});rr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(n){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=Ss(n.parser,e,om(n.envName));return{type:"leftright",mode:n.mode,body:[t],left:n.envName.indexOf("r")>-1?".":"\\{",right:n.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:sr,mathmlBuilder:or});rr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Ib,htmlBuilder:sr,mathmlBuilder:or});rr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(n){st.contains(["gather","gather*"],n.envName)&&Lh(n);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:sm(n.envName),emptySingleRow:!0,leqno:n.parser.settings.leqno};return Ss(n.parser,e,"display")},htmlBuilder:sr,mathmlBuilder:or});rr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Ib,htmlBuilder:sr,mathmlBuilder:or});rr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(n){Lh(n);var e={autoTag:sm(n.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:n.parser.settings.leqno};return Ss(n.parser,e,"display")},htmlBuilder:sr,mathmlBuilder:or});rr({type:"array",names:["CD"],props:{numArgs:0},handler(n){return Lh(n),LD(n.parser)},htmlBuilder:sr,mathmlBuilder:or});D("\\nonumber","\\gdef\\@eqnsw{0}");D("\\notag","\\nonumber");Be({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(n,e){throw new Ae(n.funcName+" valid only within array environment")}});var pv=zb;Be({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(n,e){var{parser:t,funcName:i}=n,r=e[0];if(r.type!=="ordgroup")throw new Ae("Invalid environment name",r);for(var s="",o=0;o<r.body.length;++o)s+=bt(r.body[o],"textord").text;if(i==="\\begin"){if(!pv.hasOwnProperty(s))throw new Ae("No such environment: "+s,r);var a=pv[s],{args:l,optArgs:u}=t.parseArguments("\\begin{"+s+"}",a),c={mode:t.mode,envName:s,parser:t},h=a.handler(c,l,u);t.expect("\\end",!1);var d=t.nextToken,m=bt(t.parseFunction(),"environment");if(m.name!==s)throw new Ae("Mismatch: \\begin{"+s+"} matched by \\end{"+m.name+"}",d);return h}return{type:"environment",mode:t.mode,name:s,nameGroup:r}}});var Nb=(n,e)=>{var t=n.font,i=e.withFont(t);return Mt(n.body,i)},Lb=(n,e)=>{var t=n.font,i=e.withFont(t);return Vt(n.body,i)},mv={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Be({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=Hc(e[0]),s=i;return s in mv&&(s=mv[s]),{type:"font",mode:t.mode,font:s.slice(1),body:r}},htmlBuilder:Nb,mathmlBuilder:Lb});Be({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(n,e)=>{var{parser:t}=n,i=e[0],r=st.isCharacterBox(i);return{type:"mclass",mode:t.mode,mclass:Ih(i),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:i}],isCharacterBox:r}}});Be({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:i,breakOnTokenText:r}=n,{mode:s}=t,o=t.parseExpression(!0,r),a="math"+i.slice(1);return{type:"font",mode:s,font:a,body:{type:"ordgroup",mode:t.mode,body:o}}},htmlBuilder:Nb,mathmlBuilder:Lb});var Zb=(n,e)=>{var t=e;return n==="display"?t=t.id>=lt.SCRIPT.id?t.text():lt.DISPLAY:n==="text"&&t.size===lt.DISPLAY.size?t=lt.TEXT:n==="script"?t=lt.SCRIPT:n==="scriptscript"&&(t=lt.SCRIPTSCRIPT),t},am=(n,e)=>{var t=Zb(n.size,e.style),i=t.fracNum(),r=t.fracDen(),s;s=e.havingStyle(i);var o=Mt(n.numer,s,e);if(n.continued){var a=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;o.height=o.height<a?a:o.height,o.depth=o.depth<l?l:o.depth}s=e.havingStyle(r);var u=Mt(n.denom,s,e),c,h,d;n.hasBarLine?(n.barSize?(h=Kt(n.barSize,e),c=pe.makeLineSpan("frac-line",e,h)):c=pe.makeLineSpan("frac-line",e),h=c.height,d=c.height):(c=null,h=0,d=e.fontMetrics().defaultRuleThickness);var m,v,b;t.size===lt.DISPLAY.size||n.size==="display"?(m=e.fontMetrics().num1,h>0?v=3*d:v=7*d,b=e.fontMetrics().denom1):(h>0?(m=e.fontMetrics().num2,v=d):(m=e.fontMetrics().num3,v=3*d),b=e.fontMetrics().denom2);var k;if(c){var T=e.fontMetrics().axisHeight;m-o.depth-(T+.5*h)<v&&(m+=v-(m-o.depth-(T+.5*h))),T-.5*h-(u.height-b)<v&&(b+=v-(T-.5*h-(u.height-b)));var $=-(T-.5*h);k=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:b},{type:"elem",elem:c,shift:$},{type:"elem",elem:o,shift:-m}]},e)}else{var _=m-o.depth-(u.height-b);_<v&&(m+=.5*(v-_),b+=.5*(v-_)),k=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:b},{type:"elem",elem:o,shift:-m}]},e)}s=e.havingStyle(t),k.height*=s.sizeMultiplier/e.sizeMultiplier,k.depth*=s.sizeMultiplier/e.sizeMultiplier;var w;t.size===lt.DISPLAY.size?w=e.fontMetrics().delim1:t.size===lt.SCRIPTSCRIPT.size?w=e.havingStyle(lt.SCRIPT).fontMetrics().delim2:w=e.fontMetrics().delim2;var R,Q;return n.leftDelim==null?R=wl(e,["mopen"]):R=$r.customSizedDelim(n.leftDelim,w,!0,e.havingStyle(t),n.mode,["mopen"]),n.continued?Q=pe.makeSpan([]):n.rightDelim==null?Q=wl(e,["mclose"]):Q=$r.customSizedDelim(n.rightDelim,w,!0,e.havingStyle(t),n.mode,["mclose"]),pe.makeSpan(["mord"].concat(s.sizingClasses(e)),[R,pe.makeSpan(["mfrac"],[k]),Q],e)},lm=(n,e)=>{var t=new $e.MathNode("mfrac",[Vt(n.numer,e),Vt(n.denom,e)]);if(!n.hasBarLine)t.setAttribute("linethickness","0px");else if(n.barSize){var i=Kt(n.barSize,e);t.setAttribute("linethickness",Qe(i))}var r=Zb(n.size,e.style);if(r.size!==e.style.size){t=new $e.MathNode("mstyle",[t]);var s=r.size===lt.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",s),t.setAttribute("scriptlevel","0")}if(n.leftDelim!=null||n.rightDelim!=null){var o=[];if(n.leftDelim!=null){var a=new $e.MathNode("mo",[new $e.TextNode(n.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}if(o.push(t),n.rightDelim!=null){var l=new $e.MathNode("mo",[new $e.TextNode(n.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return Kp(o)}return t};Be({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0],s=e[1],o,a=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,a="(",l=")";break;case"\\\\bracefrac":o=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:r,denom:s,hasBarLine:o,leftDelim:a,rightDelim:l,size:u,barSize:null}},htmlBuilder:am,mathmlBuilder:lm});Be({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0],s=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:r,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Be({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(n){var{parser:e,funcName:t,token:i}=n,r;switch(t){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:r,token:i}}});var gv=["display","text","script","scriptscript"],vv=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};Be({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(n,e){var{parser:t}=n,i=e[4],r=e[5],s=Hc(e[0]),o=s.type==="atom"&&s.family==="open"?vv(s.text):null,a=Hc(e[1]),l=a.type==="atom"&&a.family==="close"?vv(a.text):null,u=bt(e[2],"size"),c,h=null;u.isBlank?c=!0:(h=u.value,c=h.number>0);var d="auto",m=e[3];if(m.type==="ordgroup"){if(m.body.length>0){var v=bt(m.body[0],"textord");d=gv[Number(v.text)]}}else m=bt(m,"textord"),d=gv[Number(m.text)];return{type:"genfrac",mode:t.mode,numer:i,denom:r,continued:!1,hasBarLine:c,barSize:h,leftDelim:o,rightDelim:l,size:d}},htmlBuilder:am,mathmlBuilder:lm});Be({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(n,e){var{parser:t,funcName:i,token:r}=n;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:bt(e[0],"size").value,token:r}}});Be({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0],s=Pz(bt(e[1],"infix").size),o=e[2],a=s.number>0;return{type:"genfrac",mode:t.mode,numer:r,denom:o,continued:!1,hasBarLine:a,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:am,mathmlBuilder:lm});var Bb=(n,e)=>{var t=e.style,i,r;n.type==="supsub"?(i=n.sup?Mt(n.sup,e.havingStyle(t.sup()),e):Mt(n.sub,e.havingStyle(t.sub()),e),r=bt(n.base,"horizBrace")):r=bt(n,"horizBrace");var s=Mt(r.base,e.havingBaseStyle(lt.DISPLAY)),o=Nr.svgSpan(r,e),a;if(r.isOver?(a=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},e),a.children[0].children[0].children[1].classes.push("svg-align")):(a=pe.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},e),a.children[0].children[0].children[0].classes.push("svg-align")),i){var l=pe.makeSpan(["mord",r.isOver?"mover":"munder"],[a],e);r.isOver?a=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:i}]},e):a=pe.makeVList({positionType:"bottom",positionData:l.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return pe.makeSpan(["mord",r.isOver?"mover":"munder"],[a],e)},eI=(n,e)=>{var t=Nr.mathMLnode(n.label);return new $e.MathNode(n.isOver?"mover":"munder",[Vt(n.base,e),t])};Be({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:i}=n;return{type:"horizBrace",mode:t.mode,label:i,isOver:/^\\over/.test(i),base:e[0]}},htmlBuilder:Bb,mathmlBuilder:eI});Be({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=e[1],r=bt(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:t.mode,href:r,body:rn(i)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(n,e)=>{var t=mn(n.body,e,!1);return pe.makeAnchor(n.href,[],t,e)},mathmlBuilder:(n,e)=>{var t=vs(n.body,e);return t instanceof ri||(t=new ri("mrow",[t])),t.setAttribute("href",n.href),t}});Be({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=bt(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:i}))return t.formatUnsupportedCmd("\\url");for(var r=[],s=0;s<i.length;s++){var o=i[s];o==="~"&&(o="\\textasciitilde"),r.push({type:"textord",mode:"text",text:o})}var a={type:"text",mode:t.mode,font:"\\texttt",body:r};return{type:"href",mode:t.mode,href:i,body:rn(a)}}});Be({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(n,e){var{parser:t}=n;return{type:"hbox",mode:t.mode,body:rn(e[0])}},htmlBuilder(n,e){var t=mn(n.body,e,!1);return pe.makeFragment(t)},mathmlBuilder(n,e){return new $e.MathNode("mrow",Un(n.body,e))}});Be({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:i,token:r}=n,s=bt(e[0],"raw").string,o=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var a,l={};switch(i){case"\\htmlClass":l.class=s,a={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,a={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,a={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length!==2)throw new Ae("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}a={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(a)?{type:"html",mode:t.mode,attributes:l,body:rn(o)}:t.formatUnsupportedCmd(i)},htmlBuilder:(n,e)=>{var t=mn(n.body,e,!1),i=["enclosing"];n.attributes.class&&i.push(...n.attributes.class.trim().split(/\s+/));var r=pe.makeSpan(i,t,e);for(var s in n.attributes)s!=="class"&&n.attributes.hasOwnProperty(s)&&r.setAttribute(s,n.attributes[s]);return r},mathmlBuilder:(n,e)=>vs(n.body,e)});Be({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"htmlmathml",mode:t.mode,html:rn(e[0]),mathml:rn(e[1])}},htmlBuilder:(n,e)=>{var t=mn(n.html,e,!1);return pe.makeFragment(t)},mathmlBuilder:(n,e)=>vs(n.mathml,e)});var J0=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new Ae("Invalid size: '"+e+"' in \\includegraphics");var i={number:+(t[1]+t[2]),unit:t[3]};if(!ob(i))throw new Ae("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};Be({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(n,e,t)=>{var{parser:i}=n,r={number:0,unit:"em"},s={number:.9,unit:"em"},o={number:0,unit:"em"},a="";if(t[0])for(var l=bt(t[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length===2){var d=h[1].trim();switch(h[0].trim()){case"alt":a=d;break;case"width":r=J0(d);break;case"height":s=J0(d);break;case"totalheight":o=J0(d);break;default:throw new Ae("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var m=bt(e[0],"url").url;return a===""&&(a=m,a=a.replace(/^.*[\\/]/,""),a=a.substring(0,a.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:i.mode,alt:a,width:r,height:s,totalheight:o,src:m}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(n,e)=>{var t=Kt(n.height,e),i=0;n.totalheight.number>0&&(i=Kt(n.totalheight,e)-t);var r=0;n.width.number>0&&(r=Kt(n.width,e));var s={height:Qe(t+i)};r>0&&(s.width=Qe(r)),i>0&&(s.verticalAlign=Qe(-i));var o=new eD(n.src,n.alt,s);return o.height=t,o.depth=i,o},mathmlBuilder:(n,e)=>{var t=new $e.MathNode("mglyph",[]);t.setAttribute("alt",n.alt);var i=Kt(n.height,e),r=0;if(n.totalheight.number>0&&(r=Kt(n.totalheight,e)-i,t.setAttribute("valign",Qe(-r))),t.setAttribute("height",Qe(i+r)),n.width.number>0){var s=Kt(n.width,e);t.setAttribute("width",Qe(s))}return t.setAttribute("src",n.src),t}});Be({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:i}=n,r=bt(e[0],"size");if(t.settings.strict){var s=i[1]==="m",o=r.value.unit==="mu";s?(o||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+r.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):o&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:r.value}},htmlBuilder(n,e){return pe.makeGlue(n.dimension,e)},mathmlBuilder(n,e){var t=Kt(n.dimension,e);return new $e.SpaceNode(t)}});Be({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0];return{type:"lap",mode:t.mode,alignment:i.slice(5),body:r}},htmlBuilder:(n,e)=>{var t;n.alignment==="clap"?(t=pe.makeSpan([],[Mt(n.body,e)]),t=pe.makeSpan(["inner"],[t],e)):t=pe.makeSpan(["inner"],[Mt(n.body,e)]);var i=pe.makeSpan(["fix"],[]),r=pe.makeSpan([n.alignment],[t,i],e),s=pe.makeSpan(["strut"]);return s.style.height=Qe(r.height+r.depth),r.depth&&(s.style.verticalAlign=Qe(-r.depth)),r.children.unshift(s),r=pe.makeSpan(["thinbox"],[r],e),pe.makeSpan(["mord","vbox"],[r],e)},mathmlBuilder:(n,e)=>{var t=new $e.MathNode("mpadded",[Vt(n.body,e)]);if(n.alignment!=="rlap"){var i=n.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",i+"width")}return t.setAttribute("width","0px"),t}});Be({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){var{funcName:t,parser:i}=n,r=i.mode;i.switchMode("math");var s=t==="\\("?"\\)":"$",o=i.parseExpression(!1,s);return i.expect(s),i.switchMode(r),{type:"styling",mode:i.mode,style:"text",body:o}}});Be({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){throw new Ae("Mismatched "+n.funcName)}});var Ov=(n,e)=>{switch(e.style.size){case lt.DISPLAY.size:return n.display;case lt.TEXT.size:return n.text;case lt.SCRIPT.size:return n.script;case lt.SCRIPTSCRIPT.size:return n.scriptscript;default:return n.text}};Be({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"mathchoice",mode:t.mode,display:rn(e[0]),text:rn(e[1]),script:rn(e[2]),scriptscript:rn(e[3])}},htmlBuilder:(n,e)=>{var t=Ov(n,e),i=mn(t,e,!1);return pe.makeFragment(i)},mathmlBuilder:(n,e)=>{var t=Ov(n,e);return vs(t,e)}});var Vb=(n,e,t,i,r,s,o)=>{n=pe.makeSpan([],[n]);var a=t&&st.isCharacterBox(t),l,u;if(e){var c=Mt(e,i.havingStyle(r.sup()),i);u={elem:c,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-c.depth)}}if(t){var h=Mt(t,i.havingStyle(r.sub()),i);l={elem:h,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-h.height)}}var d;if(u&&l){var m=i.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+n.depth+o;d=pe.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Qe(-s)},{type:"kern",size:l.kern},{type:"elem",elem:n},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Qe(s)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(l){var v=n.height-o;d=pe.makeVList({positionType:"top",positionData:v,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Qe(-s)},{type:"kern",size:l.kern},{type:"elem",elem:n}]},i)}else if(u){var b=n.depth+o;d=pe.makeVList({positionType:"bottom",positionData:b,children:[{type:"elem",elem:n},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Qe(s)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return n;var k=[d];if(l&&s!==0&&!a){var _=pe.makeSpan(["mspace"],[],i);_.style.marginRight=Qe(s),k.unshift(_)}return pe.makeSpan(["mop","op-limits"],k,i)},Xb=["\\smallint"],la=(n,e)=>{var t,i,r=!1,s;n.type==="supsub"?(t=n.sup,i=n.sub,s=bt(n.base,"op"),r=!0):s=bt(n,"op");var o=e.style,a=!1;o.size===lt.DISPLAY.size&&s.symbol&&!st.contains(Xb,s.name)&&(a=!0);var l;if(s.symbol){var u=a?"Size2-Regular":"Size1-Regular",c="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(c=s.name.slice(1),s.name=c==="oiint"?"\\iint":"\\iiint"),l=pe.makeSymbol(s.name,u,"math",e,["mop","op-symbol",a?"large-op":"small-op"]),c.length>0){var h=l.italic,d=pe.staticSvg(c+"Size"+(a?"2":"1"),e);l=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:d,shift:a?.08:0}]},e),s.name="\\"+c,l.classes.unshift("mop"),l.italic=h}}else if(s.body){var m=mn(s.body,e,!0);m.length===1&&m[0]instanceof yi?(l=m[0],l.classes[0]="mop"):l=pe.makeSpan(["mop"],m,e)}else{for(var v=[],b=1;b<s.name.length;b++)v.push(pe.mathsym(s.name[b],s.mode,e));l=pe.makeSpan(["mop"],v,e)}var k=0,_=0;return(l instanceof yi||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(k=(l.height-l.depth)/2-e.fontMetrics().axisHeight,_=l.italic),r?Vb(l,t,i,e,o,_,k):(k&&(l.style.position="relative",l.style.top=Qe(k)),l)},Ll=(n,e)=>{var t;if(n.symbol)t=new ri("mo",[bi(n.name,n.mode)]),st.contains(Xb,n.name)&&t.setAttribute("largeop","false");else if(n.body)t=new ri("mo",Un(n.body,e));else{t=new ri("mi",[new Ui(n.name.slice(1))]);var i=new ri("mo",[bi("⁡","text")]);n.parentIsSupSub?t=new ri("mrow",[t,i]):t=vb([t,i])}return t},tI={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Be({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=i;return r.length===1&&(r=tI[r]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:la,mathmlBuilder:Ll});Be({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var{parser:t}=n,i=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:rn(i)}},htmlBuilder:la,mathmlBuilder:Ll});var nI={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Be({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:la,mathmlBuilder:Ll});Be({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:la,mathmlBuilder:Ll});Be({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n,i=t;return i.length===1&&(i=nI[i]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:la,mathmlBuilder:Ll});var qb=(n,e)=>{var t,i,r=!1,s;n.type==="supsub"?(t=n.sup,i=n.sub,s=bt(n.base,"operatorname"),r=!0):s=bt(n,"operatorname");var o;if(s.body.length>0){for(var a=s.body.map(h=>{var d=h.text;return typeof d=="string"?{type:"textord",mode:h.mode,text:d}:h}),l=mn(a,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof yi&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=pe.makeSpan(["mop"],l,e)}else o=pe.makeSpan(["mop"],[],e);return r?Vb(o,t,i,e,e.style,0,0):o},iI=(n,e)=>{for(var t=Un(n.body,e.withFont("mathrm")),i=!0,r=0;r<t.length;r++){var s=t[r];if(!(s instanceof $e.SpaceNode))if(s instanceof $e.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=s.children[0];s.children.length===1&&o instanceof $e.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var a=t.map(c=>c.toText()).join("");t=[new $e.TextNode(a)]}var l=new $e.MathNode("mi",t);l.setAttribute("mathvariant","normal");var u=new $e.MathNode("mo",[bi("⁡","text")]);return n.parentIsSupSub?new $e.MathNode("mrow",[l,u]):$e.newDocumentFragment([l,u])};Be({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0];return{type:"operatorname",mode:t.mode,body:rn(r),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:qb,mathmlBuilder:iI});D("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");uo({type:"ordgroup",htmlBuilder(n,e){return n.semisimple?pe.makeFragment(mn(n.body,e,!1)):pe.makeSpan(["mord"],mn(n.body,e,!0),e)},mathmlBuilder(n,e){return vs(n.body,e,!0)}});Be({type:"overline",names:["\\overline"],props:{numArgs:1},handler(n,e){var{parser:t}=n,i=e[0];return{type:"overline",mode:t.mode,body:i}},htmlBuilder(n,e){var t=Mt(n.body,e.havingCrampedStyle()),i=pe.makeLineSpan("overline-line",e),r=e.fontMetrics().defaultRuleThickness,s=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*r},{type:"elem",elem:i},{type:"kern",size:r}]},e);return pe.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(n,e){var t=new $e.MathNode("mo",[new $e.TextNode("‾")]);t.setAttribute("stretchy","true");var i=new $e.MathNode("mover",[Vt(n.body,e),t]);return i.setAttribute("accent","true"),i}});Be({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=e[0];return{type:"phantom",mode:t.mode,body:rn(i)}},htmlBuilder:(n,e)=>{var t=mn(n.body,e.withPhantom(),!1);return pe.makeFragment(t)},mathmlBuilder:(n,e)=>{var t=Un(n.body,e);return new $e.MathNode("mphantom",t)}});Be({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=e[0];return{type:"hphantom",mode:t.mode,body:i}},htmlBuilder:(n,e)=>{var t=pe.makeSpan([],[Mt(n.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var i=0;i<t.children.length;i++)t.children[i].height=0,t.children[i].depth=0;return t=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),pe.makeSpan(["mord"],[t],e)},mathmlBuilder:(n,e)=>{var t=Un(rn(n.body),e),i=new $e.MathNode("mphantom",t),r=new $e.MathNode("mpadded",[i]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});Be({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=e[0];return{type:"vphantom",mode:t.mode,body:i}},htmlBuilder:(n,e)=>{var t=pe.makeSpan(["inner"],[Mt(n.body,e.withPhantom())]),i=pe.makeSpan(["fix"],[]);return pe.makeSpan(["mord","rlap"],[t,i],e)},mathmlBuilder:(n,e)=>{var t=Un(rn(n.body),e),i=new $e.MathNode("mphantom",t),r=new $e.MathNode("mpadded",[i]);return r.setAttribute("width","0px"),r}});Be({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n,i=bt(e[0],"size").value,r=e[1];return{type:"raisebox",mode:t.mode,dy:i,body:r}},htmlBuilder(n,e){var t=Mt(n.body,e),i=Kt(n.dy,e);return pe.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){var t=new $e.MathNode("mpadded",[Vt(n.body,e)]),i=n.dy.number+n.dy.unit;return t.setAttribute("voffset",i),t}});Be({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e}=n;return{type:"internal",mode:e.mode}}});Be({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(n,e,t){var{parser:i}=n,r=t[0],s=bt(e[0],"size"),o=bt(e[1],"size");return{type:"rule",mode:i.mode,shift:r&&bt(r,"size").value,width:s.value,height:o.value}},htmlBuilder(n,e){var t=pe.makeSpan(["mord","rule"],[],e),i=Kt(n.width,e),r=Kt(n.height,e),s=n.shift?Kt(n.shift,e):0;return t.style.borderRightWidth=Qe(i),t.style.borderTopWidth=Qe(r),t.style.bottom=Qe(s),t.width=i,t.height=r+s,t.depth=-s,t.maxFontSize=r*1.125*e.sizeMultiplier,t},mathmlBuilder(n,e){var t=Kt(n.width,e),i=Kt(n.height,e),r=n.shift?Kt(n.shift,e):0,s=e.color&&e.getColor()||"black",o=new $e.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",Qe(t)),o.setAttribute("height",Qe(i));var a=new $e.MathNode("mpadded",[o]);return r>=0?a.setAttribute("height",Qe(r)):(a.setAttribute("height",Qe(r)),a.setAttribute("depth",Qe(-r))),a.setAttribute("voffset",Qe(r)),a}});function Fb(n,e,t){for(var i=mn(n,e,!1),r=e.sizeMultiplier/t.sizeMultiplier,s=0;s<i.length;s++){var o=i[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(i[s].classes,e.sizingClasses(t)):i[s].classes[o+1]==="reset-size"+e.size&&(i[s].classes[o+1]="reset-size"+t.size),i[s].height*=r,i[s].depth*=r}return pe.makeFragment(i)}var yv=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],rI=(n,e)=>{var t=e.havingSize(n.size);return Fb(n.body,t,e)};Be({type:"sizing",names:yv,props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{breakOnTokenText:t,funcName:i,parser:r}=n,s=r.parseExpression(!1,t);return{type:"sizing",mode:r.mode,size:yv.indexOf(i)+1,body:s}},htmlBuilder:rI,mathmlBuilder:(n,e)=>{var t=e.havingSize(n.size),i=Un(n.body,t),r=new $e.MathNode("mstyle",i);return r.setAttribute("mathsize",Qe(t.sizeMultiplier)),r}});Be({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(n,e,t)=>{var{parser:i}=n,r=!1,s=!1,o=t[0]&&bt(t[0],"ordgroup");if(o)for(var a="",l=0;l<o.body.length;++l){var u=o.body[l];if(a=u.text,a==="t")r=!0;else if(a==="b")s=!0;else{r=!1,s=!1;break}}else r=!0,s=!0;var c=e[0];return{type:"smash",mode:i.mode,body:c,smashHeight:r,smashDepth:s}},htmlBuilder:(n,e)=>{var t=pe.makeSpan([],[Mt(n.body,e)]);if(!n.smashHeight&&!n.smashDepth)return t;if(n.smashHeight&&(t.height=0,t.children))for(var i=0;i<t.children.length;i++)t.children[i].height=0;if(n.smashDepth&&(t.depth=0,t.children))for(var r=0;r<t.children.length;r++)t.children[r].depth=0;var s=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return pe.makeSpan(["mord"],[s],e)},mathmlBuilder:(n,e)=>{var t=new $e.MathNode("mpadded",[Vt(n.body,e)]);return n.smashHeight&&t.setAttribute("height","0px"),n.smashDepth&&t.setAttribute("depth","0px"),t}});Be({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:i}=n,r=t[0],s=e[0];return{type:"sqrt",mode:i.mode,body:s,index:r}},htmlBuilder(n,e){var t=Mt(n.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=pe.wrapFragment(t,e);var i=e.fontMetrics(),r=i.defaultRuleThickness,s=r;e.style.id<lt.TEXT.id&&(s=e.fontMetrics().xHeight);var o=r+s/4,a=t.height+t.depth+o+r,{span:l,ruleWidth:u,advanceWidth:c}=$r.sqrtImage(a,e),h=l.height-u;h>t.height+t.depth+o&&(o=(o+h-t.height-t.depth)/2);var d=l.height-t.height-o-u;t.style.paddingLeft=Qe(c);var m=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+d)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(n.index){var v=e.havingStyle(lt.SCRIPTSCRIPT),b=Mt(n.index,v,e),k=.6*(m.height-m.depth),_=pe.makeVList({positionType:"shift",positionData:-k,children:[{type:"elem",elem:b}]},e),T=pe.makeSpan(["root"],[_]);return pe.makeSpan(["mord","sqrt"],[T,m],e)}else return pe.makeSpan(["mord","sqrt"],[m],e)},mathmlBuilder(n,e){var{body:t,index:i}=n;return i?new $e.MathNode("mroot",[Vt(t,e),Vt(i,e)]):new $e.MathNode("msqrt",[Vt(t,e)])}});var bv={display:lt.DISPLAY,text:lt.TEXT,script:lt.SCRIPT,scriptscript:lt.SCRIPTSCRIPT};Be({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n,e){var{breakOnTokenText:t,funcName:i,parser:r}=n,s=r.parseExpression(!0,t),o=i.slice(1,i.length-5);return{type:"styling",mode:r.mode,style:o,body:s}},htmlBuilder(n,e){var t=bv[n.style],i=e.havingStyle(t).withFont("");return Fb(n.body,i,e)},mathmlBuilder(n,e){var t=bv[n.style],i=e.havingStyle(t),r=Un(n.body,i),s=new $e.MathNode("mstyle",r),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},a=o[n.style];return s.setAttribute("scriptlevel",a[0]),s.setAttribute("displaystyle",a[1]),s}});var sI=function(e,t){var i=e.base;if(i)if(i.type==="op"){var r=i.limits&&(t.style.size===lt.DISPLAY.size||i.alwaysHandleSupSub);return r?la:null}else if(i.type==="operatorname"){var s=i.alwaysHandleSupSub&&(t.style.size===lt.DISPLAY.size||i.limits);return s?qb:null}else{if(i.type==="accent")return st.isCharacterBox(i.base)?tm:null;if(i.type==="horizBrace"){var o=!e.sub;return o===i.isOver?Bb:null}else return null}else return null};uo({type:"supsub",htmlBuilder(n,e){var t=sI(n,e);if(t)return t(n,e);var{base:i,sup:r,sub:s}=n,o=Mt(i,e),a,l,u=e.fontMetrics(),c=0,h=0,d=i&&st.isCharacterBox(i);if(r){var m=e.havingStyle(e.style.sup());a=Mt(r,m,e),d||(c=o.height-m.fontMetrics().supDrop*m.sizeMultiplier/e.sizeMultiplier)}if(s){var v=e.havingStyle(e.style.sub());l=Mt(s,v,e),d||(h=o.depth+v.fontMetrics().subDrop*v.sizeMultiplier/e.sizeMultiplier)}var b;e.style===lt.DISPLAY?b=u.sup1:e.style.cramped?b=u.sup3:b=u.sup2;var k=e.sizeMultiplier,_=Qe(.5/u.ptPerEm/k),T=null;if(l){var $=n.base&&n.base.type==="op"&&n.base.name&&(n.base.name==="\\oiint"||n.base.name==="\\oiiint");(o instanceof yi||$)&&(T=Qe(-o.italic))}var w;if(a&&l){c=Math.max(c,b,a.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var R=u.defaultRuleThickness,Q=4*R;if(c-a.depth-(l.height-h)<Q){h=Q-(c-a.depth)+l.height;var M=.8*u.xHeight-(c-a.depth);M>0&&(c+=M,h-=M)}var B=[{type:"elem",elem:l,shift:h,marginRight:_,marginLeft:T},{type:"elem",elem:a,shift:-c,marginRight:_}];w=pe.makeVList({positionType:"individualShift",children:B},e)}else if(l){h=Math.max(h,u.sub1,l.height-.8*u.xHeight);var N=[{type:"elem",elem:l,marginLeft:T,marginRight:_}];w=pe.makeVList({positionType:"shift",positionData:h,children:N},e)}else if(a)c=Math.max(c,b,a.depth+.25*u.xHeight),w=pe.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:a,marginRight:_}]},e);else throw new Error("supsub must have either sup or sub.");var K=Of(o,"right")||"mord";return pe.makeSpan([K],[o,pe.makeSpan(["msupsub"],[w])],e)},mathmlBuilder(n,e){var t=!1,i,r;n.base&&n.base.type==="horizBrace"&&(r=!!n.sup,r===n.base.isOver&&(t=!0,i=n.base.isOver)),n.base&&(n.base.type==="op"||n.base.type==="operatorname")&&(n.base.parentIsSupSub=!0);var s=[Vt(n.base,e)];n.sub&&s.push(Vt(n.sub,e)),n.sup&&s.push(Vt(n.sup,e));var o;if(t)o=i?"mover":"munder";else if(n.sub)if(n.sup){var u=n.base;u&&u.type==="op"&&u.limits&&e.style===lt.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===lt.DISPLAY||u.limits)?o="munderover":o="msubsup"}else{var l=n.base;l&&l.type==="op"&&l.limits&&(e.style===lt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===lt.DISPLAY)?o="munder":o="msub"}else{var a=n.base;a&&a.type==="op"&&a.limits&&(e.style===lt.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===lt.DISPLAY)?o="mover":o="msup"}return new $e.MathNode(o,s)}});uo({type:"atom",htmlBuilder(n,e){return pe.mathsym(n.text,n.mode,e,["m"+n.family])},mathmlBuilder(n,e){var t=new $e.MathNode("mo",[bi(n.text,n.mode)]);if(n.family==="bin"){var i=Jp(n,e);i==="bold-italic"&&t.setAttribute("mathvariant",i)}else n.family==="punct"?t.setAttribute("separator","true"):(n.family==="open"||n.family==="close")&&t.setAttribute("stretchy","false");return t}});var Hb={mi:"italic",mn:"normal",mtext:"normal"};uo({type:"mathord",htmlBuilder(n,e){return pe.makeOrd(n,e,"mathord")},mathmlBuilder(n,e){var t=new $e.MathNode("mi",[bi(n.text,n.mode,e)]),i=Jp(n,e)||"italic";return i!==Hb[t.type]&&t.setAttribute("mathvariant",i),t}});uo({type:"textord",htmlBuilder(n,e){return pe.makeOrd(n,e,"textord")},mathmlBuilder(n,e){var t=bi(n.text,n.mode,e),i=Jp(n,e)||"normal",r;return n.mode==="text"?r=new $e.MathNode("mtext",[t]):/[0-9]/.test(n.text)?r=new $e.MathNode("mn",[t]):n.text==="\\prime"?r=new $e.MathNode("mo",[t]):r=new $e.MathNode("mi",[t]),i!==Hb[r.type]&&r.setAttribute("mathvariant",i),r}});var ed={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},td={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};uo({type:"spacing",htmlBuilder(n,e){if(td.hasOwnProperty(n.text)){var t=td[n.text].className||"";if(n.mode==="text"){var i=pe.makeOrd(n,e,"textord");return i.classes.push(t),i}else return pe.makeSpan(["mspace",t],[pe.mathsym(n.text,n.mode,e)],e)}else{if(ed.hasOwnProperty(n.text))return pe.makeSpan(["mspace",ed[n.text]],[],e);throw new Ae('Unknown type of space "'+n.text+'"')}},mathmlBuilder(n,e){var t;if(td.hasOwnProperty(n.text))t=new $e.MathNode("mtext",[new $e.TextNode(" ")]);else{if(ed.hasOwnProperty(n.text))return new $e.MathNode("mspace");throw new Ae('Unknown type of space "'+n.text+'"')}return t}});var wv=()=>{var n=new $e.MathNode("mtd",[]);return n.setAttribute("width","50%"),n};uo({type:"tag",mathmlBuilder(n,e){var t=new $e.MathNode("mtable",[new $e.MathNode("mtr",[wv(),new $e.MathNode("mtd",[vs(n.body,e)]),wv(),new $e.MathNode("mtd",[vs(n.tag,e)])])]);return t.setAttribute("width","100%"),t}});var xv={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Sv={"\\textbf":"textbf","\\textmd":"textmd"},oI={"\\textit":"textit","\\textup":"textup"},kv=(n,e)=>{var t=n.font;if(t){if(xv[t])return e.withTextFontFamily(xv[t]);if(Sv[t])return e.withTextFontWeight(Sv[t]);if(t==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(oI[t])};Be({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:i}=n,r=e[0];return{type:"text",mode:t.mode,body:rn(r),font:i}},htmlBuilder(n,e){var t=kv(n,e),i=mn(n.body,t,!0);return pe.makeSpan(["mord","text"],i,t)},mathmlBuilder(n,e){var t=kv(n,e);return vs(n.body,t)}});Be({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=Mt(n.body,e),i=pe.makeLineSpan("underline-line",e),r=e.fontMetrics().defaultRuleThickness,s=pe.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:r},{type:"elem",elem:i},{type:"kern",size:3*r},{type:"elem",elem:t}]},e);return pe.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(n,e){var t=new $e.MathNode("mo",[new $e.TextNode("‾")]);t.setAttribute("stretchy","true");var i=new $e.MathNode("munder",[Vt(n.body,e),t]);return i.setAttribute("accentunder","true"),i}});Be({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=Mt(n.body,e),i=e.fontMetrics().axisHeight,r=.5*(t.height-i-(t.depth+i));return pe.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){return new $e.MathNode("mpadded",[Vt(n.body,e)],["vcenter"])}});Be({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(n,e,t){throw new Ae("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(n,e){for(var t=_v(n),i=[],r=e.havingStyle(e.style.text()),s=0;s<t.length;s++){var o=t[s];o==="~"&&(o="\\textasciitilde"),i.push(pe.makeSymbol(o,"Typewriter-Regular",n.mode,r,["mord","texttt"]))}return pe.makeSpan(["mord","text"].concat(r.sizingClasses(e)),pe.tryCombineChars(i),r)},mathmlBuilder(n,e){var t=new $e.TextNode(_v(n)),i=new $e.MathNode("mtext",[t]);return i.setAttribute("mathvariant","monospace"),i}});var _v=n=>n.body.replace(/ /g,n.star?"␣":" "),us=mb,jb=`[ \r
	]`,aI="\\\\[a-zA-Z@]+",lI="\\\\[^\uD800-\uDFFF]",uI="("+aI+")"+jb+"*",cI=`\\\\(
|[ \r	]+
?)[ \r	]*`,xf="[̀-ͯ]",hI=new RegExp(xf+"+$"),dI="("+jb+"+)|"+(cI+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(xf+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(xf+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+uI)+("|"+lI+")");class $v{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(dI,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new pi("EOF",new ii(this,t,t));var i=this.tokenRegex.exec(e);if(i===null||i.index!==t)throw new Ae("Unexpected character: '"+e[t]+"'",new pi(e[t],new ii(this,t,t+1)));var r=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[r]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new pi(r,new ii(this,t,this.tokenRegex.lastIndex))}}class fI{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ae("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,i){if(i===void 0&&(i=!1),i){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var pI=Db;D("\\noexpand",function(n){var e=n.popToken();return n.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});D("\\expandafter",function(n){var e=n.popToken();return n.expandOnce(!0),{tokens:[e],numArgs:0}});D("\\@firstoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[0],numArgs:0}});D("\\@secondoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[1],numArgs:0}});D("\\@ifnextchar",function(n){var e=n.consumeArgs(3);n.consumeSpaces();var t=n.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});D("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");D("\\TextOrMath",function(n){var e=n.consumeArgs(2);return n.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var Av={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};D("\\char",function(n){var e=n.popToken(),t,i="";if(e.text==="'")t=8,e=n.popToken();else if(e.text==='"')t=16,e=n.popToken();else if(e.text==="`")if(e=n.popToken(),e.text[0]==="\\")i=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Ae("\\char` missing argument");i=e.text.charCodeAt(0)}else t=10;if(t){if(i=Av[e.text],i==null||i>=t)throw new Ae("Invalid base-"+t+" digit "+e.text);for(var r;(r=Av[n.future().text])!=null&&r<t;)i*=t,i+=r,n.popToken()}return"\\@char{"+i+"}"});var um=(n,e,t,i)=>{var r=n.consumeArg().tokens;if(r.length!==1)throw new Ae("\\newcommand's first argument must be a macro name");var s=r[0].text,o=n.isDefined(s);if(o&&!e)throw new Ae("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!o&&!t)throw new Ae("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var a=0;if(r=n.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var l="",u=n.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=n.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new Ae("Invalid number of arguments: "+l);a=parseInt(l),r=n.consumeArg().tokens}return o&&i||n.macros.set(s,{tokens:r,numArgs:a}),""};D("\\newcommand",n=>um(n,!1,!0,!1));D("\\renewcommand",n=>um(n,!0,!1,!1));D("\\providecommand",n=>um(n,!0,!0,!0));D("\\message",n=>{var e=n.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});D("\\errmessage",n=>{var e=n.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});D("\\show",n=>{var e=n.popToken(),t=e.text;return console.log(e,n.macros.get(t),us[t],Ft.math[t],Ft.text[t]),""});D("\\bgroup","{");D("\\egroup","}");D("~","\\nobreakspace");D("\\lq","`");D("\\rq","'");D("\\aa","\\r a");D("\\AA","\\r A");D("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");D("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");D("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");D("ℬ","\\mathscr{B}");D("ℰ","\\mathscr{E}");D("ℱ","\\mathscr{F}");D("ℋ","\\mathscr{H}");D("ℐ","\\mathscr{I}");D("ℒ","\\mathscr{L}");D("ℳ","\\mathscr{M}");D("ℛ","\\mathscr{R}");D("ℭ","\\mathfrak{C}");D("ℌ","\\mathfrak{H}");D("ℨ","\\mathfrak{Z}");D("\\Bbbk","\\Bbb{k}");D("·","\\cdotp");D("\\llap","\\mathllap{\\textrm{#1}}");D("\\rlap","\\mathrlap{\\textrm{#1}}");D("\\clap","\\mathclap{\\textrm{#1}}");D("\\mathstrut","\\vphantom{(}");D("\\underbar","\\underline{\\text{#1}}");D("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');D("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");D("\\ne","\\neq");D("≠","\\neq");D("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");D("∉","\\notin");D("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");D("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");D("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");D("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");D("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");D("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");D("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");D("⟂","\\perp");D("‼","\\mathclose{!\\mkern-0.8mu!}");D("∌","\\notni");D("⌜","\\ulcorner");D("⌝","\\urcorner");D("⌞","\\llcorner");D("⌟","\\lrcorner");D("©","\\copyright");D("®","\\textregistered");D("️","\\textregistered");D("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');D("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');D("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');D("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');D("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");D("⋮","\\vdots");D("\\varGamma","\\mathit{\\Gamma}");D("\\varDelta","\\mathit{\\Delta}");D("\\varTheta","\\mathit{\\Theta}");D("\\varLambda","\\mathit{\\Lambda}");D("\\varXi","\\mathit{\\Xi}");D("\\varPi","\\mathit{\\Pi}");D("\\varSigma","\\mathit{\\Sigma}");D("\\varUpsilon","\\mathit{\\Upsilon}");D("\\varPhi","\\mathit{\\Phi}");D("\\varPsi","\\mathit{\\Psi}");D("\\varOmega","\\mathit{\\Omega}");D("\\substack","\\begin{subarray}{c}#1\\end{subarray}");D("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");D("\\boxed","\\fbox{$\\displaystyle{#1}$}");D("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");D("\\implies","\\DOTSB\\;\\Longrightarrow\\;");D("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");D("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");D("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Tv={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};D("\\dots",function(n){var e="\\dotso",t=n.expandAfterFuture().text;return t in Tv?e=Tv[t]:(t.slice(0,4)==="\\not"||t in Ft.math&&st.contains(["bin","rel"],Ft.math[t].group))&&(e="\\dotsb"),e});var cm={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};D("\\dotso",function(n){var e=n.future().text;return e in cm?"\\ldots\\,":"\\ldots"});D("\\dotsc",function(n){var e=n.future().text;return e in cm&&e!==","?"\\ldots\\,":"\\ldots"});D("\\cdots",function(n){var e=n.future().text;return e in cm?"\\@cdots\\,":"\\@cdots"});D("\\dotsb","\\cdots");D("\\dotsm","\\cdots");D("\\dotsi","\\!\\cdots");D("\\dotsx","\\ldots\\,");D("\\DOTSI","\\relax");D("\\DOTSB","\\relax");D("\\DOTSX","\\relax");D("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");D("\\,","\\tmspace+{3mu}{.1667em}");D("\\thinspace","\\,");D("\\>","\\mskip{4mu}");D("\\:","\\tmspace+{4mu}{.2222em}");D("\\medspace","\\:");D("\\;","\\tmspace+{5mu}{.2777em}");D("\\thickspace","\\;");D("\\!","\\tmspace-{3mu}{.1667em}");D("\\negthinspace","\\!");D("\\negmedspace","\\tmspace-{4mu}{.2222em}");D("\\negthickspace","\\tmspace-{5mu}{.277em}");D("\\enspace","\\kern.5em ");D("\\enskip","\\hskip.5em\\relax");D("\\quad","\\hskip1em\\relax");D("\\qquad","\\hskip2em\\relax");D("\\tag","\\@ifstar\\tag@literal\\tag@paren");D("\\tag@paren","\\tag@literal{({#1})}");D("\\tag@literal",n=>{if(n.macros.get("\\df@tag"))throw new Ae("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});D("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");D("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");D("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");D("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");D("\\newline","\\\\\\relax");D("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Ub=Qe(ji["Main-Regular"][84][1]-.7*ji["Main-Regular"][65][1]);D("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Ub+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");D("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Ub+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");D("\\hspace","\\@ifstar\\@hspacer\\@hspace");D("\\@hspace","\\hskip #1\\relax");D("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");D("\\ordinarycolon",":");D("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");D("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');D("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');D("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');D("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');D("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');D("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');D("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');D("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');D("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');D("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');D("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');D("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');D("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');D("∷","\\dblcolon");D("∹","\\eqcolon");D("≔","\\coloneqq");D("≕","\\eqqcolon");D("⩴","\\Coloneqq");D("\\ratio","\\vcentcolon");D("\\coloncolon","\\dblcolon");D("\\colonequals","\\coloneqq");D("\\coloncolonequals","\\Coloneqq");D("\\equalscolon","\\eqqcolon");D("\\equalscoloncolon","\\Eqqcolon");D("\\colonminus","\\coloneq");D("\\coloncolonminus","\\Coloneq");D("\\minuscolon","\\eqcolon");D("\\minuscoloncolon","\\Eqcolon");D("\\coloncolonapprox","\\Colonapprox");D("\\coloncolonsim","\\Colonsim");D("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");D("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");D("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");D("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");D("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");D("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");D("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");D("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");D("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");D("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");D("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");D("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");D("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");D("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");D("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");D("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");D("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");D("\\nleqq","\\html@mathml{\\@nleqq}{≰}");D("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");D("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");D("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");D("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");D("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");D("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");D("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");D("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");D("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");D("\\imath","\\html@mathml{\\@imath}{ı}");D("\\jmath","\\html@mathml{\\@jmath}{ȷ}");D("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");D("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");D("⟦","\\llbracket");D("⟧","\\rrbracket");D("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");D("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");D("⦃","\\lBrace");D("⦄","\\rBrace");D("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");D("⦵","\\minuso");D("\\darr","\\downarrow");D("\\dArr","\\Downarrow");D("\\Darr","\\Downarrow");D("\\lang","\\langle");D("\\rang","\\rangle");D("\\uarr","\\uparrow");D("\\uArr","\\Uparrow");D("\\Uarr","\\Uparrow");D("\\N","\\mathbb{N}");D("\\R","\\mathbb{R}");D("\\Z","\\mathbb{Z}");D("\\alef","\\aleph");D("\\alefsym","\\aleph");D("\\Alpha","\\mathrm{A}");D("\\Beta","\\mathrm{B}");D("\\bull","\\bullet");D("\\Chi","\\mathrm{X}");D("\\clubs","\\clubsuit");D("\\cnums","\\mathbb{C}");D("\\Complex","\\mathbb{C}");D("\\Dagger","\\ddagger");D("\\diamonds","\\diamondsuit");D("\\empty","\\emptyset");D("\\Epsilon","\\mathrm{E}");D("\\Eta","\\mathrm{H}");D("\\exist","\\exists");D("\\harr","\\leftrightarrow");D("\\hArr","\\Leftrightarrow");D("\\Harr","\\Leftrightarrow");D("\\hearts","\\heartsuit");D("\\image","\\Im");D("\\infin","\\infty");D("\\Iota","\\mathrm{I}");D("\\isin","\\in");D("\\Kappa","\\mathrm{K}");D("\\larr","\\leftarrow");D("\\lArr","\\Leftarrow");D("\\Larr","\\Leftarrow");D("\\lrarr","\\leftrightarrow");D("\\lrArr","\\Leftrightarrow");D("\\Lrarr","\\Leftrightarrow");D("\\Mu","\\mathrm{M}");D("\\natnums","\\mathbb{N}");D("\\Nu","\\mathrm{N}");D("\\Omicron","\\mathrm{O}");D("\\plusmn","\\pm");D("\\rarr","\\rightarrow");D("\\rArr","\\Rightarrow");D("\\Rarr","\\Rightarrow");D("\\real","\\Re");D("\\reals","\\mathbb{R}");D("\\Reals","\\mathbb{R}");D("\\Rho","\\mathrm{P}");D("\\sdot","\\cdot");D("\\sect","\\S");D("\\spades","\\spadesuit");D("\\sub","\\subset");D("\\sube","\\subseteq");D("\\supe","\\supseteq");D("\\Tau","\\mathrm{T}");D("\\thetasym","\\vartheta");D("\\weierp","\\wp");D("\\Zeta","\\mathrm{Z}");D("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");D("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");D("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");D("\\bra","\\mathinner{\\langle{#1}|}");D("\\ket","\\mathinner{|{#1}\\rangle}");D("\\braket","\\mathinner{\\langle{#1}\\rangle}");D("\\Bra","\\left\\langle#1\\right|");D("\\Ket","\\left|#1\\right\\rangle");var Gb=n=>e=>{var t=e.consumeArg().tokens,i=e.consumeArg().tokens,r=e.consumeArg().tokens,s=e.consumeArg().tokens,o=e.macros.get("|"),a=e.macros.get("\\|");e.macros.beginGroup();var l=h=>d=>{n&&(d.macros.set("|",o),r.length&&d.macros.set("\\|",a));var m=h;if(!h&&r.length){var v=d.future();v.text==="|"&&(d.popToken(),m=!0)}return{tokens:m?r:i,numArgs:0}};e.macros.set("|",l(!1)),r.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...s,...u,...t]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};D("\\bra@ket",Gb(!1));D("\\bra@set",Gb(!0));D("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");D("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");D("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");D("\\angln","{\\angl n}");D("\\blue","\\textcolor{##6495ed}{#1}");D("\\orange","\\textcolor{##ffa500}{#1}");D("\\pink","\\textcolor{##ff00af}{#1}");D("\\red","\\textcolor{##df0030}{#1}");D("\\green","\\textcolor{##28ae7b}{#1}");D("\\gray","\\textcolor{gray}{#1}");D("\\purple","\\textcolor{##9d38bd}{#1}");D("\\blueA","\\textcolor{##ccfaff}{#1}");D("\\blueB","\\textcolor{##80f6ff}{#1}");D("\\blueC","\\textcolor{##63d9ea}{#1}");D("\\blueD","\\textcolor{##11accd}{#1}");D("\\blueE","\\textcolor{##0c7f99}{#1}");D("\\tealA","\\textcolor{##94fff5}{#1}");D("\\tealB","\\textcolor{##26edd5}{#1}");D("\\tealC","\\textcolor{##01d1c1}{#1}");D("\\tealD","\\textcolor{##01a995}{#1}");D("\\tealE","\\textcolor{##208170}{#1}");D("\\greenA","\\textcolor{##b6ffb0}{#1}");D("\\greenB","\\textcolor{##8af281}{#1}");D("\\greenC","\\textcolor{##74cf70}{#1}");D("\\greenD","\\textcolor{##1fab54}{#1}");D("\\greenE","\\textcolor{##0d923f}{#1}");D("\\goldA","\\textcolor{##ffd0a9}{#1}");D("\\goldB","\\textcolor{##ffbb71}{#1}");D("\\goldC","\\textcolor{##ff9c39}{#1}");D("\\goldD","\\textcolor{##e07d10}{#1}");D("\\goldE","\\textcolor{##a75a05}{#1}");D("\\redA","\\textcolor{##fca9a9}{#1}");D("\\redB","\\textcolor{##ff8482}{#1}");D("\\redC","\\textcolor{##f9685d}{#1}");D("\\redD","\\textcolor{##e84d39}{#1}");D("\\redE","\\textcolor{##bc2612}{#1}");D("\\maroonA","\\textcolor{##ffbde0}{#1}");D("\\maroonB","\\textcolor{##ff92c6}{#1}");D("\\maroonC","\\textcolor{##ed5fa6}{#1}");D("\\maroonD","\\textcolor{##ca337c}{#1}");D("\\maroonE","\\textcolor{##9e034e}{#1}");D("\\purpleA","\\textcolor{##ddd7ff}{#1}");D("\\purpleB","\\textcolor{##c6b9fc}{#1}");D("\\purpleC","\\textcolor{##aa87ff}{#1}");D("\\purpleD","\\textcolor{##7854ab}{#1}");D("\\purpleE","\\textcolor{##543b78}{#1}");D("\\mintA","\\textcolor{##f5f9e8}{#1}");D("\\mintB","\\textcolor{##edf2df}{#1}");D("\\mintC","\\textcolor{##e0e5cc}{#1}");D("\\grayA","\\textcolor{##f6f7f7}{#1}");D("\\grayB","\\textcolor{##f0f1f2}{#1}");D("\\grayC","\\textcolor{##e3e5e6}{#1}");D("\\grayD","\\textcolor{##d6d8da}{#1}");D("\\grayE","\\textcolor{##babec2}{#1}");D("\\grayF","\\textcolor{##888d93}{#1}");D("\\grayG","\\textcolor{##626569}{#1}");D("\\grayH","\\textcolor{##3b3e40}{#1}");D("\\grayI","\\textcolor{##21242c}{#1}");D("\\kaBlue","\\textcolor{##314453}{#1}");D("\\kaGreen","\\textcolor{##71B307}{#1}");var Wb={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class mI{constructor(e,t,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new fI(pI,t.macros),this.mode=i,this.stack=[]}feed(e){this.lexer=new $v(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,i,r;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:r,end:i}=this.consumeArg(["]"])}else({tokens:r,start:t,end:i}=this.consumeArg());return this.pushToken(new pi("EOF",i.loc)),this.pushTokens(r),t.range(i,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],i=e&&e.length>0;i||this.consumeSpaces();var r=this.future(),s,o=0,a=0;do{if(s=this.popToken(),t.push(s),s.text==="{")++o;else if(s.text==="}"){if(--o,o===-1)throw new Ae("Extra }",s)}else if(s.text==="EOF")throw new Ae("Unexpected end of input in a macro argument, expected '"+(e&&i?e[a]:"}")+"'",s);if(e&&i)if((o===0||o===1&&e[a]==="{")&&s.text===e[a]){if(++a,a===e.length){t.splice(-a,a);break}}else a=0}while(o!==0||i);return r.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:r,end:s}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new Ae("The length of delimiters doesn't match the number of args!");for(var i=t[0],r=0;r<i.length;r++){var s=this.popToken();if(i[r]!==s.text)throw new Ae("Use of the macro doesn't match its definition",s)}}for(var o=[],a=0;a<e;a++)o.push(this.consumeArg(t&&t[a+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Ae("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),i=t.text,r=t.noexpand?null:this._getExpansion(i);if(r==null||e&&r.unexpandable){if(e&&r==null&&i[0]==="\\"&&!this.isDefined(i))throw new Ae("Undefined control sequence: "+i);return this.pushToken(t),!1}this.countExpansion(1);var s=r.tokens,o=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){s=s.slice();for(var a=s.length-1;a>=0;--a){var l=s[a];if(l.text==="#"){if(a===0)throw new Ae("Incomplete placeholder at end of macro body",l);if(l=s[--a],l.text==="#")s.splice(a+1,1);else if(/^[1-9]$/.test(l.text))s.splice(a,2,...o[+l.text-1]);else throw new Ae("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new pi(e)]):void 0}expandTokens(e){var t=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),t.push(r)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(i=>i.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var i=this.lexer.catcodes[e];if(i!=null&&i!==13)return}var r=typeof t=="function"?t(this):t;if(typeof r=="string"){var s=0;if(r.indexOf("#")!==-1)for(var o=r.replace(/##/g,"");o.indexOf("#"+(s+1))!==-1;)++s;for(var a=new $v(r,this.settings),l=[],u=a.lex();u.text!=="EOF";)l.push(u),u=a.lex();l.reverse();var c={tokens:l,numArgs:s};return c}return r}isDefined(e){return this.macros.has(e)||us.hasOwnProperty(e)||Ft.math.hasOwnProperty(e)||Ft.text.hasOwnProperty(e)||Wb.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:us.hasOwnProperty(e)&&!us[e].primitive}}var Pv=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Au=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),nd={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Mv={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let Yb=class Kb{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new mI(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new Ae("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new pi("}")),this.gullet.pushTokens(e);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,i}parseExpression(e,t){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(Kb.endOfExpression.indexOf(r.text)!==-1||t&&r.text===t||e&&us[r.text]&&us[r.text].infix)break;var s=this.parseAtom(t);if(s){if(s.type==="internal")continue}else break;i.push(s)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(e){for(var t=-1,i,r=0;r<e.length;r++)if(e[r].type==="infix"){if(t!==-1)throw new Ae("only one infix operator per group",e[r].token);t=r,i=e[r].replaceWith}if(t!==-1&&i){var s,o,a=e.slice(0,t),l=e.slice(t+1);a.length===1&&a[0].type==="ordgroup"?s=a[0]:s={type:"ordgroup",mode:this.mode,body:a},l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l};var u;return i==="\\\\abovefrac"?u=this.callFunction(i,[s,e[t],o],[]):u=this.callFunction(i,[s,o],[]),[u]}else return e}handleSupSubscript(e){var t=this.fetch(),i=t.text;this.consume(),this.consumeSpaces();var r=this.parseGroup(e);if(!r)throw new Ae("Expected group after '"+i+"'",t);return r}formatUnsupportedCmd(e){for(var t=[],i=0;i<e.length;i++)t.push({type:"textord",mode:"text",text:e[i]});var r={type:"text",mode:this.mode,body:t},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return s}parseAtom(e){var t=this.parseGroup("atom",e);if(this.mode==="text")return t;for(var i,r;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(t&&t.type==="op"){var o=s.text==="\\limits";t.limits=o,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=s.text==="\\limits");else throw new Ae("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(i)throw new Ae("Double superscript",s);i=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(r)throw new Ae("Double subscript",s);r=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(i)throw new Ae("Double superscript",s);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];for(this.consume();this.fetch().text==="'";)l.push(a),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:l}}else if(Au[s.text]){var u=Pv.test(s.text),c=[];for(c.push(new pi(Au[s.text])),this.consume();;){var h=this.fetch().text;if(!Au[h]||Pv.test(h)!==u)break;c.unshift(new pi(Au[h])),this.consume()}var d=this.subparse(c);u?r={type:"ordgroup",mode:"math",body:d}:i={type:"ordgroup",mode:"math",body:d}}else break}return i||r?{type:"supsub",mode:this.mode,base:t,sup:i,sub:r}:t}parseFunction(e,t){var i=this.fetch(),r=i.text,s=us[r];if(!s)return null;if(this.consume(),t&&t!=="atom"&&!s.allowedInArgument)throw new Ae("Got function '"+r+"' with no arguments"+(t?" as "+t:""),i);if(this.mode==="text"&&!s.allowedInText)throw new Ae("Can't use function '"+r+"' in text mode",i);if(this.mode==="math"&&s.allowedInMath===!1)throw new Ae("Can't use function '"+r+"' in math mode",i);var{args:o,optArgs:a}=this.parseArguments(r,s);return this.callFunction(r,o,a,i,e)}callFunction(e,t,i,r,s){var o={funcName:e,parser:this,token:r,breakOnTokenText:s},a=us[e];if(a&&a.handler)return a.handler(o,t,i);throw new Ae("No function handler for "+e)}parseArguments(e,t){var i=t.numArgs+t.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var r=[],s=[],o=0;o<i;o++){var a=t.argTypes&&t.argTypes[o],l=o<t.numOptionalArgs;(t.primitive&&a==null||t.type==="sqrt"&&o===1&&s[0]==null)&&(a="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)s.push(u);else if(u!=null)r.push(u);else throw new Ae("Null argument, please report this as a bug")}return{args:r,optArgs:s}}parseGroupOfType(e,t,i){switch(t){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,t);case"hbox":{var r=this.parseArgumentGroup(i,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",i);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(i)throw new Ae("A primitive argument cannot be optional");var o=this.parseGroup(e);if(o==null)throw new Ae("Expected group as "+e,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new Ae("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var i=this.gullet.scanArgument(t);if(i==null)return null;for(var r="",s;(s=this.fetch()).text!=="EOF";)r+=s.text,this.consume();return this.consume(),i.text=r,i}parseRegexGroup(e,t){for(var i=this.fetch(),r=i,s="",o;(o=this.fetch()).text!=="EOF"&&e.test(s+o.text);)r=o,s+=r.text,this.consume();if(s==="")throw new Ae("Invalid "+t+": '"+i.text+"'",i);return i.range(r,s)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!i)throw new Ae("Invalid color: '"+t.text+"'",t);var r=i[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var t,i=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",i=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new Ae("Invalid size: '"+t.text+"'",t);var s={number:+(r[1]+r[2]),unit:r[3]};if(!ob(s))throw new Ae("Invalid unit: '"+s.unit+"'",t);return{type:"size",mode:this.mode,value:s,isBlank:i}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var i=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(e,t){var i=this.gullet.scanArgument(e);if(i==null)return null;var r=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:i.loc,body:s};return t&&this.switchMode(r),o}parseGroup(e,t){var i=this.fetch(),r=i.text,s;if(r==="{"||r==="\\begingroup"){this.consume();var o=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:ii.range(i,l),body:a,semisimple:r==="\\begingroup"||void 0}}else if(s=this.parseFunction(t,e)||this.parseSymbol(),s==null&&r[0]==="\\"&&!Wb.hasOwnProperty(r)){if(this.settings.throwOnError)throw new Ae("Undefined control sequence: "+r,i);s=this.formatUnsupportedCmd(r),this.consume()}return s}formLigatures(e){for(var t=e.length-1,i=0;i<t;++i){var r=e[i],s=r.text;s==="-"&&e[i+1].text==="-"&&(i+1<t&&e[i+2].text==="-"?(e.splice(i,3,{type:"textord",mode:"text",loc:ii.range(r,e[i+2]),text:"---"}),t-=2):(e.splice(i,2,{type:"textord",mode:"text",loc:ii.range(r,e[i+1]),text:"--"}),t-=1)),(s==="'"||s==="`")&&e[i+1].text===s&&(e.splice(i,2,{type:"textord",mode:"text",loc:ii.range(r,e[i+1]),text:s+s}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var i=t.slice(5),r=i.charAt(0)==="*";if(r&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new Ae(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:r}}Mv.hasOwnProperty(t[0])&&!Ft[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=Mv[t[0]]+t.slice(1));var s=hI.exec(t);s&&(t=t.substring(0,s.index),t==="i"?t="ı":t==="j"&&(t="ȷ"));var o;if(Ft[this.mode][t]){this.settings.strict&&this.mode==="math"&&vf.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var a=Ft[this.mode][t].group,l=ii.range(e),u;if(iD.hasOwnProperty(a)){var c=a;u={type:"atom",mode:this.mode,family:c,loc:l,text:t}}else u={type:a,mode:this.mode,loc:l,text:t};o=u}else if(t.charCodeAt(0)>=128)this.settings.strict&&(sb(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),o={type:"textord",mode:"text",loc:ii.range(e),text:t};else return null;if(this.consume(),s)for(var h=0;h<s[0].length;h++){var d=s[0][h];if(!nd[d])throw new Ae("Unknown accent ' "+d+"'",e);var m=nd[d][this.mode]||nd[d].text;if(!m)throw new Ae("Accent "+d+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:ii.range(e),label:m,isStretchy:!1,isShifty:!0,base:o}}return o}};Yb.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var hm=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new Yb(e,t);delete i.gullet.macros.current["\\df@tag"];var r=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new Ae("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:i.subparse([new pi("\\df@tag")])}]}return r},Jb=function(e,t,i){t.textContent="";var r=dm(e,i).toNode();t.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Jb=function(){throw new Ae("KaTeX doesn't work in quirks mode.")});var gI=function(e,t){var i=dm(e,t).toMarkup();return i},vI=function(e,t){var i=new jp(t);return hm(e,i)},e5=function(e,t,i){if(i.throwOnError||!(e instanceof Ae))throw e;var r=pe.makeSpan(["katex-error"],[new yi(t)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+i.errorColor),r},dm=function(e,t){var i=new jp(t);try{var r=hm(e,i);return $D(r,e,i)}catch(s){return e5(s,e,i)}},OI=function(e,t){var i=new jp(t);try{var r=hm(e,i);return AD(r,e,i)}catch(s){return e5(s,e,i)}},yI="0.16.21",bI={Span:Nl,Anchor:Wp,SymbolNode:yi,SvgNode:Dr,PathNode:gs,LineNode:gf},id={version:yI,render:Jb,renderToString:gI,ParseError:Ae,SETTINGS_SCHEMA:oc,__parse:vI,__renderToDomTree:dm,__renderToHTMLTree:OI,__setFontMetrics:Gz,__defineSymbol:O,__defineFunction:Be,__defineMacro:D,__domTree:bI};const wI={class:"sim"},xI={class:"controls"},SI={class:"current-camera"},kI={key:0,class:"data-wrapper"},_I=rt({__name:"Sim",setup(n){const e=Me(null);let t;const i=new mz;let r;const s=Me(!1),o=Me(0),a=["main","nozzle","ellipsis"],l={main:"Rocket main camera",nozzle:"Rocket nozzle camera",ellipsis:"Fixed ground camera"},u=Me(l.main),c=Me(null),h=Me(""),d=Me(0);function m(){o.value=(o.value+1)%a.length;const T=a[o.value];i.setCamera(T),u.value=l[T]}function v(T){i.setCamera(T),u.value=l[T]}function b(T){let $="";T.time>4&&T.time<40?$=`
      \\theta = \\theta_{0} - 2(\\theta_{0} - \\theta_{k})\\frac{${Math.round(T.time)}-t_{a}}{t_{p} - t_{a}} + (\\theta_{0} - \\theta_{k})(\\frac{t-t_{a}}{t_{k} - t_{a}})^2 = ${Math.round(T.angle*100)/100}\\newline 
      \\ \\newline
      \\theta_{0} = 1.57 \\ rad\\newline
      \\ \\newline
      \\theta_{k} = 0.68 \\ rad\\newline
      \\ \\newline
      t_{a} = 4 \\ c\\newline
      \\ \\newline
      t_{p} = 40 \\ c
    `:T.position.y>95e3&&($=`
      v_{k} = \\frac{V_{k}^2(R+h_{k})}{\\pi_{0}} = ${T.vk}\\newline
      \\ \\newline
      \\beta_{B} = arctan\\frac{v_{k}tg\\theta_{k}}{1+tg^2\\theta_{k}-v_{k}} = ${T.beta}\\newline
      \\ \\newline
      p = v_{k}(R+h_{k})cos^2\\theta_{k} = ${T.focal}\\newline
      \\ \\newline
      e = \\sqrt{(1-v_{k})^2cos^2\\theta_{k}+sin^2\\theta_{k}} = ${T.eccentricity}
    `),h.value=$,d.value=$?1:0,$&&vn(()=>{id==null||id.render($,document.querySelector(".tex"),{throwOnError:!1})})}function k(){i.init(e.value),r=new tb,r.showPanel(0),r.dom.style.position="absolute",r.dom.style.left="0px",r.dom.style.top="0px",e.value.appendChild(i.renderer.domElement);const T=new bz;let $=0;function w(){if(t=requestAnimationFrame(w),r.begin(),s.value){$+=i.step;const R=T.update($,i.step);if(R.time=$,R.position.y>95e3){const Q=R.velocity/1e3;R.vk=Math.round(Q*1e4)/1e4,R.beta=Math.round(Math.atan(Q*Math.tan(R.angle)/(1+Math.pow(Math.tan(R.angle),2)-Q))*1e4)/1e4,R.focal=Math.round(Q*(6371210+R.position.y)*Math.pow(Math.cos(R.angle),2)),R.eccentricity=Math.round(Math.sqrt(Math.pow(1-Q,2)*Math.pow(Math.cos(R.angle),2)+Math.pow(Math.sin(R.angle),2))*1e4)/1e4}i.updateRocket(R),c.value=R,b(R)}i.render(),r.end()}w()}const _=()=>{let T=i.renderer,$=i.camera,w=i.particleFireMesh;if(e.value&&$&&T){let R=e.value.clientWidth,Q=e.value.clientHeight;$.aspect=R/Q,$.updateProjectionMatrix(),T.setSize(R,Q),w&&w.material.setPerspective($.fov,Q)}};return gn(()=>{k(),window.addEventListener("resize",_)}),er(()=>{t&&cancelAnimationFrame(t),window.removeEventListener("resize",_)}),(T,$)=>(me(),_e("div",wI,[fe("div",{class:"tex",style:kn({opacity:d.value})},null,4),fe("div",xI,[fe("button",{onClick:$[0]||($[0]=w=>s.value=!0)},"开始"),fe("button",{onClick:m},"下一个摄像头"),fe("button",{onClick:$[1]||($[1]=w=>v("main"))},"主摄像头"),fe("button",{onClick:$[2]||($[2]=w=>v("nozzle"))},"喷嘴摄像头"),fe("button",{onClick:$[3]||($[3]=w=>v("ellipsis"))},"椭圆区域摄像头")]),fe("div",SI,it(u.value),1),c.value?(me(),_e("div",kI,[fe("div",null,"x - "+it(Math.round(c.value.position.x*100)/100)+" m",1),fe("div",null,"y - "+it(Math.round(c.value.position.y*100)/100)+" m",1),fe("div",null,"θ - "+it(Math.round(c.value.angle*100)/100)+" rad",1),fe("div",null,"v - "+it(Math.round(c.value.velocity*100)/100)+" m/s",1),fe("div",null,"t - "+it(Math.round(c.value.time*100)/100)+" s",1)])):kt("",!0),fe("div",{ref_key:"container",ref:e,class:"container"},null,512)]))}}),$I=yn(_I,[["__scopeId","data-v-e1358bab"]]),AI={class:"chart-panel"},TI={class:"chart-controls"},PI={class:"charts-container"},MI={class:"chart-header"},CI={class:"chart-content"},EI=rt({__name:"ChartPanel",setup(n){const e=vi.getInstance(),t=$p(),r=Er.getInstance().useConfig("charts"),s=Me([]);let o=qe(()=>s.value.reduce((M,B)=>Math.max(M,B.id),0)+1);const a=ao(),l={background:"#1e1e1e",gridColor:"#2c2c2c",textColor:"#d4d4d4",lineColors:["#4a9eff","#ff4a4a","#4aff4a","#ffd700","#ff4aff","#4affff"]},u={background:"#ffffff",gridColor:"#f0f0f0",textColor:"#333333",lineColors:["#3366ff","#ff3333","#33ff33","#ffcc00","#ff33ff","#33ffff"]},c=qe(()=>a.value?l:u),h=Q=>{const M={id:o.value,name:Q,fields:[],data:[[]],timestamps:[],uplot:null,container:null};return s.value.push(M),m(),M},d=Q=>{const M=s.value.find(B=>B.id===Q);M&&(M.data=[[]],M.timestamps=[],M.fields.forEach(()=>M.data.push([])),M.uplot&&M.uplot.setData(M.data))},m=()=>{const Q=s.value.map(M=>({id:M.id,name:M.name,fields:M.fields}));r.value.list=Q},v=()=>{const Q=r.value.list||[];Array.isArray(Q)&&Q.forEach(M=>{const B=h(M.name);B.id=M.id,M.fields.forEach(N=>$(B.id,N))})},b=(Q,M)=>{const B={width:M.clientWidth||200,height:300,cursor:{sync:{key:0}},series:[{label:"Time",value:(N,K)=>{if(!K)return"--";let q=new Date(K*1e3);return q.toLocaleString()+"."+q.getMilliseconds()}},...Q.fields.map((N,K)=>({label:N,stroke:c.value.lineColors[K%c.value.lineColors.length]}))],axes:[{stroke:c.value.textColor,grid:{stroke:c.value.gridColor}},{stroke:c.value.textColor,grid:{stroke:c.value.gridColor}}],scales:{x:{time:!0}}};Q.uplot=new Gy(B,Q.data,M),Q.container=M},k=Q=>{if(typeof Q!="object"||Q===null)return;const M=Date.now();s.value.forEach(B=>{if(B.fields.length===0)return;B.timestamps.push(M/1e3);let N=0;const K=[B.timestamps,...B.fields.map((q,Z)=>{const re=Q[q];let P=null;return typeof re=="number"&&(N++,P=re),B.data[Z+1].push(P),B.data[Z+1]})];N!=0&&(B.uplot&&B.uplot.setData(K),B.data=K)})},_=()=>{m()},T=Q=>{Q.data=[Q.timestamps],Q.fields.forEach(()=>Q.data.push([])),m(),Q.uplot&&(Q.uplot.destroy(),Q.container&&b(Q,Q.container))},$=(Q,M)=>{const B=s.value.find(N=>N.id===Q);if(B){if(B.fields.includes(M)){Xt.warning("该字段已添加到图表中");return}B.fields.push(M),B.data.push([]),m(),B.uplot&&(B.uplot.destroy(),B.container&&b(B,B.container))}},w=Q=>{const M=s.value.findIndex(N=>N.id===Q);if(M===-1)return;const B=s.value[M];B.uplot&&B.uplot.destroy(),s.value.splice(M,1),m()},R=()=>{s.value.forEach(Q=>{if(Q.uplot&&Q.container){let M=Q.container.clientWidth;M&&Q.uplot.setSize({width:M,height:Q.uplot.height})}})};return gn(()=>{v(),e.on(Ut.DATA_UPDATE,k),window.addEventListener("resize",R)}),er(()=>{e.off(Ut.DATA_UPDATE,k),window.removeEventListener("resize",R),s.value.forEach(Q=>{Q.uplot&&Q.uplot.destroy()})}),(Q,M)=>{const B=Ee("el-button"),N=Ee("el-input"),K=Ee("el-option"),q=Ee("el-select"),Z=Ee("Delete"),re=Ee("el-icon"),P=Ee("RefreshRight");return me(),_e("div",AI,[fe("div",TI,[z(B,{onClick:M[0]||(M[0]=j=>h("新图表")),type:"primary",size:"small"},{default:U(()=>M[1]||(M[1]=[Ce(" 添加图表 ")])),_:1})]),fe("div",PI,[(me(!0),_e(xt,null,Nt(s.value,j=>(me(),_e("div",{key:j.id,class:"chart-item"},[fe("div",MI,[z(N,{modelValue:j.name,"onUpdate:modelValue":L=>j.name=L,size:"small",placeholder:"图表名称",class:"chart-name-input",onChange:_},null,8,["modelValue","onUpdate:modelValue"]),z(q,{modelValue:j.fields,"onUpdate:modelValue":L=>j.fields=L,multiple:"",filterable:"",placeholder:"选择字段",size:"small",style:{"min-width":"200px"},onChange:L=>T(j)},{default:U(()=>[(me(!0),_e(xt,null,Nt(V(t).fields.map(L=>L.key),L=>(me(),ct(K,{key:L,label:L,value:L},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),z(B,{onClick:L=>w(j.id),type:"danger",size:"small",circle:""},{default:U(()=>[z(re,null,{default:U(()=>[z(Z)]),_:1})]),_:2},1032,["onClick"]),z(B,{onClick:L=>d(j.id),style:{"margin-left":"0"},type:"warning",size:"small",circle:""},{default:U(()=>[z(re,null,{default:U(()=>[z(P)]),_:1})]),_:2},1032,["onClick"])]),fe("div",CI,[fe("div",{ref_for:!0,ref:L=>{L&&!j.uplot&&b(j,L)},class:"chart-container"},null,512)])]))),128))])])}}}),t5=yn(EI,[["__scopeId","data-v-e6e95fc6"]]),QI={class:"data-table-container"},RI={class:"table-toolbar"},zI={class:"import-export-buttons"},DI={class:"operation-buttons"},II=rt({__name:"DataTable",setup(n){const e=vi.getInstance(),t=$p(),i=a=>{typeof a!="object"||a===null||Object.entries(a).forEach(([l,u])=>{const c=t.fields.find(h=>h.key===l);c?t.updateField(c,u):t.fields.push(t.createField(l,u))})},r=()=>{t.createField("new_field","")},s=()=>{t.saveToLocalStorage()},o=()=>{t.fields.forEach(a=>{a.value="",a.avg=null,a.avgSum=null,a.min=null,a.max=null,a.updateCount=0,a.lastUpdate=0}),t.saveToLocalStorage()};return gn(()=>{t.loadFromLocalStorage(),e.on(Ut.DATA_UPDATE,i)}),er(()=>{e.off(Ut.DATA_UPDATE,i)}),(a,l)=>{const u=Ee("el-alert"),c=Ee("arrow-down"),h=Ee("el-icon"),d=Ee("el-button"),m=Ee("el-checkbox"),v=Ee("el-dropdown-item"),b=Ee("el-dropdown-menu"),k=Ee("el-dropdown"),_=Ee("Delete"),T=Ee("el-table-column"),$=Ee("el-input"),w=Ee("el-option"),R=Ee("el-select"),Q=Ee("el-tooltip"),M=Ee("el-table");return me(),_e("div",QI,[z(u,{type:"info",closable:!1,class:"mb-3"},{title:U(()=>l[3]||(l[3]=[fe("div",{class:"flow-title"},"数据流转过程说明",-1)])),default:U(()=>[l[4]||(l[4]=fe("div",{class:"flow-content"},[fe("div",{class:"flow-step"},[fe("div",{class:"step-number"},"1"),fe("div",{class:"step-content"},[fe("b",null,"数据采集："),Ce("设备（串口/USB/蓝牙等）采集数据并发送 ")])]),fe("div",{class:"flow-step"},[fe("div",{class:"step-number"},"2"),fe("div",{class:"step-content"},[fe("b",null,"脚本处理："),Ce("数据进入脚本的 DataReceiver 函数进行处理， 可在脚本面板进行编辑 ")])]),fe("div",{class:"flow-step"},[fe("div",{class:"step-number"},"3"),fe("div",{class:"step-content"},[fe("b",null,"数据更新："),Ce("脚本通过 updateDataTable({key: value}) 更新数据表 ")])]),fe("div",{class:"flow-step"},[fe("div",{class:"step-number"},"4"),fe("div",{class:"step-content"},[fe("b",null,"显示输出："),Ce("脚本 return 的数据会显示在命令行面板 ")])])],-1))]),_:1}),fe("div",RI,[z(k,{trigger:"click"},{dropdown:U(()=>[z(b,null,{default:U(()=>[(me(!0),_e(xt,null,Nt(V(t).columnVisibility,(B,N)=>(me(),ct(v,{key:N},{default:U(()=>[z(m,{modelValue:V(t).columnVisibility[N],"onUpdate:modelValue":K=>V(t).columnVisibility[N]=K,onChange:l[0]||(l[0]=K=>V(t).toggleColumnVisibility())},{default:U(()=>[Ce(it(N==="key"?"Key":N==="name"?"字段名":N==="dataType"?"数据类型":N==="keyAddr"?"内存地址":N==="keySize"?"内存大小":N==="description"?"描述":N==="value"?"当前值":N==="avg"?"平均值":N==="min"?"最小值":N==="max"?"最大值":N==="lastUpdate"?"最后更新":N==="updateCount"?"更新次数":N),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),default:U(()=>[z(d,{type:"primary",size:"small"},{default:U(()=>[l[5]||(l[5]=Ce(" 显示/隐藏列 ")),z(h,{class:"el-icon--right"},{default:U(()=>[z(c)]),_:1})]),_:1})]),_:1}),fe("div",zI,[z(d,{type:"primary",size:"small",onClick:r},{default:U(()=>l[6]||(l[6]=[Ce("添加")])),_:1}),z(d,{type:"primary",size:"small",onClick:V(t).exportData},{default:U(()=>l[7]||(l[7]=[Ce("导出数据")])),_:1},8,["onClick"]),z(d,{type:"primary",size:"small",onClick:l[1]||(l[1]=B=>a.$refs.fileInput.click())},{default:U(()=>l[8]||(l[8]=[Ce("导入数据")])),_:1}),z(d,{type:"warning",size:"small",onClick:o},{default:U(()=>l[9]||(l[9]=[Ce("重置数据")])),_:1}),fe("input",{ref:"fileInput",type:"file",accept:".json",style:{display:"none"},onChange:l[2]||(l[2]=B=>{var K;const N=(K=B.target.files)==null?void 0:K[0];N&&V(t).importData(N)})},null,544)])]),z(M,{data:V(t).fields,border:"",stripe:""},{default:U(()=>[z(T,{label:"操作",width:"60",fixed:"left"},{default:U(({row:B})=>[fe("div",DI,[z(d,{onClick:N=>V(t).deleteField(B.id),type:"danger",size:"small",circle:""},{default:U(()=>[z(h,null,{default:U(()=>[z(_)]),_:1})]),_:2},1032,["onClick"])])]),_:1}),V(t).columnVisibility.key?(me(),ct(T,{key:0,label:"Key",sortable:"","min-width":"100"},{default:U(({row:B})=>[z($,{modelValue:B.key,"onUpdate:modelValue":N=>B.key=N,size:"small",onChange:s},null,8,["modelValue","onUpdate:modelValue"])]),_:1})):kt("",!0),V(t).columnVisibility.name?(me(),ct(T,{key:1,label:"字段名",sortable:"","min-width":"100"},{default:U(({row:B})=>[z($,{modelValue:B.name,"onUpdate:modelValue":N=>B.name=N,size:"small",onChange:s},null,8,["modelValue","onUpdate:modelValue"])]),_:1})):kt("",!0),V(t).columnVisibility.keyAddr?(me(),ct(T,{key:2,label:"内存地址",sortable:"","min-width":"100"},{default:U(({row:B})=>[z($,{modelValue:B.keyAddr,"onUpdate:modelValue":N=>B.keyAddr=N,size:"small",onChange:s},null,8,["modelValue","onUpdate:modelValue"])]),_:1})):kt("",!0),V(t).columnVisibility.keySize?(me(),ct(T,{key:3,label:"内存大小",sortable:"","min-width":"100"},{default:U(({row:B})=>[z($,{modelValue:B.keySize,"onUpdate:modelValue":N=>B.keySize=N,size:"small",onChange:s},null,8,["modelValue","onUpdate:modelValue"])]),_:1})):kt("",!0),V(t).columnVisibility.dataType?(me(),ct(T,{key:4,label:"数据类型",sortable:"","min-width":"80"},{default:U(({row:B})=>[z(R,{modelValue:B.dataType,"onUpdate:modelValue":N=>B.dataType=N,size:"small",onChange:s},{default:U(()=>[z(w,{label:"数字",value:"number"}),z(w,{label:"字符串",value:"string"}),z(w,{label:"布尔值",value:"boolean"}),z(w,{label:"对象",value:"object"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1})):kt("",!0),V(t).columnVisibility.description?(me(),ct(T,{key:5,label:"描述","min-width":"150"},{default:U(({row:B})=>[z($,{modelValue:B.description,"onUpdate:modelValue":N=>B.description=N,size:"small",onChange:s},null,8,["modelValue","onUpdate:modelValue"])]),_:1})):kt("",!0),V(t).columnVisibility.value?(me(),ct(T,{key:6,label:"当前值","min-width":"100"},{default:U(({row:B})=>[fe("span",null,it(B.value),1)]),_:1})):kt("",!0),V(t).columnVisibility.avg?(me(),ct(T,{key:7,label:"平均值","min-width":"100"},{default:U(({row:B})=>[fe("span",null,it(B.avg??"-"),1)]),_:1})):kt("",!0),V(t).columnVisibility.min?(me(),ct(T,{key:8,label:"最小值","min-width":"100"},{default:U(({row:B})=>[fe("span",null,it(B.min??"-"),1)]),_:1})):kt("",!0),V(t).columnVisibility.max?(me(),ct(T,{key:9,label:"最大值","min-width":"100"},{default:U(({row:B})=>[fe("span",null,it(B.max??"-"),1)]),_:1})):kt("",!0),V(t).columnVisibility.lastUpdate?(me(),ct(T,{key:10,label:"最后更新",sortable:"","min-width":"120"},{default:U(({row:B})=>[z(Q,{content:new Date(B.lastUpdate).toLocaleString(),placement:"top",effect:"dark"},{default:U(()=>[fe("span",null,it(new Date(B.lastUpdate).toLocaleTimeString()+"."+String(new Date(B.lastUpdate).getMilliseconds()).padStart(3,"0")),1)]),_:2},1032,["content"])]),_:1})):kt("",!0),V(t).columnVisibility.updateCount?(me(),ct(T,{key:11,label:"更新次数",sortable:"",width:"100"},{default:U(({row:B})=>[fe("span",null,it(B.updateCount),1)]),_:1})):kt("",!0)]),_:1},8,["data"])])}}}),n5=yn(II,[["__scopeId","data-v-e8bd97cc"]]),NI=vi.getInstance(),LI=Op("quickSend",()=>{const n=Fo.getInstance(),e=Me([]),t=Me(0),i=qe(()=>e.value.find(w=>w.id===t.value)||e.value[0]),r=Me({}),s=Me(1e3),o=w=>/^[0-9A-Fa-f\s]*$/.test(w),a=w=>{if(!w.content){Xt.warning("发送内容不能为空");return}if(w.type==="hex"&&!o(w.content)){Xt.error("HEX格式数据不合法");return}const R=n.stringToUint8Array(w.content+w.addCRLFType,w.type==="hex");NI.emit(Ut.SERIAL_SEND,R)},l=w=>{const R=r.value[w.id];R?(clearInterval(R),delete r.value[w.id]):r.value[w.id]=window.setInterval(()=>a(w),s.value)},u=()=>{i.value.items.push({id:Date.now(),name:"新建项目",content:"",type:"text",addCRLFType:"\\n"})},c=w=>{const R=i.value.items.findIndex(Q=>Q.id===w);R>-1&&i.value.items.splice(R,1)},h=w=>{w&&e.value.push({id:Date.now(),name:w,items:[]})},d=()=>{if(e.value.length<=1){Xt.warning("至少保留一个分组");return}const w=e.value.findIndex(R=>R.id===i.value.id);w>-1&&(e.value.splice(w,1),e.value.length==0&&h("默认分组"),v(e.value[0]))},m=w=>{w&&(i.value.name=w)},v=w=>{t.value=w.id},b=w=>{console.log("切换分组",w,e),t.value=w},k=w=>{try{if(!Array.isArray(w)||!w.every(R=>typeof R=="object"&&typeof R.id=="number"&&typeof R.name=="string"&&Array.isArray(R.items)))throw new Error("配置文件格式错误");e.value=w,v(e.value[0]),Xt.success("导入成功")}catch(R){Xt.error(`导入失败：${R instanceof Error?R.message:"无效的配置文件"}`)}},_=()=>JSON.stringify(e.value,null,2),T=()=>{localStorage.setItem("config.quickSendGroups",JSON.stringify(e.value))},$=()=>{const w=localStorage.getItem("config.quickSendGroups");if(w)try{e.value=JSON.parse(w)}catch{Xt.error("加载配置失败")}e.value.length==0&&(e.value=[{id:1,name:"默认分组",items:[{id:1,name:"查询版本",content:"AT+VERSION?",type:"text",addCRLFType:`
`},{id:2,name:"重启设备",content:"AT+RESET",type:"text",addCRLFType:`
`},{id:3,name:"查询状态",content:"AT+STATUS?",type:"text",addCRLFType:`
`},{id:4,name:"16进制测试",content:"AA BB CC 11 22",type:"hex",addCRLFType:""}]}]),v(e.value[0])};return Ye([e,i],()=>{T()},{deep:!0}),$(),{groups:e,currentGroupId:t,currentGroup:i,autoSendIntervals:r,autoSendInterval:s,sendData:a,toggleAutoSend:l,addItem:u,removeItem:c,addGroup:h,removeGroup:d,renameGroup:m,handleGroupChange:b,importConfig:k,exportConfig:_}}),ZI={class:"quick-send"},BI={class:"group-select"},VI={class:"quick-send-actions"},XI={class:"action-group"},qI={class:"quick-send-list"},FI={class:"item-row"},HI={class:"item-settings"},jI={class:"setting-row"},UI={class:"setting-row"},GI={class:"setting-row"},WI={class:"setting-row"},YI=rt({__name:"SerialQuickSend",setup(n){const e=LI(),t=Me(null),i=a=>{const l=a.target;if(l.files&&l.files[0]){const u=new FileReader;u.onload=c=>{var h;try{const d=JSON.parse((h=c.target)==null?void 0:h.result);e.importConfig(d)}catch{}},u.readAsText(l.files[0])}},r=()=>{const a=e.exportConfig(),l=new Blob([a],{type:"application/json"}),u=URL.createObjectURL(l),c=document.createElement("a");c.href=u,c.download="quick-send-config.json",c.click(),URL.revokeObjectURL(u)},s=()=>{const a=prompt("请输入分组名称");a&&e.addGroup(a)},o=()=>{const a=prompt("请输入新的分组名称",e.currentGroup.name);a&&e.renameGroup(a)};return(a,l)=>{const u=Ee("el-option"),c=Ee("el-select"),h=Ee("el-button"),d=Ee("el-button-group"),m=Ee("Plus"),v=Ee("el-icon"),b=Ee("FolderAdd"),k=Ee("FolderOpened"),_=Ee("el-input"),T=Ee("Setting"),$=Ee("el-radio-button"),w=Ee("el-radio-group"),R=Ee("el-input-number"),Q=Ee("el-tooltip"),M=Ee("el-popover"),B=Ee("Delete");return me(),_e("div",ZI,[fe("div",BI,[z(c,{size:"small",modelValue:V(e).currentGroupId,"onUpdate:modelValue":l[0]||(l[0]=N=>V(e).currentGroupId=N),onChange:V(e).handleGroupChange},{default:U(()=>[(me(!0),_e(xt,null,Nt(V(e).groups,N=>(me(),ct(u,{key:N.id,label:N.name,value:N.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"]),z(d,{style:{width:"240px"}},{default:U(()=>[z(h,{size:"small",onClick:s,class:"compact-btn"},{default:U(()=>l[3]||(l[3]=[Ce("新增")])),_:1}),z(h,{size:"small",onClick:o,class:"compact-btn"},{default:U(()=>l[4]||(l[4]=[Ce("改名")])),_:1}),z(h,{size:"small",onClick:V(e).removeGroup,class:"compact-btn"},{default:U(()=>l[5]||(l[5]=[Ce("删除")])),_:1},8,["onClick"])]),_:1})]),fe("div",VI,[fe("div",XI,[z(h,{size:"small",onClick:V(e).addItem,class:"add-item-btn"},{default:U(()=>[z(v,null,{default:U(()=>[z(m)]),_:1}),l[6]||(l[6]=Ce(" 增加一条 "))]),_:1},8,["onClick"]),fe("input",{type:"file",ref_key:"importInput",ref:t,style:{display:"none"},accept:"application/json",onChange:i},null,544),z(d,null,{default:U(()=>[z(h,{size:"small",onClick:l[1]||(l[1]=N=>a.$refs.importInput.click()),class:"compact-btn"},{default:U(()=>[z(v,null,{default:U(()=>[z(b)]),_:1})]),_:1}),z(h,{size:"small",onClick:r,class:"compact-btn"},{default:U(()=>[z(v,null,{default:U(()=>[z(k)]),_:1})]),_:1})]),_:1})])]),fe("div",qI,[(me(!0),_e(xt,null,Nt(V(e).currentGroup.items,N=>(me(),_e("div",{key:N.id,class:"mb-2 quick-send-item"},[fe("div",FI,[z(h,{size:"small",type:"primary",onClick:K=>V(e).sendData(N)},{default:U(()=>[Ce(it(N.name),1)]),_:2},1032,["onClick"]),z(_,{modelValue:N.content,"onUpdate:modelValue":K=>N.content=K,size:"small",placeholder:"请输入发送内容",class:"flex-grow"},null,8,["modelValue","onUpdate:modelValue"]),z(d,null,{default:U(()=>[z(M,{placement:"bottom",width:300,trigger:"click"},{reference:U(()=>[z(h,{size:"small"},{default:U(()=>[z(v,null,{default:U(()=>[z(T)]),_:1})]),_:1})]),default:U(()=>[fe("div",HI,[fe("div",jI,[l[7]||(l[7]=fe("span",null,"指令名称：",-1)),z(_,{modelValue:N.name,"onUpdate:modelValue":K=>N.name=K,placeholder:"名称",size:"small",style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"])]),fe("div",UI,[l[10]||(l[10]=fe("span",null,"数据类型：",-1)),z(w,{modelValue:N.type,"onUpdate:modelValue":K=>N.type=K,size:"small"},{default:U(()=>[z($,{value:"text"},{default:U(()=>l[8]||(l[8]=[Ce("文本")])),_:1}),z($,{value:"hex"},{default:U(()=>l[9]||(l[9]=[Ce("HEX")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),fe("div",GI,[l[11]||(l[11]=fe("span",null,"添加换行：",-1)),z(c,{modelValue:N.addCRLFType,"onUpdate:modelValue":K=>N.addCRLFType=K,size:"small",style:{width:"80px"}},{default:U(()=>[z(u,{value:"",label:"无"}),z(u,{value:`\r
`,label:"CRLF(\\r\\n)"}),z(u,{value:"\r",label:"CR(\\r)"}),z(u,{value:`
`,label:"LF(\\n)"}),z(u,{value:`

`,label:"LF2(\\n\\n)"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),fe("div",WI,[l[12]||(l[12]=fe("span",null,"定时发送：",-1)),z(Q,{class:"box-item",effect:"dark",content:"间隔(ms)",placement:"bottom"},{default:U(()=>[z(R,{modelValue:V(e).autoSendInterval,"onUpdate:modelValue":l[2]||(l[2]=K=>V(e).autoSendInterval=K),min:100,max:1e4,size:"small",style:{width:"120px"},class:"me-2"},null,8,["modelValue"])]),_:1}),z(h,{size:"small",type:V(e).autoSendIntervals[N.id]?"success":"default",onClick:K=>V(e).toggleAutoSend(N)},{default:U(()=>[Ce(it(V(e).autoSendIntervals[N.id]?"停止":"开始"),1)]),_:2},1032,["type","onClick"])])])]),_:2},1024),z(h,{size:"small",type:"danger",onClick:K=>V(e).removeItem(N.id)},{default:U(()=>[z(v,null,{default:U(()=>[z(B)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])]))),128))])])}}}),KI=yn(YI,[["__scopeId","data-v-a0ddafa7"]]);let Sf=[],i5=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?i5:Sf).push(t=t+n[e])})();function JI(n){if(n<768)return!1;for(let e=0,t=Sf.length;;){let i=e+t>>1;if(n<Sf[i])t=i;else if(n>=i5[i])e=i+1;else return!0;if(e==t)return!1}}function Cv(n){return n>=127462&&n<=127487}const Ev=8205;function eN(n,e,t=!0,i=!0){return(t?r5:tN)(n,e,i)}function r5(n,e,t){if(e==n.length)return e;e&&s5(n.charCodeAt(e))&&o5(n.charCodeAt(e-1))&&e--;let i=rd(n,e);for(e+=Qv(i);e<n.length;){let r=rd(n,e);if(i==Ev||r==Ev||t&&JI(r))e+=Qv(r),i=r;else if(Cv(r)){let s=0,o=e-2;for(;o>=0&&Cv(rd(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function tN(n,e,t){for(;e>0;){let i=r5(n,e-2,t);if(i<e)return i;e--}return 0}function rd(n,e){let t=n.charCodeAt(e);if(!o5(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return s5(i)?(t-55296<<10)+(i-56320)+65536:t}function s5(n){return n>=56320&&n<57344}function o5(n){return n>=55296&&n<56320}function Qv(n){return n<65536?1:2}class Pt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=ea(this,e,t);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),qi.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=ea(this,e,t);let i=[];return this.decompose(e,t,i,0),qi.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new Ja(this),s=new Ja(e);for(let o=t,a=t;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new Ja(this,e)}iterRange(e,t=this.length){return new a5(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new l5(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Pt.empty:e.length<=32?new nn(e):qi.from(nn.split(e,[]))}}class nn extends Pt{constructor(e,t=nN(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((t?i:a)>=e)return new iN(r,a,i,o);r=a+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new nn(Rv(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),a=lc(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new nn(a,o.length+s.length));else{let l=a.length>>1;i.push(new nn(a.slice(0,l)),new nn(a.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof nn))return super.replace(e,t,i);[e,t]=ea(this,e,t);let r=lc(this.text,lc(i.text,Rv(this.text,0,e)),t),s=this.length+i.length-(t-e);return r.length<=32?new nn(r,s):qi.from(nn.split(r,[]),s)}sliceString(e,t=this.length,i=`
`){[e,t]=ea(this,e,t);let r="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&t>s&&(r+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(t.push(new nn(i,r)),i=[],r=-1);return r>-1&&t.push(new nn(i,r)),t}}class qi extends Pt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=i+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,i,r);r=a+1,i=l+1}}decompose(e,t,i,r){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let u=r&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!u?i.push(a):a.decompose(e-o,t-o,i,u)}o=l+1}}replace(e,t,i){if([e,t]=ea(this,e,t),i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,i),u=this.lines-o.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[r]=l,new qi(c,this.length-(t-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=ea(this,e,t);let r="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&t>o&&(r+=a.sliceString(e-o,t-o,i)),o=l+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof qi))return 0;let i=0,[r,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==o||s==a)return i;let l=this.children[r],u=e.children[s];if(l!=u)return i+l.scanIdentical(u,t);i+=l.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let m of e)i+=m.lines;if(i<32){let m=[];for(let v of e)v.flatten(m);return new nn(m,t)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,a=[],l=0,u=-1,c=[];function h(m){let v;if(m.lines>s&&m instanceof qi)for(let b of m.children)h(b);else m.lines>o&&(l>o||!l)?(d(),a.push(m)):m instanceof nn&&l&&(v=c[c.length-1])instanceof nn&&m.lines+v.lines<=32?(l+=m.lines,u+=m.length+1,c[c.length-1]=new nn(v.text.concat(m.text),v.length+1+m.length)):(l+m.lines>r&&d(),l+=m.lines,u+=m.length+1,c.push(m))}function d(){l!=0&&(a.push(c.length==1?c[0]:qi.from(c,u)),u=-1,l=c.length=0)}for(let m of e)h(m);return d(),a.length==1?a[0]:new qi(a,t)}}Pt.empty=new nn([""],0);function nN(n){let e=-1;for(let t of n)e+=t.length+1;return e}function lc(n,e,t=0,i=1e9){for(let r=0,s=0,o=!0;s<n.length&&r<=i;s++){let a=n[s],l=r+a.length;l>=t&&(l>i&&(a=a.slice(0,i-r)),r<t&&(a=a.slice(t-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function Rv(n,e,t){return lc(n,[""],e,t)}class Ja{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof nn?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,a=r instanceof nn?r.text.length:r.children.length;if(o==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof nn){let l=r.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof nn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class a5{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Ja(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class l5{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Pt.prototype[Symbol.iterator]=function(){return this.iter()},Ja.prototype[Symbol.iterator]=a5.prototype[Symbol.iterator]=l5.prototype[Symbol.iterator]=function(){return this});class iN{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}function ea(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function In(n,e,t=!0,i=!0){return eN(n,e,t,i)}function rN(n){return n>=56320&&n<57344}function sN(n){return n>=55296&&n<56320}function oN(n,e){let t=n.charCodeAt(e);if(!sN(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return rN(i)?(t-55296<<10)+(i-56320)+65536:t}function aN(n){return n<65536?1:2}const kf=/\r\n?|\n/;var zn=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(zn||(zn={}));class Ar{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,t=!1){_f(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new Ar(e)}composeDesc(e){return this.empty?e:e.empty?this:u5(this,e)}mapDesc(e,t=!1){return e.empty?this:$f(this,e,t)}mapPos(e,t=-1,i=zn.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=r+a;if(l<0){if(u>e)return s+(e-r);s+=a}else{if(i!=zn.Simple&&u>=e&&(i==zn.TrackDel&&r<e&&u>e||i==zn.TrackBefore&&r<e||i==zn.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!a)return e==r||t<0?s:s+l;s+=l}r=u}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let s=this.sections[i++],o=this.sections[i++],a=r+s;if(o>=0&&r<=t&&a>=e)return r<e&&a>t?"cover":!0;r=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ar(e)}static create(e){return new Ar(e)}}class On extends Ar{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return _f(this,(t,i,r,s,o)=>e=e.replace(r,r+(i-t),o),!1),e}mapDesc(e,t=!1){return $f(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,s=0;r<t.length;r+=2){let o=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=o;let l=r>>1;for(;i.length<l;)i.push(Pt.empty);i.push(o?e.slice(s,s+o):Pt.empty)}s+=o}return new On(t,i)}compose(e){return this.empty?e:e.empty?this:u5(this,e,!0)}map(e,t=!1){return e.empty?this:$f(this,e,t,!0)}iterChanges(e,t=!1){_f(this,e,t)}get desc(){return Ar.create(this.sections)}filter(e){let t=[],i=[],r=[],s=new xl(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);_n(r,c,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;_n(t,c,h),h>0&&cs(i,t,s.text),s.forward(c),a+=c}let u=e[o++];for(;a<u;){if(s.done)break e;let c=Math.min(s.len,u-a);_n(t,c,-1),_n(r,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new On(t,i),filtered:Ar.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!r.length)return;o<t&&_n(r,t-o,-1);let h=new On(r,s);a=a?a.compose(h.map(a)):h,r=[],s=[],o=0}function u(c){if(Array.isArray(c))for(let h of c)u(h);else if(c instanceof On){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:h,to:d=h,insert:m}=c;if(h>d||h<0||d>t)throw new RangeError(`Invalid change range ${h} to ${d} (in doc of length ${t})`);let v=m?typeof m=="string"?Pt.of(m.split(i||kf)):m:Pt.empty,b=v.length;if(h==d&&b==0)return;h<o&&l(),h>o&&_n(r,h-o,-1),_n(r,d-h,b),cs(s,r,v),o=d}}return u(e),l(!a),a}static empty(e){return new On(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<r;)i.push(Pt.empty);i[r]=Pt.of(s.slice(1)),t.push(s[0],i[r].length)}}}return new On(t,i)}static createSet(e,t){return new On(e,t)}}function _n(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:r>=0&&e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function cs(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(Pt.empty);n.push(t)}}function _f(n,e,t){let i=n.inserted;for(let r=0,s=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)r+=a,s+=a;else{let u=r,c=s,h=Pt.empty;for(;u+=a,c+=l,l&&i&&(h=h.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(r,u,s,c,h),r=u,s=c}}}function $f(n,e,t,i=!1){let r=[],s=i?[]:null,o=new xl(n),a=new xl(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);_n(r,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let u=a.len;for(_n(r,a.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=c&&(_n(r,0,o.ins),s&&cs(s,r,o.text),l=o.i),o.forward(c),u-=c}a.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(a.ins==-1){let h=Math.min(c,a.len);u+=h,c-=h,a.forward(h)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;_n(r,u,l<o.i?o.ins:0),s&&l<o.i&&cs(s,r,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?On.createSet(r,s):Ar.create(r);throw new Error("Mismatched change set lengths")}}}function u5(n,e,t=!1){let i=[],r=t?[]:null,s=new xl(n),o=new xl(e);for(let a=!1;;){if(s.done&&o.done)return r?On.createSet(i,r):Ar.create(i);if(s.ins==0)_n(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)_n(i,0,o.ins,a),r&&cs(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=i.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;_n(i,l,c,a),r&&c&&cs(r,i,o.text)}else o.ins==-1?(_n(i,s.off?0:s.len,l,a),r&&cs(r,i,s.textBit(l))):(_n(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&cs(r,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>u),s.forward2(l),o.forward(l)}}}}class xl{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Pt.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?Pt.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class qs{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new qs(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Pe.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Pe.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Pe.range(e.anchor,e.head)}static create(e,t,i){return new qs(e,t,i)}}class Pe{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Pe.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Pe([this.main],0)}addRange(e,t=!0){return Pe.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,Pe.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Pe(e.ranges.map(t=>qs.fromJSON(t)),e.main)}static single(e,t=e){return new Pe([Pe.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return Pe.normalized(e.slice(),t);i=s.to}return new Pe(e,t)}static cursor(e,t=0,i,r){return qs.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,t,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?qs.create(t,e,48|s):qs.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?Pe.range(l,a):Pe.range(a,l))}}return new Pe(e,t)}}function c5(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let fm=0;class ot{constructor(e,t,i,r,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=fm++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new ot(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:pm),!!e.static,e.enables)}of(e){return new uc([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new uc(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new uc(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function pm(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class uc{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=fm++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,c=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?u=!0:((t=e[h.id])!==null&&t!==void 0?t:1)&1||c.push(e[h.id]);return{create(h){return h.values[o]=i(h),1},update(h,d){if(l&&d.docChanged||u&&(d.docChanged||d.selection)||Af(h,c)){let m=i(h);if(a?!zv(m,h.values[o],r):!r(m,h.values[o]))return h.values[o]=m,1}return 0},reconfigure:(h,d)=>{let m,v=d.config.address[s];if(v!=null){let b=Uc(d,v);if(this.dependencies.every(k=>k instanceof ot?d.facet(k)===h.facet(k):k instanceof ks?d.field(k,!1)==h.field(k,!1):!0)||(a?zv(m=i(h),b,r):r(m=i(h),b)))return h.values[o]=b,0}else m=i(h);return h.values[o]=m,1}}}}function zv(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Af(n,e){let t=!1;for(let i of e)el(n,i)&1&&(t=!0);return t}function lN(n,e,t){let i=t.map(l=>n[l.id]),r=t.map(l=>l.type),s=i.filter(l=>!(l&1)),o=n[e.id]>>1;function a(l){let u=[];for(let c=0;c<i.length;c++){let h=Uc(l,i[c]);if(r[c]==2)for(let d of h)u.push(d);else u.push(h)}return e.combine(u)}return{create(l){for(let u of i)el(l,u);return l.values[o]=a(l),1},update(l,u){if(!Af(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,u){let c=Af(l,i),h=u.config.facets[e.id],d=u.facet(e);if(h&&!c&&pm(t,h))return l.values[o]=d,0;let m=a(l);return e.compare(m,d)?(l.values[o]=d,0):(l.values[o]=m,1)}}}const Tu=ot.define({static:!0});class ks{constructor(e,t,i,r,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new ks(fm++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Tu).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let s=i.values[t],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,r)=>{let s=i.facet(Tu),o=r.facet(Tu),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(i.values[t]=a.create(i),1):r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,Tu.of({field:this,create:e})]}get extension(){return this}}const Ds={lowest:4,low:3,default:2,high:1,highest:0};function Sa(n){return e=>new h5(e,n)}const Zh={highest:Sa(Ds.highest),high:Sa(Ds.high),default:Sa(Ds.default),low:Sa(Ds.low),lowest:Sa(Ds.lowest)};class h5{constructor(e,t){this.inner=e,this.prec=t}}class Bh{of(e){return new Tf(this,e)}reconfigure(e){return Bh.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Tf{constructor(e,t){this.compartment=e,this.inner=t}}class jc{constructor(e,t,i,r,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],s=Object.create(null),o=new Map;for(let d of uN(e,t,o))d instanceof ks?r.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],u=[];for(let d of r)a[d.id]=u.length<<1,u.push(m=>d.slot(m));let c=i==null?void 0:i.config.facets;for(let d in s){let m=s[d],v=m[0].facet,b=c&&c[d]||[];if(m.every(k=>k.type==0))if(a[v.id]=l.length<<1|1,pm(b,m))l.push(i.facet(v));else{let k=v.combine(m.map(_=>_.value));l.push(i&&v.compare(k,i.facet(v))?i.facet(v):k)}else{for(let k of m)k.type==0?(a[k.id]=l.length<<1|1,l.push(k.value)):(a[k.id]=u.length<<1,u.push(_=>k.dynamicSlot(_)));a[v.id]=u.length<<1,u.push(k=>lN(k,v,m))}}let h=u.map(d=>d(a));return new jc(e,o,h,a,l,s)}}function uN(n,e,t){let i=[[],[],[],[],[]],r=new Map;function s(o,a){let l=r.get(o);if(l!=null){if(l<=a)return;let u=i[l].indexOf(o);u>-1&&i[l].splice(u,1),o instanceof Tf&&t.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof Tf){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;t.set(o.compartment,u),s(u,a)}else if(o instanceof h5)s(o.inner,o.prec);else if(o instanceof ks)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof uc)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,Ds.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(n,Ds.default),i.reduce((o,a)=>o.concat(a))}function el(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function Uc(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const d5=ot.define(),Pf=ot.define({combine:n=>n.some(e=>e),static:!0}),f5=ot.define({combine:n=>n.length?n[0]:void 0,static:!0}),p5=ot.define(),m5=ot.define(),g5=ot.define(),v5=ot.define({combine:n=>n.length?n[0]:!1});class co{constructor(e,t){this.type=e,this.value=t}static define(){return new cN}}class cN{of(e){return new co(this,e)}}class hN{constructor(e){this.map=e}of(e){return new en(this,e)}}class en{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new en(this.type,t)}is(e){return this.type==e}static define(e={}){return new hN(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(t);s&&i.push(s)}return i}}en.reconfigure=en.define();en.appendConfig=en.define();class Sn{constructor(e,t,i,r,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&c5(i,t.newLength),s.some(a=>a.type==Sn.time)||(this.annotations=s.concat(Sn.time.of(Date.now())))}static create(e,t,i,r,s,o){return new Sn(e,t,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Sn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Sn.time=co.define();Sn.userEvent=co.define();Sn.addToHistory=co.define();Sn.remote=co.define();function dN(n,e){let t=[];for(let i=0,r=0;;){let s,o;if(i<n.length&&(r==e.length||e[r]>=n[i]))s=n[i++],o=n[i++];else if(r<e.length)s=e[r++],o=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function O5(n,e,t){var i;let r,s,o;return t?(r=e.changes,s=On.empty(e.changes.length),o=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:en.mapEffects(n.effects,r).concat(en.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Mf(n,e,t){let i=e.selection,r=Lo(e.annotations);return e.userEvent&&(r=r.concat(Sn.userEvent.of(e.userEvent))),{changes:e.changes instanceof On?e.changes:On.of(e.changes||[],t,n.facet(f5)),selection:i&&(i instanceof Pe?i:Pe.single(i.anchor,i.head)),effects:Lo(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function y5(n,e,t){let i=Mf(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=O5(i,Mf(n,e[s],o?i.changes.newLength:n.doc.length),o)}let r=Sn.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return pN(t?fN(r):r)}function fN(n){let e=n.startState,t=!0;for(let r of e.facet(p5)){let s=r(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:dN(t,s))}if(t!==!0){let r,s;if(t===!1)s=n.changes.invertedDesc,r=On.empty(e.doc.length);else{let o=n.changes.filter(t);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=Sn.create(e,r,n.selection&&n.selection.map(s),en.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(m5);for(let r=i.length-1;r>=0;r--){let s=i[r](n);s instanceof Sn?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Sn?n=s[0]:n=y5(e,Lo(s),!1)}return n}function pN(n){let e=n.startState,t=e.facet(g5),i=n;for(let r=t.length-1;r>=0;r--){let s=t[r](n);s&&Object.keys(s).length&&(i=O5(i,Mf(e,s,n.changes.newLength),!0))}return i==n?n:Sn.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const mN=[];function Lo(n){return n==null?mN:Array.isArray(n)?n:[n]}var kr=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(kr||(kr={}));const gN=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Cf;try{Cf=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function vN(n){if(Cf)return Cf.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||gN.test(t)))return!0}return!1}function ON(n){return e=>{if(!/\S/.test(e))return kr.Space;if(vN(e))return kr.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return kr.Word;return kr.Other}}class Ct{constructor(e,t,i,r,s,o){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)el(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return el(this,i),Uc(this,i)}update(...e){return y5(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let a of e.effects)a.is(Bh.reconfigure)?(t&&(r=new Map,t.compartments.forEach((l,u)=>r.set(u,l)),t=null),r.set(a.value.compartment,a.value.extension)):a.is(en.reconfigure)?(t=null,i=a.value):a.is(en.appendConfig)&&(t=null,i=Lo(i).concat(a.value));let s;t?s=e.startState.values.slice():(t=jc.resolve(i,r,this),s=new Ct(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let o=e.startState.facet(Pf)?e.newSelection:e.newSelection.asSingle();new Ct(t,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Pe.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),s=[i.range],o=Lo(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),u=this.changes(l.changes),c=u.map(r);for(let d=0;d<a;d++)s[d]=s[d].map(c);let h=r.mapDesc(u,!0);s.push(l.range.map(h)),r=r.compose(c),o=en.mapEffects(o,c).concat(en.mapEffects(Lo(l.effects),h))}return{changes:r,selection:Pe.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof On?e:On.of(e,this.doc.length,this.facet(Ct.lineSeparator))}toText(e){return Pt.of(e.split(this.facet(Ct.lineSeparator)||kf))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(el(this,t),Uc(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof ks&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];r.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Ct.create({doc:e.doc,selection:Pe.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=jc.resolve(e.extensions||[],new Map),i=e.doc instanceof Pt?e.doc:Pt.of((e.doc||"").split(t.staticFacet(Ct.lineSeparator)||kf)),r=e.selection?e.selection instanceof Pe?e.selection:Pe.single(e.selection.anchor,e.selection.head):Pe.single(0);return c5(r,i.length),t.staticFacet(Pf)||(r=r.asSingle()),new Ct(t,i,r,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Ct.tabSize)}get lineBreak(){return this.facet(Ct.lineSeparator)||`
`}get readOnly(){return this.facet(v5)}phrase(e,...t){for(let i of this.facet(Ct.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let s of this.facet(d5))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return ON(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=In(t,o,!1);if(s(t.slice(l,o))!=kr.Word)break;o=l}for(;a<r;){let l=In(t,a);if(s(t.slice(a,l))!=kr.Word)break;a=l}return o==a?null:Pe.range(o+i,a+i)}}Ct.allowMultipleSelections=Pf;Ct.tabSize=ot.define({combine:n=>n.length?n[0]:4});Ct.lineSeparator=f5;Ct.readOnly=v5;Ct.phrases=ot.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});Ct.languageData=d5;Ct.changeFilter=p5;Ct.transactionFilter=m5;Ct.transactionExtender=g5;Bh.reconfigure=en.define();function yN(n,e,t={}){let i={};for(let r of n)for(let s of Object.keys(r)){let o=r[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class no{eq(e){return this==e}range(e,t=e){return Ef.create(e,t,this)}}no.prototype.startSide=no.prototype.endSide=0;no.prototype.point=!1;no.prototype.mapMode=zn.TrackDel;let Ef=class b5{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new b5(e,t,i)}};function Qf(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class mm{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let s=i?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,t,i,r){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,h=this.to[l]+e,d,m;if(c==h){let v=t.mapPos(c,u.startSide,u.mapMode);if(v==null||(d=m=v,u.startSide!=u.endSide&&(m=t.mapPos(c,u.endSide),m<d)))continue}else if(d=t.mapPos(c,u.startSide),m=t.mapPos(h,u.endSide),d>m||d==m&&u.startSide>0&&u.endSide<=0)continue;(m-d||u.endSide-u.startSide)<0||(o<0&&(o=d),u.point&&(a=Math.max(a,m-d)),i.push(u),r.push(d-o),s.push(m-o))}return{mapped:i.length?new mm(r,s,i,a):null,pos:o}}}class zt{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new zt(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(Qf)),this.isEmpty)return t.length?zt.of(t):this;let a=new w5(this,null,-1).goto(0),l=0,u=[],c=new Sl;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let h=t[l++];c.addInner(h.from,h.to,h.value)||u.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||u.push(Ef.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?zt.empty:this.nextLayer.update({add:u,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)r=Math.max(r,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(u===!0){let{mapped:c,pos:h}=l.map(a,e);c&&(r=Math.max(r,c.maxPoint),t.push(c),i.push(h))}}let s=this.nextLayer.map(e);return t.length==0?s:new zt(i,t,s||zt.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return kl.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return kl.from(e).goto(t)}static compare(e,t,i,r,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=Dv(o,a,i),u=new ka(o,l,s),c=new ka(a,l,s);i.iterGaps((h,d,m)=>Iv(u,h,c,d,m,r)),i.empty&&i.length==0&&Iv(u,0,c,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=999999999);let s=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0),o=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Dv(s,o),l=new ka(s,a,0).goto(i),u=new ka(o,a,0).goto(i);for(;;){if(l.to!=u.to||!Rf(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>r)return!0;l.next(),u.next()}}static spans(e,t,i,r,s=-1){let o=new ka(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let u=Math.min(o.to,i);if(o.point){let c=o.activeForPoint(o.to),h=o.pointFrom<t?c.length+1:o.point.startSide<0?c.length:Math.min(c.length,l);r.point(a,u,o.point,c,h,o.pointRank),l=Math.min(o.openEnd(u),c.length)}else u>a&&(r.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,t=!1){let i=new Sl;for(let r of e instanceof Ef?[e]:t?bN(e):e)i.add(r.from,r.to,r.value);return i.finish()}static join(e){if(!e.length)return zt.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let r=e[i];r!=zt.empty;r=r.nextLayer)t=new zt(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}zt.empty=new zt([],[],null,-1);function bN(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Qf(e,i)>0)return n.slice().sort(Qf);e=i}return n}zt.empty.nextLayer=zt.empty;class Sl{finishChunk(e){this.chunks.push(new mm(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Sl)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(zt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=zt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Dv(n,e,t){let i=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class w5{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class kl{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new w5(o,t,i,s));return r.length==1?r[0]:new kl(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)sd(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)sd(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),sd(this.heap,0)}}}function sd(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class ka{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=kl.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Pu(this.active,e),Pu(this.activeTo,e),Pu(this.activeRank,e),this.minActive=Nv(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||r-this.activeTo[t])>0;)t++;Mu(this.active,t,i),Mu(this.activeTo,t,r),Mu(this.activeRank,t,s),e&&Mu(e,t,this.cursor.from),this.minActive=Nv(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Pu(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function Iv(n,e,t,i,r,s){n.goto(e),t.goto(i);let o=i+r,a=i,l=i-e;for(;;){let u=n.to+l-t.to,c=u||n.endSide-t.endSide,h=c<0?n.to+l:t.to,d=Math.min(h,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Rf(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(a,d,n.point,t.point):d>a&&!Rf(n.active,t.active)&&s.compareRange(a,d,n.active,t.active),h>o)break;(u||n.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(h),a=h,c<=0&&n.next(),c>=0&&t.next()}}function Rf(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Pu(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Mu(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function Nv(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function Vh(n,e,t=n.length){let i=0;for(let r=0;r<t&&r<n.length;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=In(n,r));return i}function wN(n,e,t,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==n.length)break;s+=n.charCodeAt(r)==9?t-s%t:1,r=In(n,r)}return n.length}const zf="ͼ",Lv=typeof Symbol>"u"?"__"+zf:Symbol.for(zf),Df=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Os{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let c=[],h=/^@(\w+)\b/.exec(o[0]),d=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let m in a){let v=a[m];if(/&/.test(m))s(m.split(/,\s*/).map(b=>o.map(k=>b.replace(/&/,k))).reduce((b,k)=>b.concat(k)),v,l);else if(v&&typeof v=="object"){if(!h)throw new RangeError("The value of a property ("+m+") should be a primitive value.");s(r(m),v,c,d)}else v!=null&&c.push(m.replace(/_.*/,"").replace(/[A-Z]/g,b=>"-"+b.toLowerCase())+": "+v+";")}(c.length||d)&&l.push((i&&!h&&!u?o.map(i):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Zv[Lv]||1;return Zv[Lv]=e+1,zf+e.toString(36)}static mount(e,t,i){let r=e[Df],s=i&&i.nonce;r?s&&r.setNonce(s):r=new xN(e,s),r.mount(Array.isArray(t)?t:[t],e)}}let Bv=new Map;class xN{constructor(e,t){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=Bv.get(i);if(s)return e[Df]=s;this.sheet=new r.CSSStyleSheet,Bv.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[Df]=this}mount(e,t){let i=this.sheet,r=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),i)for(let u=0;u<a.rules.length;u++)i.insertRule(a.rules[u],r++)}else{for(;s<l;)r+=this.modules[s++].rules.length;r+=a.rules.length,s++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ys={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_l={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},SN=typeof navigator<"u"&&/Mac/.test(navigator.platform),kN=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var xn=0;xn<10;xn++)ys[48+xn]=ys[96+xn]=String(xn);for(var xn=1;xn<=24;xn++)ys[xn+111]="F"+xn;for(var xn=65;xn<=90;xn++)ys[xn]=String.fromCharCode(xn+32),_l[xn]=String.fromCharCode(xn);for(var od in ys)_l.hasOwnProperty(od)||(_l[od]=ys[od]);function _N(n){var e=SN&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||kN&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?_l:ys)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function $l(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function If(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function cc(n,e){if(!e.anchorNode)return!1;try{return If(n,e.anchorNode)}catch{return!1}}function Al(n){return n.nodeType==3?ro(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function tl(n,e,t,i){return t?Vv(n,e,t,i,-1)||Vv(n,e,t,i,1):!1}function io(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Gc(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function Vv(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:Ji(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=io(n)+(r<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?Ji(n):0}else return!1}}function Ji(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Xh(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function $N(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function x5(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function AN(n,e,t,i,r,s,o,a){let l=n.ownerDocument,u=l.defaultView||window;for(let c=n,h=!1;c&&!h;)if(c.nodeType==1){let d,m=c==l.body,v=1,b=1;if(m)d=$N(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let T=c.getBoundingClientRect();({scaleX:v,scaleY:b}=x5(c,T)),d={left:T.left,right:T.left+c.clientWidth*v,top:T.top,bottom:T.top+c.clientHeight*b}}let k=0,_=0;if(r=="nearest")e.top<d.top?(_=-(d.top-e.top+o),t>0&&e.bottom>d.bottom+_&&(_=e.bottom-d.bottom+_+o)):e.bottom>d.bottom&&(_=e.bottom-d.bottom+o,t<0&&e.top-_<d.top&&(_=-(d.top+_-e.top+o)));else{let T=e.bottom-e.top,$=d.bottom-d.top;_=(r=="center"&&T<=$?e.top+T/2-$/2:r=="start"||r=="center"&&t<0?e.top-o:e.bottom-$+o)-d.top}if(i=="nearest"?e.left<d.left?(k=-(d.left-e.left+s),t>0&&e.right>d.right+k&&(k=e.right-d.right+k+s)):e.right>d.right&&(k=e.right-d.right+s,t<0&&e.left<d.left+k&&(k=-(d.left+k-e.left+s))):k=(i=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:i=="start"==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,k||_)if(m)u.scrollBy(k,_);else{let T=0,$=0;if(_){let w=c.scrollTop;c.scrollTop+=_/b,$=(c.scrollTop-w)*b}if(k){let w=c.scrollLeft;c.scrollLeft+=k/v,T=(c.scrollLeft-w)*v}e={left:e.left-T,top:e.top-$,right:e.right-T,bottom:e.bottom-$},T&&Math.abs(T-k)<1&&(i="nearest"),$&&Math.abs($-_)<1&&(r="nearest")}if(m)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function TN(n){let e=n.ownerDocument,t,i;for(let r=n.parentNode;r&&!(r==e.body||t&&i);)if(r.nodeType==1)!i&&r.scrollHeight>r.clientHeight&&(i=r),!t&&r.scrollWidth>r.clientWidth&&(t=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:t,y:i}}class PN{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?Ji(t):0),i,Math.min(e.focusOffset,i?Ji(i):0))}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let xo=null;function S5(n){if(n.setActive)return n.setActive();if(xo)return n.focus(xo);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(xo==null?{get preventScroll(){return xo={preventScroll:!0},!0}}:void 0),!xo){xo=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],s=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Xv;function ro(n,e,t=e){let i=Xv||(Xv=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Zo(n,e,t,i){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,n.dispatchEvent(s);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,n.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function MN(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function k5(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function CN(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,Ji(t));;)if(i){if(t.nodeType!=1)return!1;let r=t.childNodes[i-1];r.contentEditable=="false"?i--:(t=r,i=Ji(t))}else{if(t==n)return!0;i=io(t),t=t.parentNode}}function _5(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function $5(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=Ji(t)}else if(t.parentNode&&!Gc(t))i=io(t),t=t.parentNode;else return null}}function A5(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!Gc(t))i=io(t)+1,t=t.parentNode;else return null}}class $n{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new $n(e.parentNode,io(e),t)}static after(e,t){return new $n(e.parentNode,io(e)+1,t)}}const gm=[];class Bt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:i.firstChild)){let a=Bt.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=r?r.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=qv(s);else i.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=qv(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=Ji(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Bt.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,u=i,c=i;l<this.children.length;l++){let h=this.children[l],d=u+h.length;if(u<e&&d>t)return h.domBoundsAround(e,t,u);if(d>=e&&r==-1&&(r=l,s=u),u>t&&h.dom.parentNode==this.dom){o=l,a=c;break}c=d,u=d+h.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=gm){this.markDirty();for(let r=e;r<t;r++){let s=this.children[r];s.parent==this&&i.indexOf(s)<0&&s.destroy()}i.length<250?this.children.splice(e,t-e,...i):this.children=[].concat(this.children.slice(0,e),i,this.children.slice(t));for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new T5(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Bt.prototype.breakAfter=0;function qv(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class T5{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function P5(n,e,t,i,r,s,o,a,l){let{children:u}=n,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,d=h?h.breakAfter:o;if(!(e==i&&c&&!o&&!d&&s.length<2&&c.merge(t,r,s.length?h:null,t==0,a,l))){if(i<u.length){let m=u[i];m&&(r<m.length||m.breakAfter&&(h!=null&&h.breakAfter))?(e==i&&(m=m.split(r),r=0),!d&&h&&m.merge(0,r,h,!0,0,l)?s[s.length-1]=m:((r||m.children.length&&!m.children[0].length)&&m.merge(0,r,null,!1,0,l),s.push(m))):m!=null&&m.breakAfter&&(h?h.breakAfter=1:o=1),i++}for(c&&(c.breakAfter=o,t>0&&(!o&&s.length&&c.merge(t,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(t<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(t,c.length,null,!1,a,0),e++));e<i&&s.length;)if(u[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<u.length&&!u[e-1].breakAfter&&u[i].merge(0,0,u[e-1],!1,a,l)&&e--,(e<i||s.length)&&n.replaceChildren(e,i,s)}}function M5(n,e,t,i,r,s){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:u,off:c}=o.findPos(e,-1),h=e-t;for(let d of i)h+=d.length;n.length+=h,P5(n,u,c,a,l,i,0,r,s)}let Xn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Nf=typeof document<"u"?document:{documentElement:{style:{}}};const Lf=/Edge\/(\d+)/.exec(Xn.userAgent),C5=/MSIE \d/.test(Xn.userAgent),Zf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xn.userAgent),qh=!!(C5||Zf||Lf),Fv=!qh&&/gecko\/(\d+)/i.test(Xn.userAgent),ad=!qh&&/Chrome\/(\d+)/.exec(Xn.userAgent),Hv="webkitFontSmoothing"in Nf.documentElement.style,E5=!qh&&/Apple Computer/.test(Xn.vendor),jv=E5&&(/Mobile\/\w+/.test(Xn.userAgent)||Xn.maxTouchPoints>2);var Fe={mac:jv||/Mac/.test(Xn.platform),windows:/Win/.test(Xn.platform),linux:/Linux|X11/.test(Xn.platform),ie:qh,ie_version:C5?Nf.documentMode||6:Zf?+Zf[1]:Lf?+Lf[1]:0,gecko:Fv,gecko_version:Fv?+(/Firefox\/(\d+)/.exec(Xn.userAgent)||[0,0])[1]:0,chrome:!!ad,chrome_version:ad?+ad[1]:0,ios:jv,android:/Android\b/.test(Xn.userAgent),webkit:Hv,safari:E5,webkit_version:Hv?+(/\bAppleWebKit\/(\d+)/.exec(Xn.userAgent)||[0,0])[1]:0,tabSize:Nf.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const EN=256;class Ci extends Bt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof Ci)||this.length-(t-e)+i.length>EN||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Ci(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new $n(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return QN(this.dom,e,t)}}class Lr extends Bt{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(k5(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,r,s,o){return i&&(!(i instanceof Lr&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(M5(this,e,t,i?i.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=s),i=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Lr(this.mark,t,o)}domAtPos(e){return Q5(this,e)}coordsAt(e,t){return z5(this,e,t)}}function QN(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?Fe.chrome||Fe.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):t<0?r--:s<i&&s++;let a=ro(n,r,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return Fe.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?Xh(l,o<0):l||null}class Fs extends Bt{static create(e,t,i){return new Fs(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=Fs.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,r,s,o){return i&&(!(i instanceof Fs)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof Fs&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Pt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):Pt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?$n.before(this.dom):$n.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?r.length-1:0;s=r[a],!(e>0?a==0:a==r.length-1||s.top<s.bottom);a+=o?-1:1);return Xh(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ta extends Bt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ta&&e.side==this.side}split(){return new ta(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?$n.before(this.dom):$n.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Pt.empty}get isHidden(){return!0}}Ci.prototype.children=Fs.prototype.children=ta.prototype.children=gm;function Q5(n,e){let t=n.dom,{children:i}=n,r=0;for(let s=0;r<i.length;r++){let o=i[r],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=r;s>0;s--){let o=i[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=r;s<i.length;s++){let o=i[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new $n(t,0)}function R5(n,e,t){let i,{children:r}=n;t>0&&e instanceof Lr&&r.length&&(i=r[r.length-1])instanceof Lr&&i.mark.eq(e.mark)?R5(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function z5(n,e,t){let i=null,r=-1,s=null,o=-1;function a(u,c){for(let h=0,d=0;h<u.children.length&&d<=c;h++){let m=u.children[h],v=d+m.length;v>=c&&(m.children.length?a(m,c-d):(!s||s.isHidden&&t>0)&&(v>c||d==v&&m.getSide()>0)?(s=m,o=c-d):(d<c||d==v&&m.getSide()<0&&!m.isHidden)&&(i=m,r=c-d)),d=v}}a(n,e);let l=(t<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?r:o),t):RN(n)}function RN(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Al(e);return t[t.length-1]||null}function Bf(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Uv=Object.create(null);function Wc(n,e,t){if(n==e)return!0;n||(n=Uv),e||(e=Uv);let i=Object.keys(n),r=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=r.length-(t&&r.indexOf(t)>-1?1:0))return!1;for(let s of i)if(s!=t&&(r.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function Vf(n,e,t){let i=!1;if(e)for(let r in e)t&&r in t||(i=!0,r=="style"?n.style.cssText="":n.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(i=!0,r=="style"?n.style.cssText=t[r]:n.setAttribute(r,t[r]));return i}function zN(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class Fh{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var mi=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(mi||(mi={}));class sn extends no{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Zl(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new bs(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=D5(e,t);i=(s?t?-3e8:-1:5e8)-1,r=(o?t?2e8:1:-6e8)+1}return new bs(e,i,r,t,e.widget||null,!0)}static line(e){return new Bl(e)}static set(e,t=!1){return zt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}sn.none=zt.empty;class Zl extends sn{constructor(e){let{start:t,end:i}=D5(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof Zl&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&Wc(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Zl.prototype.point=!1;class Bl extends sn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Bl&&this.spec.class==e.spec.class&&Wc(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Bl.prototype.mapMode=zn.TrackBefore;Bl.prototype.point=!0;class bs extends sn{constructor(e,t,i,r,s,o){super(t,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?zn.TrackBefore:zn.TrackAfter:zn.TrackDel}get type(){return this.startSide!=this.endSide?mi.WidgetRange:this.startSide<=0?mi.WidgetBefore:mi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof bs&&DN(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}bs.prototype.point=!0;function D5(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function DN(n,e){return n==e||!!(n&&e&&n.compare(e))}function hc(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class on extends Bt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,s,o){if(i){if(!(i instanceof on))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),M5(this,e,t,i?i.children.slice():[],s,o),!0}split(e){let t=new on;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Wc(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){R5(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Bf(t,this.attrs||{})),i&&(this.attrs=Bf({class:i},this.attrs||{}))}domAtPos(e){return Q5(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(k5(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Vf(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&Bt.get(r)instanceof Lr;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=Bt.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!Fe.ios||!this.children.some(s=>s instanceof Ci))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof Ci)||/[^ -~]/.test(i.text))return null;let r=Al(i.dom);if(r.length!=1)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=z5(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return e instanceof on&&this.children.length==0&&e.children.length==0&&Wc(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=t){if(s instanceof on)return s;if(o>t)break}r=o+s.breakAfter}return null}}class Tr extends Bt{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,s,o){return i&&(!(i instanceof Tr)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?$n.before(this.dom):$n.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Tr(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return gm}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Pt.empty}domBoundsAround(){return null}become(e){return e instanceof Tr&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);return i||(this.widget instanceof Xf?null:Xh(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class Xf extends Fh{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class nl{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Tr&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new on),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Cu(new ta(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Tr)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Cu(new Ci(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof bs){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof bs)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Tr(i.widget||na.block,a,i));else{let l=Fs.create(i.widget||na.inline,a,a?0:i.startSide),u=this.atCursorPos&&!l.isEditable&&s<=r.length&&(e<t||i.startSide>0),c=!l.isEditable&&(e<t||s>r.length||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),u&&(h.append(Cu(new ta(1),r),s),s=r.length+Math.max(0,s-r.length)),h.append(Cu(l,r),s),this.atCursorPos=c,this.pendingBuffer=c?e<t||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,r,s){let o=new nl(e,t,i,s);return o.openEnd=zt.spans(r,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Cu(n,e){for(let t of e)n=new Lr(t,[n],n.length);return n}class na extends Fh{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}na.inline=new na("span");na.block=new na("div");var pn=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(pn||(pn={}));const so=pn.LTR,vm=pn.RTL;function I5(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const IN=I5("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),NN=I5("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),qf=Object.create(null),Di=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);qf[e]=t,qf[t]=-e}function N5(n){return n<=247?IN[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?NN[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const LN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class hs{get dir(){return this.level%2?vm:so}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==i)return o;(s<0||(r!=0?r<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function L5(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],r=e[t];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!L5(i.inner,r.inner))return!1}return!0}const Zt=[];function ZN(n,e,t,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:t,l=s?256:r;for(let u=o,c=l,h=l;u<a;u++){let d=N5(n.charCodeAt(u));d==512?d=c:d==8&&h==4&&(d=16),Zt[u]=d==4?2:d,d&7&&(h=d),c=d}for(let u=o,c=l,h=l;u<a;u++){let d=Zt[u];if(d==128)u<a-1&&c==Zt[u+1]&&c&24?d=Zt[u]=c:Zt[u]=256;else if(d==64){let m=u+1;for(;m<a&&Zt[m]==64;)m++;let v=u&&c==8||m<t&&Zt[m]==8?h==1?1:8:256;for(let b=u;b<m;b++)Zt[b]=v;u=m-1}else d==8&&h==1&&(Zt[u]=1);c=d,d&7&&(h=d)}}}function BN(n,e,t,i,r){let s=r==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let u=o?i[o-1].to:e,c=o<i.length?i[o].from:t;for(let h=u,d,m,v;h<c;h++)if(m=qf[d=n.charCodeAt(h)])if(m<0){for(let b=a-3;b>=0;b-=3)if(Di[b+1]==-m){let k=Di[b+2],_=k&2?r:k&4?k&1?s:r:0;_&&(Zt[h]=Zt[Di[b]]=_),a=b;break}}else{if(Di.length==189)break;Di[a++]=h,Di[a++]=d,Di[a++]=l}else if((v=Zt[h])==2||v==1){let b=v==r;l=b?0:1;for(let k=a-3;k>=0;k-=3){let _=Di[k+2];if(_&2)break;if(b)Di[k+2]|=2;else{if(_&4)break;Di[k+2]|=4}}}}}function VN(n,e,t,i){for(let r=0,s=i;r<=t.length;r++){let o=r?t[r-1].to:n,a=r<t.length?t[r].from:e;for(let l=o;l<a;){let u=Zt[l];if(u==256){let c=l+1;for(;;)if(c==a){if(r==t.length)break;c=t[r++].to,a=r<t.length?t[r].from:e}else if(Zt[c]==256)c++;else break;let h=s==1,d=(c<e?Zt[c]:i)==1,m=h==d?h?1:2:i;for(let v=c,b=r,k=b?t[b-1].to:n;v>l;)v==k&&(v=t[--b].from,k=b?t[b-1].to:n),Zt[--v]=m;l=c}else s=u,l++}}}function Ff(n,e,t,i,r,s,o){let a=i%2?2:1;if(i%2==r%2)for(let l=e,u=0;l<t;){let c=!0,h=!1;if(u==s.length||l<s[u].from){let b=Zt[l];b!=a&&(c=!1,h=b==16)}let d=!c&&a==1?[]:null,m=c?i:i+1,v=l;e:for(;;)if(u<s.length&&v==s[u].from){if(h)break e;let b=s[u];if(!c)for(let k=b.to,_=u+1;;){if(k==t)break e;if(_<s.length&&s[_].from==k)k=s[_++].to;else{if(Zt[k]==a)break e;break}}if(u++,d)d.push(b);else{b.from>l&&o.push(new hs(l,b.from,m));let k=b.direction==so!=!(m%2);Hf(n,k?i+1:i,r,b.inner,b.from,b.to,o),l=b.to}v=b.to}else{if(v==t||(c?Zt[v]!=a:Zt[v]==a))break;v++}d?Ff(n,l,v,i+1,r,d,o):l<v&&o.push(new hs(l,v,m)),l=v}else for(let l=t,u=s.length;l>e;){let c=!0,h=!1;if(!u||l>s[u-1].to){let b=Zt[l-1];b!=a&&(c=!1,h=b==16)}let d=!c&&a==1?[]:null,m=c?i:i+1,v=l;e:for(;;)if(u&&v==s[u-1].to){if(h)break e;let b=s[--u];if(!c)for(let k=b.from,_=u;;){if(k==e)break e;if(_&&s[_-1].to==k)k=s[--_].from;else{if(Zt[k-1]==a)break e;break}}if(d)d.push(b);else{b.to<l&&o.push(new hs(b.to,l,m));let k=b.direction==so!=!(m%2);Hf(n,k?i+1:i,r,b.inner,b.from,b.to,o),l=b.from}v=b.from}else{if(v==e||(c?Zt[v-1]!=a:Zt[v-1]==a))break;v--}d?Ff(n,v,l,i+1,r,d,o):v<l&&o.push(new hs(v,l,m)),l=v}}function Hf(n,e,t,i,r,s,o){let a=e%2?2:1;ZN(n,r,s,i,a),BN(n,r,s,i,a),VN(r,s,i,a),Ff(n,r,s,e,t,i,o)}function XN(n,e,t){if(!n)return[new hs(0,0,e==vm?1:0)];if(e==so&&!t.length&&!LN.test(n))return Z5(n.length);if(t.length)for(;n.length>Zt.length;)Zt[Zt.length]=256;let i=[],r=e==so?0:1;return Hf(n,r,r,t,0,n.length,i),i}function Z5(n){return[new hs(0,n,0)]}let B5="";function qN(n,e,t,i,r){var s;let o=i.head-n.from,a=hs.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),l=e[a],u=l.side(r,t);if(o==u){let d=a+=r?1:-1;if(d<0||d>=e.length)return null;l=e[a=d],o=l.side(!r,t),u=l.side(r,t)}let c=In(n.text,o,l.forward(r,t));(c<l.from||c>l.to)&&(c=u),B5=n.text.slice(Math.min(o,c),Math.max(o,c));let h=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return h&&c==u&&h.level+(r?0:1)<l.level?Pe.cursor(h.side(!r,t)+n.from,h.forward(r,t)?1:-1,h.level):Pe.cursor(c+n.from,l.forward(r,t)?-1:1,l.level)}function FN(n,e,t){for(let i=e;i<t;i++){let r=N5(n.charCodeAt(i));if(r==1)return so;if(r==2||r==4)return vm}return so}const V5=ot.define(),X5=ot.define(),q5=ot.define(),F5=ot.define(),jf=ot.define(),H5=ot.define(),j5=ot.define(),Om=ot.define(),ym=ot.define(),U5=ot.define({combine:n=>n.some(e=>e)}),HN=ot.define({combine:n=>n.some(e=>e)}),G5=ot.define();class Bo{constructor(e,t="nearest",i="nearest",r=5,s=5,o=!1){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Bo(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Bo(Pe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Eu=en.define({map:(n,e)=>n.map(e)}),W5=en.define();function Gi(n,e,t){let i=n.facet(F5);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const yr=ot.define({combine:n=>n.length?n[0]:!0});let jN=0;const Na=ot.define();class ws{constructor(e,t,i,r,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=r,this.extension=s(this)}static define(e,t){const{eventHandlers:i,eventObservers:r,provide:s,decorations:o}=t||{};return new ws(jN++,e,i,r,a=>{let l=[Na.of(a)];return o&&l.push(Tl.of(u=>{let c=u.plugin(a);return c?o(c):sn.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return ws.define(i=>new e(i),t)}}class ld{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Gi(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Gi(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Gi(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Y5=ot.define(),bm=ot.define(),Tl=ot.define(),K5=ot.define(),wm=ot.define(),J5=ot.define();function Gv(n,e){let t=n.state.facet(J5);if(!t.length)return t;let i=t.map(s=>s instanceof Function?s(n):s),r=[];return zt.spans(i,e.from,e.to,{point(){},span(s,o,a,l){let u=s-e.from,c=o-e.from,h=r;for(let d=a.length-1;d>=0;d--,l--){let m=a[d].spec.bidiIsolate,v;if(m==null&&(m=FN(e.text,u,c)),l>0&&h.length&&(v=h[h.length-1]).to==u&&v.direction==m)v.to=c,h=v.inner;else{let b={from:u,to:c,direction:m,inner:[]};h.push(b),h=b.inner}}}}),r}const e3=ot.define();function t3(n){let e=0,t=0,i=0,r=0;for(let s of n.state.facet(e3)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:t,top:i,bottom:r}}const La=ot.define();class gi{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new gi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,s=0,o=0,a=0;;r++){let l=r==e.length?null:e[r],u=o-a,c=l?l.fromB:1e9;for(;s<t.length&&t[s]<c;){let h=t[s],d=t[s+1],m=Math.max(a,h),v=Math.min(c,d);if(m<=v&&new gi(m+u,v+u,m,v).addToSet(i),d>c)break;s+=2}if(!l)return i;new gi(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class Yc{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=On.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,a,l)=>r.push(new gi(s,o,a,l))),this.changedRanges=r}static create(e,t,i){return new Yc(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Wv extends Bt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=sn.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new on],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new gi(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!eL(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?GN(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;i=new gi(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Fe.ie||Fe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=KN(o,a,e.changes);return i=gi.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Fe.chrome||Fe.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Tr&&o.widget instanceof Xf&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,t,i){let r=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=r.length-1;;o--){let a=o>=0?r[o]:null;if(!a)break;let{fromA:l,toA:u,fromB:c,toB:h}=a,d,m,v,b;if(i&&i.range.fromB<h&&i.range.toB>c){let w=nl.build(this.view.state.doc,c,i.range.fromB,this.decorations,this.dynamicDecorationMap),R=nl.build(this.view.state.doc,i.range.toB,h,this.decorations,this.dynamicDecorationMap);m=w.breakAtStart,v=w.openStart,b=R.openEnd;let Q=this.compositionView(i);R.breakAtStart?Q.breakAfter=1:R.content.length&&Q.merge(Q.length,Q.length,R.content[0],!1,R.openStart,0)&&(Q.breakAfter=R.content[0].breakAfter,R.content.shift()),w.content.length&&Q.merge(0,0,w.content[w.content.length-1],!0,0,w.openEnd)&&w.content.pop(),d=w.content.concat(Q).concat(R.content)}else({content:d,breakAtStart:m,openStart:v,openEnd:b}=nl.build(this.view.state.doc,c,h,this.decorations,this.dynamicDecorationMap));let{i:k,off:_}=s.findPos(u,1),{i:T,off:$}=s.findPos(l,-1);P5(this,T,$,k,_,d,m,v,b)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(W5)&&(this.editContextFormatting=i.value)}compositionView(e){let t=new Ci(e.text.nodeValue);t.flags|=8;for(let{deco:r}of e.marks)t=new Lr(r,[t],t.length);let i=new on;return i.append(t,0),i}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Bt.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];t(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)i=r.childPos(i.off,1),r=r.children[i.i],t(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,s=!r&&!(this.view.state.facet(yr)||this.dom.tabIndex>-1)&&cc(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Fe.gecko&&a.empty&&!this.hasComposition&&UN(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=u=new $n(h,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||(!tl(l.node,l.offset,c.anchorNode,c.anchorOffset)||!tl(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{Fe.android&&Fe.chrome&&this.dom.contains(c.focusNode)&&JN(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=$l(this.view.root);if(h)if(a.empty){if(Fe.gecko){let d=WN(l.node,l.offset);if(d&&d!=3){let m=(d==1?$5:A5)(l.node,l.offset);m&&(l=new $n(m.node,m.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(u.node,u.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),d.setEnd(u.node,u.offset),d.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new $n(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new $n(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&tl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=$l(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=on.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(t.head+t.assoc);i.collapse(c.node,c.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&i.collapse(r,s)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let r=e.offset;!i&&r<t.childNodes.length;r++){let s=Bt.get(t.childNodes[r]);s instanceof on&&(i=s.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let s=Bt.get(t.childNodes[r]);s instanceof on&&(i=s.domAtPos(s.length))}return i?new $n(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=Bt.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof on)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,r=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,u=l-a.length;if(l<e)break;if(u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof on&&!(i instanceof on&&t>=0)))i=a,r=u;else if(i&&u==e&&l==e&&a instanceof Tr&&Math.abs(t)<2){if(a.deco.startSide<0)break;o&&(i=null)}s=u}return i?i.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),r=this.children[t];if(!(r instanceof on))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(i,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}i=l}if(!(r instanceof Ci))return null;let s=In(r.text,i);if(s==i)return null;let o=ro(r.dom,i,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==pn.LTR;for(let u=0,c=0;c<this.children.length;c++){let h=this.children[c],d=u+h.length;if(d>r)break;if(u>=i){let m=h.dom.getBoundingClientRect();if(t.push(m.height),o){let v=h.dom.lastChild,b=v?Al(v):[];if(b.length){let k=b[b.length-1],_=l?k.right-m.left:m.right-k.left;_>a&&(a=_,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=d)}}}u=d+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?pn.RTL:pn.LTR}measureTextSize(){for(let s of this.children)if(s instanceof on){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Al(e.firstChild)[0];t=e.getBoundingClientRect().height,i=s?s.width/27:7,r=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new T5(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],o=s?s.from-1:this.length;if(o>i){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(sn.replace({widget:new Xf(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return sn.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Tl).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,r=this.view.state.facet(K5).map((s,o)=>{let a=typeof s=="function";return a&&(i=!0),a?s(this.view):s});for(r.length&&(this.dynamicDecorationMap[e++]=i,t.push(zt.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(G5))try{if(u(this.view,e.range,e))return!0}catch(c){Gi(this.view.state,c,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=t3(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;AN(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==pn.LTR)}}function UN(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function n3(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=$5(t.focusNode,t.focusOffset),r=A5(t.focusNode,t.focusOffset),s=i||r;if(r&&i&&r.node!=i.node){let a=Bt.get(r.node);if(!a||a instanceof Ci&&a.text!=r.node.nodeValue)s=r;else if(n.docView.lastCompositionAfterCursor){let l=Bt.get(i.node);!l||l instanceof Ci&&l.text!=i.node.nodeValue||(s=r)}}if(n.docView.lastCompositionAfterCursor=s!=i,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function GN(n,e,t){let i=n3(n,t);if(!i)return null;let{node:r,from:s,to:o}=i,a=r.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,u=new gi(l.mapPos(s),l.mapPos(o),s,o),c=[];for(let h=r.parentNode;;h=h.parentNode){let d=Bt.get(h);if(d instanceof Lr)c.push({node:h,deco:d.mark});else{if(d instanceof on||h.nodeName=="DIV"&&h.parentNode==n.contentDOM)return{range:u,text:r,marks:c,line:h};if(h!=n.contentDOM)c.push({node:h,deco:new Zl({inclusive:!0,attributes:zN(h),tagName:h.tagName.toLowerCase()})});else return null}}}function WN(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let YN=class{constructor(){this.changes=[]}compareRange(e,t){hc(e,t,this.changes)}comparePoint(e,t){hc(e,t,this.changes)}boundChange(e){hc(e,e,this.changes)}};function KN(n,e,t){let i=new YN;return zt.compare(n,e,t,i),i.changes}function JN(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function eL(n,e){let t=!1;return e&&n.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(t=!0)}),t}function tL(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),s=e-r.from;if(r.length==0)return Pe.cursor(e);s==0?t=1:s==r.length&&(t=-1);let o=s,a=s;t<0?o=In(r.text,s,!1):a=In(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let u=In(r.text,o,!1);if(i(r.text.slice(u,o))!=l)break;o=u}for(;a<r.length;){let u=In(r.text,a);if(i(r.text.slice(a,u))!=l)break;a=u}return Pe.range(o+r.from,a+r.from)}function nL(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function iL(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function ud(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Yv(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Kv(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function Uf(n,e,t){let i,r,s,o,a=!1,l,u,c,h;for(let v=n.firstChild;v;v=v.nextSibling){let b=Al(v);for(let k=0;k<b.length;k++){let _=b[k];r&&ud(r,_)&&(_=Yv(Kv(_,r.bottom),r.top));let T=nL(e,_),$=iL(t,_);if(T==0&&$==0)return v.nodeType==3?Jv(v,e,t):Uf(v,e,t);if(!i||o>$||o==$&&s>T){i=v,r=_,s=T,o=$;let w=$?t<_.top?-1:1:T?e<_.left?-1:1:0;a=!w||(w>0?k<b.length-1:k>0)}T==0?t>_.bottom&&(!c||c.bottom<_.bottom)?(l=v,c=_):t<_.top&&(!h||h.top>_.top)&&(u=v,h=_):c&&ud(c,_)?c=Kv(c,_.bottom):h&&ud(h,_)&&(h=Yv(h,_.top))}}if(c&&c.bottom>=t?(i=l,r=c):h&&h.top<=t&&(i=u,r=h),!i)return{node:n,offset:0};let d=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return Jv(i,d,t);if(a&&i.contentEditable!="false")return Uf(i,d,t);let m=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:m}}function Jv(n,e,t){let i=n.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=ro(n,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let h=(c.top>t?c.top-t:t-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&h<s){let d=e>=(c.left+c.right)/2,m=d;if((Fe.chrome||Fe.gecko)&&ro(n,a).getBoundingClientRect().left==c.right&&(m=!d),h<=0)return{node:n,offset:a+(m?1:0)};r=a+(m?1:0),s=h}}}return{node:n,offset:r>-1?r:o>0?n.nodeValue.length:0}}function i3(n,e,t,i=-1){var r,s;let o=n.contentDOM.getBoundingClientRect(),a=o.top+n.viewState.paddingTop,l,{docHeight:u}=n.viewState,{x:c,y:h}=e,d=h-a;if(d<0)return 0;if(d>u)return n.state.doc.length;for(let w=n.viewState.heightOracle.textHeight/2,R=!1;l=n.elementAtHeight(d),l.type!=mi.Text;)for(;d=i>0?l.bottom+w:l.top-w,!(d>=0&&d<=u);){if(R)return t?null:0;R=!0,i=-i}h=a+d;let m=l.from;if(m<n.viewport.from)return n.viewport.from==0?0:t?null:eO(n,o,l,c,h);if(m>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:eO(n,o,l,c,h);let v=n.dom.ownerDocument,b=n.root.elementFromPoint?n.root:v,k=b.elementFromPoint(c,h);k&&!n.contentDOM.contains(k)&&(k=null),k||(c=Math.max(o.left+1,Math.min(o.right-1,c)),k=b.elementFromPoint(c,h),k&&!n.contentDOM.contains(k)&&(k=null));let _,T=-1;if(k&&((r=n.docView.nearest(k))===null||r===void 0?void 0:r.isEditable)!=!1){if(v.caretPositionFromPoint){let w=v.caretPositionFromPoint(c,h);w&&({offsetNode:_,offset:T}=w)}else if(v.caretRangeFromPoint){let w=v.caretRangeFromPoint(c,h);w&&({startContainer:_,startOffset:T}=w,(!n.contentDOM.contains(_)||Fe.safari&&rL(_,T,c)||Fe.chrome&&sL(_,T,c))&&(_=void 0))}_&&(T=Math.min(Ji(_),T))}if(!_||!n.docView.dom.contains(_)){let w=on.find(n.docView,m);if(!w)return d>l.top+l.height/2?l.to:l.from;({node:_,offset:T}=Uf(w.dom,c,h))}let $=n.docView.nearest(_);if(!$)return null;if($.isWidget&&((s=$.dom)===null||s===void 0?void 0:s.nodeType)==1){let w=$.dom.getBoundingClientRect();return e.y<w.top||e.y<=w.bottom&&e.x<=(w.left+w.right)/2?$.posAtStart:$.posAtEnd}else return $.localPosFromDOM(_,T)+$.posAtStart}function eO(n,e,t,i,r){let s=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((r-t.top-(n.defaultLineHeight-a)*.5)/a);s+=l*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+wN(o,s,n.state.tabSize)}function rL(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return ro(n,i-1,i).getBoundingClientRect().left>t}function sL(n,e,t){if(e!=0)return!1;for(let r=n;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let i=n.nodeType==1?n.getBoundingClientRect():ro(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function oL(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==mi.Text))return i}return t}function aL(n,e,t,i){let r=oL(n,e.head),s=!i||r.type!=mi.Text||!(n.lineWrapping||r.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),a=n.textDirectionAt(r.from),l=n.posAtCoords({x:t==(a==pn.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Pe.cursor(l,t?-1:1)}return Pe.cursor(t?r.to:r.from,t?-1:1)}function tO(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=n.bidiSpans(r),o=n.textDirectionAt(r.from);for(let a=e,l=null;;){let u=qN(r,s,o,a,t),c=B5;if(!u){if(r.number==(t?n.state.doc.lines:1))return a;c=`
`,r=n.state.doc.line(r.number+(t?1:-1)),s=n.bidiSpans(r),u=n.visualLineSide(r,!t)}if(l){if(!l(c))return a}else{if(!i)return u;l=i(c)}a=u}}function lL(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return s=>{let o=i(s);return r==kr.Space&&(r=o),r==o}}function uL(n,e,t,i){let r=e.head,s=t?1:-1;if(r==(t?n.state.doc.length:0))return Pe.cursor(r,e.assoc);let o=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),u=n.coordsAtPos(r,e.assoc||-1),c=n.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let m=n.viewState.lineBlockAt(r);o==null&&(o=Math.min(l.right-l.left,n.defaultCharacterWidth*(r-m.from))),a=(s<0?m.top:m.bottom)+c}let h=l.left+o,d=i??n.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let v=a+(d+m)*s,b=i3(n,{x:h,y:v},!1,s);if(v<l.top||v>l.bottom||(s<0?b<r:b>r)){let k=n.docView.coordsForChar(b),_=!k||v<k.top?-1:1;return Pe.cursor(b,_,void 0,o)}}}function dc(n,e,t){for(;;){let i=0;for(let r of n)r.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=i||t||(e-s<o-e?-1:1);e=l<0?s:o,i=l}});if(!i)return e}}function cd(n,e,t){let i=dc(n.state.facet(wm).map(r=>r(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:Pe.cursor(i,i<t.from?1:-1)}const Za="￿";class cL{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ct.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Za}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==t)break;let a=Bt.get(r),l=Bt.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:Gc(r))||Gc(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=r.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=Bt.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(hL(e,i.node,i.offset)?t:0))}}function hL(n,e,t){for(;;){if(!e||t<Ji(e))return!1;if(e==n)return!0;t=io(e)+1,e=e.parentNode}}class nO{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class dL{constructor(e,t,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let a=s||o?[]:mL(e),l=new cL(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=gL(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!If(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!If(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if((Fe.ios||Fe.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let h=Math.min(l,u),d=Math.max(l,u),m=c.from-h,v=c.to-d;(m==0||m==1||h==0)&&(v==0||v==-1||d==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=Pe.single(u,l)}}}function r3(n,e){let t,{newSel:i}=e,r=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=r.from,u=null;(s===8||Fe.android&&e.text.length<a-o)&&(l=r.to,u="end");let c=pL(n.state.doc.sliceString(o,a,Za),e.text,l-o,u);c&&(Fe.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Za+Za&&c.toB--,t={from:o+c.from,to:o+c.toA,insert:Pt.of(e.text.slice(c.from,c.toB).split(Za))})}else i&&(!n.hasFocus&&n.state.facet(yr)||i.main.eq(r))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!r.empty&&i&&i.main.empty?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:(Fe.mac||Fe.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=Pe.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:Pt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,r.to))}:Fe.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=Pe.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:Pt.of([" "])}),t)return xm(n,t,i,s);if(i&&!i.main.eq(r)){let o=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function xm(n,e,t,i=-1){if(Fe.ios&&n.inputState.flushIOSKey(e))return!0;let r=n.state.selection.main;if(Fe.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&n.state.sliceDoc(e.from,r.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Zo(n.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>r.head)&&Zo(n.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&e.insert.length==0&&Zo(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,a=()=>o||(o=fL(n,e,t));return n.state.facet(H5).some(l=>l(n,e.from,e.to,s,a))||n.dispatch(a()),!0}function fL(n,e,t){let i,r=n.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=s.from<e.from?r.sliceDoc(s.from,e.from):"",l=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=r.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(r.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let u=n.state.sliceDoc(e.from,e.to),c,h=t&&n3(n,t.main.head);if(h){let v=e.insert.length-(e.to-e.from);c={from:h.from,to:h.to-v}}else c=n.state.doc.lineAt(s.head);let d=s.to-e.to,m=s.to-s.from;i=r.changeByRange(v=>{if(v.from==s.from&&v.to==s.to)return{changes:a,range:l||v.map(a)};let b=v.to-d,k=b-u.length;if(v.to-v.from!=m||n.state.sliceDoc(k,b)!=u||v.to>=c.from&&v.from<=c.to)return{range:v};let _=r.changes({from:k,to:b,insert:e.insert}),T=v.to-s.to;return{changes:_,range:l?Pe.range(Math.max(0,l.anchor+T),Math.max(0,l.head+T)):v.map(_)}})}else i={changes:a,selection:l&&r.selection.replaceRange(l)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function pL(n,e,t,i){let r=Math.min(n.length,e.length),s=0;for(;s<r&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&n.length==e.length)return null;let o=n.length,a=e.length;for(;o>0&&a>0&&n.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&n.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function mL(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new nO(t,i)),(r!=t||s!=i)&&e.push(new nO(r,s))),e}function gL(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?Pe.single(t+e,i+e):null}class vL{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Fe.safari&&e.contentDOM.addEventListener("input",()=>null),Fe.gecko&&QL(e.contentDOM.ownerDocument)}handleEvent(e){!_L(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,t);for(let r of i.handlers){if(t.defaultPrevented)break;if(r(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=OL(e),i=this.handlers,r=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,a=i[s];a&&o!=!a.handlers.length&&(r.removeEventListener(s,this.handleEvent),a=null),a||r.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!t[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&o3.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Fe.android&&Fe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Fe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=s3.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||yL.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Zo(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Fe.safari&&!Fe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function iO(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(r){Gi(t.state,r)}}}function OL(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let r=i.spec;if(r&&r.domEventHandlers)for(let s in r.domEventHandlers){let o=r.domEventHandlers[s];o&&t(s).handlers.push(iO(i.value,o))}if(r&&r.domEventObservers)for(let s in r.domEventObservers){let o=r.domEventObservers[s];o&&t(s).observers.push(iO(i.value,o))}}for(let i in Ei)t(i).handlers.push(Ei[i]);for(let i in wi)t(i).observers.push(wi[i]);return e}const s3=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],yL="dthko",o3=[16,17,18,20,91,92,224,225],Qu=6;function Ru(n){return Math.max(0,n)*.7+8}function bL(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class wL{constructor(e,t,i,r){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=TN(e.contentDOM),this.atoms=e.state.facet(wm).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ct.allowMultipleSelections)&&xL(e,t),this.dragging=kL(e,t)&&u3(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&bL(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,r=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=t3(this.view);e.clientX-l.left<=r+Qu?t=-Ru(r-e.clientX):e.clientX+l.right>=o-Qu&&(t=Ru(e.clientX-o)),e.clientY-l.top<=s+Qu?i=-Ru(s-e.clientY):e.clientY+l.bottom>=a-Qu&&(i=Ru(e.clientY-a)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let o=dc(this.atoms,r.from,0);o!=r.from&&(s=Pe.cursor(o,-1))}else{let o=dc(this.atoms,r.from,-1),a=dc(this.atoms,r.to,1);(o!=r.from||a!=r.to)&&(s=Pe.range(r.from==r.anchor?o:a,r.from==r.head?o:a))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?Pe.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function xL(n,e){let t=n.state.facet(V5);return t.length?t[0](e):Fe.mac?e.metaKey:e.ctrlKey}function SL(n,e){let t=n.state.facet(X5);return t.length?t[0](e):Fe.mac?!e.altKey:!e.ctrlKey}function kL(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=$l(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function _L(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Bt.get(t))&&i.ignoreEvent(e))return!1;return!0}const Ei=Object.create(null),wi=Object.create(null),a3=Fe.ie&&Fe.ie_version<15||Fe.ios&&Fe.webkit_version<604;function $L(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),l3(n,t.value)},50)}function Hh(n,e,t){for(let i of n.facet(e))t=i(t,n);return t}function l3(n,e){e=Hh(n.state,Om,e);let{state:t}=n,i,r=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(Gf!=null&&t.selection.ranges.every(l=>l.empty)&&Gf==s.toString()){let l=-1;i=t.changeByRange(u=>{let c=t.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let h=t.toText((o?s.line(r++).text:e)+t.lineBreak);return{changes:{from:c.from,insert:h},range:Pe.cursor(u.from+h.length)}})}else o?i=t.changeByRange(l=>{let u=s.line(r++);return{changes:{from:l.from,to:l.to,insert:u.text},range:Pe.cursor(l.from+u.length)}}):i=t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}wi.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Ei.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);wi.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};wi.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Ei.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(q5))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=PL(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new wL(n,e,t,i)),i&&n.observer.ignore(()=>{S5(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let r=n.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function rO(n,e,t,i){if(i==1)return Pe.cursor(e,t);if(i==2)return tL(n.state,e,t);{let r=on.find(n.docView,e),s=n.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<n.state.doc.length&&a==s.to&&a++,Pe.range(o,a)}}let sO=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function AL(n,e,t,i){let r=on.find(n.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&sO(t,i,o))return-1;let a=r.coordsAt(s,1);return a&&sO(t,i,a)?1:o&&o.bottom>=i?-1:1}function oO(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:AL(n,t,e.clientX,e.clientY)}}const TL=Fe.ie&&Fe.ie_version<=11;let aO=null,lO=0,uO=0;function u3(n){if(!TL)return n.detail;let e=aO,t=uO;return aO=n,uO=Date.now(),lO=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(lO+1)%3:1}function PL(n,e){let t=oO(n,e),i=u3(e),r=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),r=r.map(s.changes))},get(s,o,a){let l=oO(n,s),u,c=rO(n,l.pos,l.bias,i);if(t.pos!=l.pos&&!o){let h=rO(n,t.pos,t.bias,i),d=Math.min(h.from,c.from),m=Math.max(h.to,c.to);c=d<c.from?Pe.range(d,m):Pe.range(m,d)}return o?r.replaceRange(r.main.extend(c.from,c.to)):a&&i==1&&r.ranges.length>1&&(u=ML(r,l.pos))?u:a?r.addRange(c):Pe.create([c])}}}function ML(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:r}=n.ranges[t];if(i<=e&&r>=e)return Pe.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Ei.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let r=n.docView.nearest(e.target);if(r&&r.isWidget){let s=r.posAtStart,o=s+r.length;(s>=t.to||o<=t.from)&&(t=Pe.range(s,o))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Hh(n.state,ym,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Ei.dragend=n=>(n.inputState.draggedContent=null,!1);function cO(n,e,t,i){if(t=Hh(n.state,Om,t),!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=i&&s&&SL(n,e)?{from:s.from,to:s.to}:null,a={from:r,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Ei.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),r=0,s=()=>{++r==t.length&&cO(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return cO(n,e,i,!0),!0}return!1};Ei.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=a3?null:e.clipboardData;return t?(l3(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):($L(n),!1)};function CL(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function EL(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>r&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),r=o.number}i=!0}return{text:Hh(n,ym,e.join(n.lineBreak)),ranges:t,linewise:i}}let Gf=null;Ei.copy=Ei.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=EL(n.state);if(!t&&!r)return!1;Gf=r?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=a3?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(CL(n,t),!1)};const c3=co.define();function h3(n,e){let t=[];for(let i of n.facet(j5)){let r=i(n,e);r&&t.push(r)}return t?n.update({effects:t,annotations:c3.of(!0)}):null}function d3(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=h3(n.state,e);t?n.dispatch(t):n.update([])}},10)}wi.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),d3(n)};wi.blur=n=>{n.observer.clearSelectionRange(),d3(n)};wi.compositionstart=wi.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};wi.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,Fe.chrome&&Fe.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};wi.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Ei.beforeinput=(n,e)=>{var t,i;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=n.posAtDOM(a.startContainer,a.startOffset),u=n.posAtDOM(a.endContainer,a.endOffset);return xm(n,{from:l,to:u,insert:n.state.toText(s)},null),!0}}let r;if(Fe.chrome&&Fe.android&&(r=s3.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return Fe.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),Fe.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>wi.compositionend(n,e),20),!1};const hO=new Set;function QL(n){hO.has(n)||(hO.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const dO=["pre-wrap","normal","pre-line","break-spaces"];let ia=!1;function fO(){ia=!1}class RL{constructor(e){this.lineWrapping=e,this.doc=Pt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return dO.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,s,o){let a=dO.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=i,this.textHeight=r,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class zL{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Fi{constructor(e,t,i,r,s){this.from=e,this.length=t,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?mi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof bs?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Fi(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Ht=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Ht||(Ht={}));const fc=.001;class Nn{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>fc&&(ia=!0),this.height=e)}replace(e,t,i){return Nn.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let s=this,o=i.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:c,toB:h}=r[a],d=s.lineAt(l,Ht.ByPosNoHeight,i.setDoc(t),0,0),m=d.to>=u?d:s.lineAt(u,Ht.ByPosNoHeight,i,0,0);for(h+=m.to-u,u=m.to;a>0&&d.from<=r[a-1].toA;)l=r[a-1].fromA,c=r[a-1].fromB,a--,l<d.from&&(d=s.lineAt(l,Ht.ByPosNoHeight,i,0,0));c+=d.from-l,l=d.from;let v=Sm.build(i.setDoc(o),e,c,h);s=Kc(s,s.replace(l,u,v))}return s.updateHeight(i,0)}static empty(){return new ei(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,s=0;for(;;)if(t==i)if(r>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,r-=a.size}else if(s>r*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(r<s){let a=e[t++];a&&(r+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new DL(Nn.of(e.slice(0,t)),o,Nn.of(e.slice(i)))}}function Kc(n,e){return n==e?n:(n.constructor!=e.constructor&&(ia=!0),e)}Nn.prototype.size=1;class f3 extends Nn{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,r){return new Fi(r,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,t,i,r,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ei extends f3{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,r){return new Fi(r,this.length,i,this.height,this.breaks)}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof ei||r instanceof wn&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof wn?r=new ei(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Nn.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(r.heights[r.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class wn extends Nn{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,s=r-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:r,perLine:o,perChar:a}}blockAt(e,t,i,r){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,r);if(t.lineWrapping){let u=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),c=t.doc.lineAt(u),h=a+c.length*l,d=Math.max(i,e-h/2);return new Fi(c.from,c.length,d,h,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:c,length:h}=t.doc.line(s+u);return new Fi(c,h,i+a*u,a,0)}}lineAt(e,t,i,r,s){if(t==Ht.ByHeight)return this.blockAt(e,i,r,s);if(t==Ht.ByPosNoHeight){let{from:m,to:v}=i.doc.lineAt(e);return new Fi(m,v-m,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),u=i.doc.lineAt(e),c=a+u.length*l,h=u.number-o,d=r+a*h+l*(u.from-s-h);return new Fi(u.from,u.length,Math.max(r,Math.min(d,r+this.height-c)),c,0)}forEachLine(e,t,i,r,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(i,s);for(let c=e,h=r;c<=t;){let d=i.doc.lineAt(c);if(c==e){let v=d.number-a;h+=l*v+u*(e-s-v)}let m=l+u*d.length;o(new Fi(d.from,d.length,h,m,0)),h+=m,c=d.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let s=i[i.length-1];s instanceof wn?i[i.length-1]=new wn(s.length+r):i.push(null,new wn(r-1))}if(e>0){let s=i[0];s instanceof wn?i[0]=new wn(e+s.length):i.unshift(new wn(e-1),null)}return Nn.of(i)}decomposeLeft(e,t){t.push(new wn(e-1),null)}decomposeRight(e,t){t.push(null,new wn(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let o=[],a=Math.max(t,r.from),l=-1;for(r.from>t&&o.push(new wn(r.from-t-1).updateHeight(e,t));a<=s&&r.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let h=r.heights[r.index++];l==-1?l=h:Math.abs(h-l)>=fc&&(l=-2);let d=new ei(c,h);d.outdated=!1,o.push(d),a+=c+1}a<=s&&o.push(null,new wn(s-a).updateHeight(e,a));let u=Nn.of(o);return(l<0||Math.abs(u.height-this.height)>=fc||Math.abs(l-this.heightMetrics(e,t).perLine)>=fc)&&(ia=!0),Kc(this,u)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class DL extends Nn{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,i,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,l=t==Ht.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,t,i,r,s):this.right.lineAt(e,t,i,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let c=t==Ht.ByPosNoHeight?Ht.ByPosNoHeight:Ht.ByPos;return l?u.join(this.right.lineAt(a,c,i,o,a)):this.left.lineAt(a,c,i,r,s).join(u)}forEachLine(e,t,i,r,s,o){let a=r+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,r,s,o),t>=l&&this.right.forEachLine(e,t,i,a,l,o);else{let u=this.lineAt(l,Ht.ByPos,i,r,s);e<u.from&&this.left.forEachLine(e,u.from-1,i,r,s,o),u.to>=e&&u.from<=t&&o(u),t>u.to&&this.right.forEachLine(u.to+1,t,i,a,l,o)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&pO(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),pO(s,a)}return Nn.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Nn.of(this.break?[e,null,t]:[e,t]):(this.left=Kc(this.left,e),this.right=Kc(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return r&&r.from<=t+s.length&&r.more?l=s=s.updateHeight(e,t,i,r):s.updateHeight(e,t,i),r&&r.from<=a+o.length&&r.more?l=o=o.updateHeight(e,a,i,r):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function pO(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof wn&&(i=n[e+1])instanceof wn&&n.splice(e-1,3,new wn(t.length+1+i.length))}const IL=5;class Sm{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof ei?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new ei(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new f3(o,r,i)):(o||s||r>=IL)&&this.addLineDeco(r,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ei(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new wn(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ei)return e;let t=new ei(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof ei)&&!this.isCovered?this.nodes.push(new ei(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof ei&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let s=new Sm(i,e);return zt.spans(t,i,r,s,0),s.finish(i)}}function NL(n,e,t){let i=new LL;return zt.compare(n,e,t,i,0),i.changes}class LL{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&hc(e,t,this.changes,5)}}function ZL(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,r=i.defaultView||window,s=Math.max(0,t.left),o=Math.min(r.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(r.innerHeight,t.bottom);for(let u=n.parentNode;u&&u!=i.body;)if(u.nodeType==1){let c=u,h=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&h.overflow!="visible"){let d=c.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=Math.min(u==n.parentNode?r.innerHeight:l,d.bottom)}u=h.position=="absolute"||h.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function BL(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function VL(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class hd{constructor(e,t,i,r){this.from=e,this.to=t,this.size=i,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,t){return sn.replace({widget:new XL(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class XL extends Fh{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class mO{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=gO,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=pn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(bm).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new RL(t),this.stateDeco=e.facet(Tl).filter(i=>typeof i!="function"),this.heightMap=Nn.empty().applyChanges(this.stateDeco,Pt.empty,this.heightOracle.setDoc(e.doc),[new gi(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=sn.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new zu(s,o))}}return this.viewports=e.sort((i,r)=>i.from-r.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?gO:new km(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Ba(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Tl).filter(c=>typeof c!="function");let r=e.changedRanges,s=gi.extendWithRanges(r,NL(i,this.stateDeco,e?e.changes:On.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);fO(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||ia)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(HN)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?pn.RTL:pn.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,c=0;if(a.width&&a.height){let{scaleX:w,scaleY:R}=x5(t,a);(w>.005&&Math.abs(this.scaleX-w)>.005||R>.005&&Math.abs(this.scaleY-R)>.005)&&(this.scaleX=w,this.scaleY=R,u|=16,o=l=!0)}let h=(parseInt(i.paddingTop)||0)*this.scaleY,d=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=d)&&(this.paddingTop=h,this.paddingBottom=d,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let m=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=_5(e.scrollDOM);let v=(this.printing?VL:ZL)(t,this.paddingTop),b=v.top-this.pixelViewport.top,k=v.bottom-this.pixelViewport.bottom;this.pixelViewport=v;let _=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(_!=this.inView&&(this.inView=_,_&&(l=!0)),!this.inView&&!this.scrollTarget&&!BL(e.dom))return 0;let T=a.width;if((this.contentDOMWidth!=T||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let w=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(w)&&(o=!0),o||r.lineWrapping&&Math.abs(T-this.contentDOMWidth)>r.charWidth){let{lineHeight:R,charWidth:Q,textHeight:M}=e.docView.measureTextSize();o=R>0&&r.refresh(s,R,Q,M,T/Q,w),o&&(e.docView.minWidth=0,u|=16)}b>0&&k>0?c=Math.max(b,k):b<0&&k<0&&(c=Math.min(b,k)),fO();for(let R of this.viewports){let Q=R.from==this.viewport.from?w:e.docView.measureVisibleLineHeights(R);this.heightMap=(o?Nn.empty().applyChanges(this.stateDeco,Pt.empty,this.heightOracle,[new gi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new zL(R.from,Q))}ia&&(u|=2)}let $=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return $&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||$)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new zu(r.lineAt(o-i*1e3,Ht.ByHeight,s,0,0).from,r.lineAt(a+(1-i)*1e3,Ht.ByHeight,s,0,0).to);if(t){let{head:u}=t.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(u,Ht.ByPos,s,0,0),d;t.y=="center"?d=(h.top+h.bottom)/2-c/2:t.y=="start"||t.y=="nearest"&&u<l.from?d=h.top:d=h.bottom-c,l=new zu(r.lineAt(d-1e3/2,Ht.ByHeight,s,0,0).from,r.lineAt(d+c+1e3/2,Ht.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new zu(this.heightMap.lineAt(i,Ht.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Ht.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Ht.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Ht.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new hd(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=pn.LTR&&!i)return[];let a=[],l=(c,h,d,m)=>{if(h-c<s)return;let v=this.state.selection.main,b=[v.from];v.empty||b.push(v.to);for(let _ of b)if(_>c&&_<h){l(c,_-10,d,m),l(_+10,h,d,m);return}let k=FL(e,_=>_.from>=d.from&&_.to<=d.to&&Math.abs(_.from-c)<s&&Math.abs(_.to-h)<s&&!b.some(T=>_.from<T&&_.to>T));if(!k){if(h<d.to&&t&&i&&t.visibleRanges.some($=>$.from<=h&&$.to>=h)){let $=t.moveToLineBoundary(Pe.cursor(h),!1,!0).head;$>c&&(h=$)}let _=this.gapSize(d,c,h,m),T=i||_<2e6?_:2e6;k=new hd(c,h,_,T)}a.push(k)},u=c=>{if(c.length<o||c.type!=mi.Text)return;let h=qL(c.from,c.to,this.stateDeco);if(h.total<o)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,m,v;if(i){let b=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,k,_;if(d!=null){let T=Iu(h,d),$=((this.visibleBottom-this.visibleTop)/2+b)/c.height;k=T-$,_=T+$}else k=(this.visibleTop-c.top-b)/c.height,_=(this.visibleBottom-c.top+b)/c.height;m=Du(h,k),v=Du(h,_)}else{let b=h.total*this.heightOracle.charWidth,k=r*this.heightOracle.charWidth,_=0;if(b>2e6)for(let Q of e)Q.from>=c.from&&Q.from<c.to&&Q.size!=Q.displaySize&&Q.from*this.heightOracle.charWidth+_<this.pixelViewport.left&&(_=Q.size-Q.displaySize);let T=this.pixelViewport.left+_,$=this.pixelViewport.right+_,w,R;if(d!=null){let Q=Iu(h,d),M=(($-T)/2+k)/b;w=Q-M,R=Q+M}else w=(T-k)/b,R=($+k)/b;m=Du(h,w),v=Du(h,R)}m>c.from&&l(c.from,m,c,h),v<c.to&&l(v,c.to,c,h)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return a}gapSize(e,t,i,r){let s=Iu(r,i)-Iu(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){hd.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=sn.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];zt.spans(t,this.viewport.from,this.viewport.to,{span(s,o){i.push({from:s,to:o})},point(){}},20);let r=0;if(i.length!=this.visibleRanges.length)r=12;else for(let s=0;s<i.length&&!(r&8);s++){let o=this.visibleRanges[s],a=i[s];(o.from!=a.from||o.to!=a.to)&&(r|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(r|=8))}return this.visibleRanges=i,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Ba(this.heightMap.lineAt(e,Ht.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Ba(this.heightMap.lineAt(this.scaler.fromDOM(e),Ht.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Ba(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class zu{constructor(e,t){this.from=e,this.to=t}}function qL(n,e,t){let i=[],r=n,s=0;return zt.spans(t,n,e,{span(){},point(o,a){o>r&&(i.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function Du({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(i<=a)return s+i;i-=a}}function Iu(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function FL(n,e){for(let t of n)if(e(t))return t}const gO={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class km{constructor(e,t,i){let r=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let u=t.lineAt(a,Ht.ByPos,e,0,0).top,c=t.lineAt(l,Ht.ByPos,e,0,0).bottom;return r+=c-u,{from:a,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}eq(e){return e instanceof km?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function Ba(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new Fi(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(r=>Ba(r,e)):n._content)}const Nu=ot.define({combine:n=>n.join(" ")}),Wf=ot.define({combine:n=>n.indexOf(!0)>-1}),Yf=Os.newName(),p3=Os.newName(),m3=Os.newName(),g3={"&light":"."+p3,"&dark":"."+m3};function Kf(n,e,t){return new Os(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const HL=Kf("."+Yf,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},g3),jL={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},dd=Fe.ie&&Fe.ie_version<=11;class UL{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new PN,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(Fe.ie&&Fe.ie_version<=11||Fe.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Fe.chrome&&Fe.chrome_version<126)&&(this.editContext=new WL(e),e.state.facet(yr)&&(e.contentDOM.editContext=this.editContext.editContext)),dd&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(yr)?i.root.activeElement!=this.dom:!cc(this.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Fe.ie&&Fe.ie_version<=11||Fe.android&&Fe.chrome)&&!i.state.selection.main.empty&&r.focusNode&&tl(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=$l(e.root);if(!t)return!1;let i=Fe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&GL(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let r=cc(this.dom,i);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&CN(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,jL),dd&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),dd&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Zo(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&cc(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new dL(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,r=r3(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=vO(t,e.previousSibling||e.target.previousSibling,-1),r=vO(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(yr)!=e.state.facet(yr)&&(e.view.contentDOM.editContext=e.state.facet(yr)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function vO(n,e,t){for(;e;){let i=Bt.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function OO(n,e){let t=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return tl(o.node,o.offset,r,s)&&([t,i,r,s]=[r,s,t,i]),{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}}function GL(n,e){if(e.getComposedRanges){let r=e.getComposedRanges(n.root)[0];if(r)return OO(n,r)}let t=null;function i(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?OO(n,t):null}class WL{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let r=e.state.selection.main,{anchor:s,head:o}=r,a=this.toEditorPos(i.updateRangeStart),l=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:a,drifted:!1});let u={from:a,to:l,insert:Pt.of(i.text.split(`
`))};if(u.from==this.from&&s<this.from?u.from=s:u.to==this.to&&s>this.to&&(u.to=s),u.from==u.to&&!u.insert.length){let c=Pe.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));c.main.eq(r)||e.dispatch({selection:c,userEvent:"select"});return}if((Fe.mac||Fe.android)&&u.from==o-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(u={from:a,to:l,insert:Pt.of([i.text.replace("."," ")])}),this.pendingContextChange=u,!e.state.readOnly){let c=this.to-this.from+(u.to-u.from+u.insert.length);xm(e,u,Pe.single(this.toEditorPos(i.selectionStart,c),this.toEditorPos(i.selectionEnd,c)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=i=>{let r=[],s=null;for(let o=this.toEditorPos(i.rangeStart),a=this.toEditorPos(i.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,r.push(s)}t.updateCharacterBounds(i.rangeStart,r)},this.handlers.textformatupdate=i=>{let r=[];for(let s of i.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),u=this.toEditorPos(s.rangeEnd);if(l<u){let c=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;r.push(sn.mark({attributes:{style:c}}).range(l,u))}}}e.dispatch({effects:W5.of(sn.set(r))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let r=$l(i.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,r=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,u)=>{if(i)return;let c=u.length-(o-s);if(r&&o>=r.to)if(r.from==s&&r.to==o&&r.insert.eq(u)){r=this.pendingContextChange=null,t+=c,this.to+=c;return}else r=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=c,this.to+=c;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+u.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),u.toString()),this.to+=c}t+=c}),r&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange;this.composing&&(this.composing.drifted||e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(i,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class mt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(r=>r.forEach(s=>i(s,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||MN(e.parent)||document,this.viewState=new mO(e.state||Ct.create(e)),e.scrollTo&&e.scrollTo.is(Eu)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Na).map(r=>new ld(r));for(let r of this.plugins)r.update(this);this.observer=new UL(this),this.inputState=new vL(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Wv(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Sn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(c3))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=h3(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(Ct.phrases)!=this.state.facet(Ct.phrases))return this.setState(s);r=Yc.create(this,s,e),r.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(h&&(h=h.map(d.changes)),d.scrollIntoView){let{main:m}=d.state.selection;h=new Bo(m.empty?m:Pe.cursor(m.head,m.head>m.anchor?-1:1))}for(let m of d.effects)m.is(Eu)&&(h=m.value.clip(this.state))}this.viewState.update(r,h),this.bidiCache=Jc.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(La)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Nu)!=r.state.facet(Nu)&&(this.viewState.mustMeasureContent=!0),(t||i||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!r.empty)for(let d of this.state.facet(jf))try{d(r)}catch(m){Gi(this.state,m,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!r3(this,c)&&u.force&&Zo(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new mO(e),this.plugins=e.facet(Na).map(i=>new ld(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new Wv(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Na),i=e.state.facet(Na);if(t!=i){let r=[];for(let s of i){let o=t.indexOf(s);if(o<0)r.push(new ld(s));else{let a=this.plugins[o];a.mustUpdate=e,r.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){Gi(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(_5(i))s=-1,o=this.viewState.heightMap.height;else{let m=this.viewState.scrollAnchorAt(r);s=m.from,o=m.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(m=>{try{return m.read(this)}catch(v){return Gi(this.state,v),yO}}),h=Yc.create(this,this.state,[]),d=!1;h.flags|=l,t?t.flags|=l:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),d=this.docView.update(h),d&&this.docViewUpdate());for(let m=0;m<u.length;m++)if(c[m]!=yO)try{let v=u[m];v.write&&v.write(c[m],this)}catch(v){Gi(this.state,v)}if(d&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let v=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(v>1||v<-1){r=r+v,i.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(jf))a(t)}get themeClasses(){return Yf+" "+(this.state.facet(Wf)?m3:p3)+" "+this.state.facet(Nu)}updateAttrs(){let e=bO(this,Y5,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(yr)?"true":"false",class:"cm-content",style:`${Fe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),bO(this,bm,t);let i=this.observer.ignore(()=>{let r=Vf(this.contentDOM,this.contentAttrs,t),s=Vf(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(mt.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(La);let e=this.state.facet(mt.cspNonce);Os.mount(this.root,this.styleModules.concat(HL).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return cd(this,e,tO(this,e,t,i))}moveByGroup(e,t){return cd(this,e,tO(this,e,t,i=>lL(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),r=this.textDirectionAt(e.from),s=i[t?i.length-1:0];return Pe.cursor(s.side(t,r)+e.from,s.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,i=!0){return aL(this,e,t,i)}moveVertically(e,t,i){return cd(this,e,uL(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),i3(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[hs.find(s,e-r.from,-1,t)];return Xh(i,o.dir==pn.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(U5)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>YL)return Z5(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||L5(s.isolates,i=Gv(this,e))))return s.order;i||(i=Gv(this,e));let r=XN(e.text,t,i);return this.bidiCache.push(new Jc(e.from,e.to,t,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Fe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{S5(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Eu.of(new Bo(typeof e=="number"?Pe.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return Eu.of(new Bo(Pe.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ws.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ws.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=Os.newName(),r=[Nu.of(i),La.of(Kf(`.${i}`,e))];return t&&t.dark&&r.push(Wf.of(!0)),r}static baseTheme(e){return Zh.lowest(La.of(Kf("."+Yf,e,g3)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&Bt.get(i)||Bt.get(e);return((t=r==null?void 0:r.rootView)===null||t===void 0?void 0:t.view)||null}}mt.styleModule=La;mt.inputHandler=H5;mt.clipboardInputFilter=Om;mt.clipboardOutputFilter=ym;mt.scrollHandler=G5;mt.focusChangeEffect=j5;mt.perLineTextDirection=U5;mt.exceptionSink=F5;mt.updateListener=jf;mt.editable=yr;mt.mouseSelectionStyle=q5;mt.dragMovesSelection=X5;mt.clickAddsSelectionRange=V5;mt.decorations=Tl;mt.outerDecorations=K5;mt.atomicRanges=wm;mt.bidiIsolatedRanges=J5;mt.scrollMargins=e3;mt.darkTheme=Wf;mt.cspNonce=ot.define({combine:n=>n.length?n[0]:""});mt.contentAttributes=bm;mt.editorAttributes=Y5;mt.lineWrapping=mt.contentAttributes.of({class:"cm-lineWrapping"});mt.announce=en.define();const YL=4096,yO={};class Jc{constructor(e,t,i,r,s,o){this.from=e,this.to=t,this.dir=i,this.isolates=r,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:pn.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!t.touchesRange(o.from,o.to)&&i.push(new Jc(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function bO(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(n):s;o&&Bf(o,t)}return t}const KL=Fe.mac?"mac":Fe.windows?"win":Fe.linux?"linux":"key";function JL(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,s,o,a;for(let l=0;l<t.length-1;++l){const u=t[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function Lu(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const eZ=Zh.default(mt.domEventHandlers({keydown(n,e){return rZ(tZ(e.state),n,e,"editor")}})),eh=ot.define({enables:eZ}),wO=new WeakMap;function tZ(n){let e=n.facet(eh),t=wO.get(e);return t||wO.set(e,t=iZ(e.reduce((i,r)=>i.concat(r),[]))),t}let ls=null;const nZ=4e3;function iZ(n,e=KL){let t=Object.create(null),i=Object.create(null),r=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u,c)=>{var h,d;let m=t[o]||(t[o]=Object.create(null)),v=a.split(/ (?!$)/).map(_=>JL(_,e));for(let _=1;_<v.length;_++){let T=v.slice(0,_).join(" ");r(T,!0),m[T]||(m[T]={preventDefault:!0,stopPropagation:!1,run:[$=>{let w=ls={view:$,prefix:T,scope:o};return setTimeout(()=>{ls==w&&(ls=null)},nZ),!0}]})}let b=v.join(" ");r(b,!1);let k=m[b]||(m[b]={preventDefault:!1,stopPropagation:!1,run:((d=(h=m._any)===null||h===void 0?void 0:h.run)===null||d===void 0?void 0:d.slice())||[]});l&&k.run.push(l),u&&(k.preventDefault=!0),c&&(k.stopPropagation=!0)};for(let o of n){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let c=t[u]||(t[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=o;for(let d in c)c[d].run.push(m=>h(m,Jf))}let l=o[e]||o.key;if(l)for(let u of a)s(u,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}let Jf=null;function rZ(n,e,t,i){Jf=e;let r=_N(e),s=oN(r,0),o=aN(s)==r.length&&r!=" ",a="",l=!1,u=!1,c=!1;ls&&ls.view==t&&ls.scope==i&&(a=ls.prefix+" ",o3.indexOf(e.keyCode)<0&&(u=!0,ls=null));let h=new Set,d=k=>{if(k){for(let _ of k.run)if(!h.has(_)&&(h.add(_),_(t)))return k.stopPropagation&&(c=!0),!0;k.preventDefault&&(k.stopPropagation&&(c=!0),u=!0)}return!1},m=n[i],v,b;return m&&(d(m[a+Lu(r,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Fe.windows&&e.ctrlKey&&e.altKey)&&(v=ys[e.keyCode])&&v!=r?(d(m[a+Lu(v,e,!0)])||e.shiftKey&&(b=_l[e.keyCode])!=r&&b!=v&&d(m[a+Lu(b,e,!1)]))&&(l=!0):o&&e.shiftKey&&d(m[a+Lu(r,e,!0)])&&(l=!0),!l&&d(m._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),Jf=null,l}const sZ=!(Fe.ios&&Fe.webkit&&Fe.webkit_version<534),xO={".cm-line":{},".cm-content":{}};sZ&&(xO[".cm-line"].caretColor=xO[".cm-content"].caretColor="transparent !important");class oo extends no{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}oo.prototype.elementClass="";oo.prototype.toDOM=void 0;oo.prototype.mapMode=zn.TrackBefore;oo.prototype.startSide=oo.prototype.endSide=-1;oo.prototype.point=!0;const fd=ot.define(),oZ=ot.define(),pc=ot.define(),SO=ot.define({combine:n=>n.some(e=>e)});function aZ(n){return[lZ]}const lZ=ws.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(pc).map(e=>new _O(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(SO),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(SO)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=zt.iter(this.view.state.facet(fd),this.view.viewport.from),i=[],r=this.gutters.map(s=>new uZ(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==mi.Text&&o){ep(t,i,a.from);for(let l of r)l.line(this.view,a,i);o=!1}else if(a.widget)for(let l of r)l.widget(this.view,a)}else if(s.type==mi.Text){ep(t,i,s.from);for(let o of r)o.line(this.view,s,i)}else if(s.widget)for(let o of r)o.widget(this.view,s);for(let s of r)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(pc),t=n.state.facet(pc),i=n.docChanged||n.heightChanged||n.viewportChanged||!zt.eq(n.startState.facet(fd),n.state.facet(fd),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let s of t){let o=e.indexOf(s);o<0?r.push(new _O(this.view,s)):(this.gutters[o].update(n),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>mt.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==pn.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function kO(n){return Array.isArray(n)?n:[n]}function ep(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class uZ{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=zt.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:r}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==r.elements.length){let a=new v3(e,o,s,i);r.elements.push(a),r.dom.appendChild(a.dom)}else r.elements[this.i].update(e,o,s,i);this.height=t.bottom,this.i++}line(e,t,i){let r=[];ep(this.cursor,r,t.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,t,r);s&&r.unshift(s);let o=this.gutter;r.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,r)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),r=i?[i]:null;for(let s of e.state.facet(oZ)){let o=s(e,t.widget,t);o&&(r||(r=[])).push(o)}r&&this.addElement(e,t,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class _O{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=r.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,a,r)&&r.preventDefault()});this.markers=kO(t.markers(e)),t.initialSpacer&&(this.spacer=new v3(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=kO(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!zt.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class v3{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),cZ(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,u=!1;if(l){let c=l.elementClass;c&&(i+=" "+c);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,u=!0;break}}else a=this.markers.length;for(;o<a;){let c=this.markers[o++];if(c.toDOM){c.destroy(r);let h=r.nextSibling;r.remove(),r=h}}if(!l)break;l.toDOM&&(u?r=r.nextSibling:this.dom.insertBefore(l.toDOM(e),r)),u&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function cZ(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const hZ=ot.define(),dZ=ot.define(),_o=ot.define({combine(n){return yN(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let s=i[r],o=t[r];i[r]=s?(a,l,u)=>s(a,l,u)||o(a,l,u):o}return i}})}});class pd extends oo{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function md(n,e){return n.state.facet(_o).formatNumber(e,n.state)}const fZ=pc.compute([_o],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(hZ)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new pd(md(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let r of e.state.facet(dZ)){let s=r(e,t,i);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(_o)!=e.state.facet(_o),initialSpacer(e){return new pd(md(e,$O(e.state.doc.lines)))},updateSpacer(e,t){let i=md(t.view,$O(t.view.state.doc.lines));return i==e.number?e:new pd(i)},domEventHandlers:n.facet(_o).domEventHandlers}));function pZ(n={}){return[_o.of(n),aZ(),fZ]}function $O(n){let e=9;for(;e<n;)e=e*10+9;return e}const O3=1024;let mZ=0;class gd{constructor(e,t){this.from=e,this.to=t}}class St{constructor(e={}){this.id=mZ++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=jn.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}St.closedBy=new St({deserialize:n=>n.split(" ")});St.openedBy=new St({deserialize:n=>n.split(" ")});St.group=new St({deserialize:n=>n.split(" ")});St.isolate=new St({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});St.contextHash=new St({perNode:!0});St.lookAhead=new St({perNode:!0});St.mounted=new St({perNode:!0});class th{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[St.mounted.id]}}const gZ=Object.create(null);class jn{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):gZ,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new jn(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(St.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(St.group),s=-1;s<(r?r.length:0);s++){let o=t[s<0?i.name:r[s]];if(o)return o}}}}jn.none=new jn("",Object.create(null),0,8);class _m{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}t.push(r?new jn(i.name,r,i.id,i.flags):i)}return new _m(t)}}const Zu=new WeakMap,AO=new WeakMap;var dn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(dn||(dn={}));class un{constructor(e,t,i,r,s){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=th.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new np(this.topNode,e)}cursorAt(e,t=0,i=0){let r=Zu.get(this)||this.topNode,s=new np(r);return s.moveTo(e,t),Zu.set(this,s._tree),s}get topNode(){return new Hn(this,0,0,null)}resolve(e,t=0){let i=Pl(Zu.get(this)||this.topNode,e,t,!1);return Zu.set(this,i),i}resolveInner(e,t=0){let i=Pl(AO.get(this)||this.topNode,e,t,!0);return AO.set(this,i),i}resolveStack(e,t=0){return yZ(this,e,t)}iterate(e){let{enter:t,leave:i,from:r=0,to:s=this.length}=e,o=e.mode||0,a=(o&dn.IncludeAnonymous)>0;for(let l=this.cursor(o|dn.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=r&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Tm(jn.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new un(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new un(jn.none,t,i,r)))}static build(e){return bZ(e)}}un.empty=new un(jn.none,[],[],0);class $m{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new $m(this.buffer,this.index)}}class xs{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return jn.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(y3(s,r,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let r=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=r[a++],s[l++]=r[a++]-i;let u=s[l++]=r[a++]-i;s[l++]=r[a++]-e,o=Math.max(o,u)}return new xs(s,o,this.set)}}function y3(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Pl(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof Hn&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=i?0:dn.IgnoreOverlays;if(i)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Hn&&o.index<0&&((r=a.enter(e,t,s))===null||r===void 0?void 0:r.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class b3{cursor(e=0){return new np(this,e)}getChild(e,t=null,i=null){let r=TO(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return TO(this,e,t,i)}resolve(e,t=0){return Pl(this,e,t,!1)}resolveInner(e,t=0){return Pl(this,e,t,!0)}matchContext(e){return tp(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(i=t,t=r.prevSibling):t=r}return i}get node(){return this}get next(){return this.parent}}class Hn extends b3{constructor(e,t,i,r){super(),this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=t>0?a.length:-1;e!=u;e+=t){let c=a[e],h=l[e]+o.from;if(y3(r,i,h,h+c.length)){if(c instanceof xs){if(s&dn.ExcludeBuffers)continue;let d=c.findChild(0,c.buffer.length,t,i-h,r);if(d>-1)return new Wi(new vZ(o,c,e,h),null,d)}else if(s&dn.IncludeAnonymous||!c.type.isAnonymous||Am(c)){let d;if(!(s&dn.IgnoreMounts)&&(d=th.get(c))&&!d.overlay)return new Hn(d.tree,h,e,o);let m=new Hn(c,h,e,o);return s&dn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?c.children.length-1:0,t,i,r)}}}if(s&dn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&dn.IgnoreOverlays)&&(r=th.get(this._tree))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Hn(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function TO(n,e,t,i){let r=n.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=r.type.is(t),!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function tp(n,e,t=e.length-1){for(let i=n;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class vZ{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class Wi extends b3{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new Wi(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&dn.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Wi(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Wi(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Wi(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1];e.push(i.slice(r,s,o)),t.push(0)}return new un(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function w3(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof Hn&&t.index<0?null:t.parent,r=n.slice();return i?r[e]=i:r.splice(e,1),new OZ(r,t)}class OZ{constructor(e,t){this.heads=e,this.node=t}get next(){return w3(this.heads)}}function yZ(n,e,t){let i=n.resolveInner(e,t),r=null;for(let s=i instanceof Hn?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(r||(r=[i])).push(o.resolve(e,t)),s=o}else{let o=th.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Hn(o.tree,o.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(Pl(a,e,t,!1))}}return r?w3(r):i}class np{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Hn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof Hn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&dn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&dn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&dn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&dn.IncludeAnonymous||a instanceof xs||!a.type.isAnonymous||Am(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)t=new Wi(this.buffer,t,this.stack[r]);return this.bufferNode=new Wi(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return tp(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return tp(this._tree,e,r);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Am(n){return n.children.some(e=>e instanceof xs||!e.type.isAnonymous||Am(e))}function bZ(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=O3,reused:s=[],minRepeatType:o=i.types.length}=n,a=Array.isArray(t)?new $m(t,t.length):t,l=i.types,u=0,c=0;function h(R,Q,M,B,N,K){let{id:q,start:Z,end:re,size:P}=a,j=c,L=u;for(;P<0;)if(a.next(),P==-1){let he=s[q];M.push(he),B.push(Z-R);return}else if(P==-3){u=q;return}else if(P==-4){c=q;return}else throw new RangeError(`Unrecognized record size: ${P}`);let H=l[q],ee,ce,te=Z-R;if(re-Z<=r&&(ce=k(a.pos-Q,N))){let he=new Uint16Array(ce.size-ce.skip),W=a.pos-ce.size,ae=he.length;for(;a.pos>W;)ae=_(ce.start,he,ae);ee=new xs(he,re-ce.start,i),te=ce.start-R}else{let he=a.pos-P;a.next();let W=[],ae=[],Oe=q>=o?q:-1,we=0,Ne=re;for(;a.pos>he;)Oe>=0&&a.id==Oe&&a.size>=0?(a.end<=Ne-r&&(v(W,ae,Z,we,a.end,Ne,Oe,j,L),we=W.length,Ne=a.end),a.next()):K>2500?d(Z,he,W,ae):h(Z,he,W,ae,Oe,K+1);if(Oe>=0&&we>0&&we<W.length&&v(W,ae,Z,we,Z,Ne,Oe,j,L),W.reverse(),ae.reverse(),Oe>-1&&we>0){let Re=m(H,L);ee=Tm(H,W,ae,0,W.length,0,re-Z,Re,Re)}else ee=b(H,W,ae,re-Z,j-re,L)}M.push(ee),B.push(te)}function d(R,Q,M,B){let N=[],K=0,q=-1;for(;a.pos>Q;){let{id:Z,start:re,end:P,size:j}=a;if(j>4)a.next();else{if(q>-1&&re<q)break;q<0&&(q=P-r),N.push(Z,re,P),K++,a.next()}}if(K){let Z=new Uint16Array(K*4),re=N[N.length-2];for(let P=N.length-3,j=0;P>=0;P-=3)Z[j++]=N[P],Z[j++]=N[P+1]-re,Z[j++]=N[P+2]-re,Z[j++]=j;M.push(new xs(Z,N[2]-re,i)),B.push(re-R)}}function m(R,Q){return(M,B,N)=>{let K=0,q=M.length-1,Z,re;if(q>=0&&(Z=M[q])instanceof un){if(!q&&Z.type==R&&Z.length==N)return Z;(re=Z.prop(St.lookAhead))&&(K=B[q]+Z.length+re)}return b(R,M,B,N,K,Q)}}function v(R,Q,M,B,N,K,q,Z,re){let P=[],j=[];for(;R.length>B;)P.push(R.pop()),j.push(Q.pop()+M-N);R.push(b(i.types[q],P,j,K-N,Z-K,re)),Q.push(N-M)}function b(R,Q,M,B,N,K,q){if(K){let Z=[St.contextHash,K];q=q?[Z].concat(q):[Z]}if(N>25){let Z=[St.lookAhead,N];q=q?[Z].concat(q):[Z]}return new un(R,Q,M,B,q)}function k(R,Q){let M=a.fork(),B=0,N=0,K=0,q=M.end-r,Z={size:0,start:0,skip:0};e:for(let re=M.pos-R;M.pos>re;){let P=M.size;if(M.id==Q&&P>=0){Z.size=B,Z.start=N,Z.skip=K,K+=4,B+=4,M.next();continue}let j=M.pos-P;if(P<0||j<re||M.start<q)break;let L=M.id>=o?4:0,H=M.start;for(M.next();M.pos>j;){if(M.size<0)if(M.size==-3)L+=4;else break e;else M.id>=o&&(L+=4);M.next()}N=H,B+=P,K+=L}return(Q<0||B==R)&&(Z.size=B,Z.start=N,Z.skip=K),Z.size>4?Z:void 0}function _(R,Q,M){let{id:B,start:N,end:K,size:q}=a;if(a.next(),q>=0&&B<o){let Z=M;if(q>4){let re=a.pos-(q-4);for(;a.pos>re;)M=_(R,Q,M)}Q[--M]=Z,Q[--M]=K-R,Q[--M]=N-R,Q[--M]=B}else q==-3?u=B:q==-4&&(c=B);return M}let T=[],$=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,T,$,-1,0);let w=(e=n.length)!==null&&e!==void 0?e:T.length?$[0]+T[0].length:0;return new un(l[n.topID],T.reverse(),$.reverse(),w)}const PO=new WeakMap;function mc(n,e){if(!n.isAnonymous||e instanceof xs||e.type!=n)return 1;let t=PO.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof un)){t=1;break}t+=mc(n,i)}PO.set(e,t)}return t}function Tm(n,e,t,i,r,s,o,a,l){let u=0;for(let v=i;v<r;v++)u+=mc(n,e[v]);let c=Math.ceil(u*1.5/8),h=[],d=[];function m(v,b,k,_,T){for(let $=k;$<_;){let w=$,R=b[$],Q=mc(n,v[$]);for($++;$<_;$++){let M=mc(n,v[$]);if(Q+M>=c)break;Q+=M}if($==w+1){if(Q>c){let M=v[w];m(M.children,M.positions,0,M.children.length,b[w]+T);continue}h.push(v[w])}else{let M=b[$-1]+v[$-1].length-R;h.push(Tm(n,v,b,w,$,R,M,null,l))}d.push(R+T-s)}}return m(e,t,i,r,0),(a||l)(h,d,o)}class wZ{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof Wi?this.setBuffer(e.context.buffer,e.index,t):e instanceof Hn&&this.map.set(e.tree,t)}get(e){return e instanceof Wi?this.getBuffer(e.context.buffer,e.index):e instanceof Hn?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Ws{constructor(e,t,i,r,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new Ws(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let c=a<t.length?t[a]:null,h=c?c.fromA:1e9;if(h-l>=i)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||u){let m=Math.max(d.from,l)-u,v=Math.min(d.to,h)-u;d=m>=v?null:new Ws(m,v,d.tree,d.offset+u,a>0,!!c)}if(d&&r.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return r}}class x3{startParse(e,t,i){return typeof e=="string"&&(e=new xZ(e)),i=i?i.length?i.map(r=>new gd(r.from,r.to)):[new gd(0,0)]:[new gd(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let s=r.advance();if(s)return s}}}class xZ{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new St({perNode:!0});let SZ=0;class di{constructor(e,t,i,r){this.name=e,this.set=t,this.base=i,this.modified=r,this.id=SZ++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof di&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let r=new di(i,[],null,[]);if(r.set.push(r),t)for(let s of t.set)r.set.push(s);return r}static defineModifier(e){let t=new nh(e);return i=>i.modified.indexOf(t)>-1?i:nh.get(i.base||i,i.modified.concat(t).sort((r,s)=>r.id-s.id))}}let kZ=0;class nh{constructor(e){this.name=e,this.instances=[],this.id=kZ++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&_Z(t,a.modified));if(i)return i;let r=[],s=new di(e.name,r,e,t);for(let a of t)a.instances.push(s);let o=$Z(t);for(let a of e.set)if(!a.modified.length)for(let l of o)r.push(nh.get(a,l));return s}}function _Z(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function $Z(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function S3(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let s=[],o=2,a=r;for(let h=0;;){if(a=="..."&&h>0&&h+3==r.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+r);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),h+=d[0].length,h==r.length)break;let m=r[h++];if(h==r.length&&m=="!"){o=0;break}if(m!="/")throw new RangeError("Invalid path: "+r);a=r.slice(h)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+r);let c=new ih(i,o,l>0?s.slice(0,l):null);e[u]=c.sort(e[u])}}return k3.add(e)}const k3=new St;class ih{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}ih.empty=new ih([],2,null);function _3(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let u=t[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:i}}function AZ(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function TZ(n,e,t,i=0,r=n.length){let s=new PZ(i,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),i,r,"",s.highlighters),s.flush(r)}class PZ{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=t)return;o.isTop&&(s=this.highlighters.filter(m=>!m.scope||m.scope(o)));let u=r,c=MZ(e)||ih.empty,h=AZ(s,c.tags);if(h&&(u&&(u+=" "),u+=h,c.mode==1&&(r+=(r?" ":"")+h)),this.startSpan(Math.max(t,a),u),c.opaque)return;let d=e.tree&&e.tree.prop(St.mounted);if(d&&d.overlay){let m=e.node.enter(d.overlay[0].from+a,1),v=this.highlighters.filter(k=>!k.scope||k.scope(d.tree.type)),b=e.firstChild();for(let k=0,_=a;;k++){let T=k<d.overlay.length?d.overlay[k]:null,$=T?T.from+a:l,w=Math.max(t,_),R=Math.min(i,$);if(w<R&&b)for(;e.from<R&&(this.highlightRange(e,w,R,r,s),this.startSpan(Math.min(R,e.to),u),!(e.to>=$||!e.nextSibling())););if(!T||$>i)break;_=T.to+a,_>t&&(this.highlightRange(m.cursor(),Math.max(t,T.from+a),Math.min(i,_),"",v),this.startSpan(Math.min(i,_),u))}b&&e.parent()}else if(e.firstChild()){d&&(r="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,s),this.startSpan(Math.min(i,e.to),u)}while(e.nextSibling());e.parent()}}}function MZ(n){let e=n.type.prop(k3);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const De=di.define,Bu=De(),is=De(),MO=De(is),CO=De(is),rs=De(),Vu=De(rs),vd=De(rs),Zi=De(),Cs=De(Zi),Ii=De(),Ni=De(),ip=De(),_a=De(ip),Xu=De(),ue={comment:Bu,lineComment:De(Bu),blockComment:De(Bu),docComment:De(Bu),name:is,variableName:De(is),typeName:MO,tagName:De(MO),propertyName:CO,attributeName:De(CO),className:De(is),labelName:De(is),namespace:De(is),macroName:De(is),literal:rs,string:Vu,docString:De(Vu),character:De(Vu),attributeValue:De(Vu),number:vd,integer:De(vd),float:De(vd),bool:De(rs),regexp:De(rs),escape:De(rs),color:De(rs),url:De(rs),keyword:Ii,self:De(Ii),null:De(Ii),atom:De(Ii),unit:De(Ii),modifier:De(Ii),operatorKeyword:De(Ii),controlKeyword:De(Ii),definitionKeyword:De(Ii),moduleKeyword:De(Ii),operator:Ni,derefOperator:De(Ni),arithmeticOperator:De(Ni),logicOperator:De(Ni),bitwiseOperator:De(Ni),compareOperator:De(Ni),updateOperator:De(Ni),definitionOperator:De(Ni),typeOperator:De(Ni),controlOperator:De(Ni),punctuation:ip,separator:De(ip),bracket:_a,angleBracket:De(_a),squareBracket:De(_a),paren:De(_a),brace:De(_a),content:Zi,heading:Cs,heading1:De(Cs),heading2:De(Cs),heading3:De(Cs),heading4:De(Cs),heading5:De(Cs),heading6:De(Cs),contentSeparator:De(Zi),list:De(Zi),quote:De(Zi),emphasis:De(Zi),strong:De(Zi),link:De(Zi),monospace:De(Zi),strikethrough:De(Zi),inserted:De(),deleted:De(),changed:De(),invalid:De(),meta:Xu,documentMeta:De(Xu),annotation:De(Xu),processingInstruction:De(Xu),definition:di.defineModifier("definition"),constant:di.defineModifier("constant"),function:di.defineModifier("function"),standard:di.defineModifier("standard"),local:di.defineModifier("local"),special:di.defineModifier("special")};for(let n in ue){let e=ue[n];e instanceof di&&(e.name=n)}_3([{tag:ue.link,class:"tok-link"},{tag:ue.heading,class:"tok-heading"},{tag:ue.emphasis,class:"tok-emphasis"},{tag:ue.strong,class:"tok-strong"},{tag:ue.keyword,class:"tok-keyword"},{tag:ue.atom,class:"tok-atom"},{tag:ue.bool,class:"tok-bool"},{tag:ue.url,class:"tok-url"},{tag:ue.labelName,class:"tok-labelName"},{tag:ue.inserted,class:"tok-inserted"},{tag:ue.deleted,class:"tok-deleted"},{tag:ue.literal,class:"tok-literal"},{tag:ue.string,class:"tok-string"},{tag:ue.number,class:"tok-number"},{tag:[ue.regexp,ue.escape,ue.special(ue.string)],class:"tok-string2"},{tag:ue.variableName,class:"tok-variableName"},{tag:ue.local(ue.variableName),class:"tok-variableName tok-local"},{tag:ue.definition(ue.variableName),class:"tok-variableName tok-definition"},{tag:ue.special(ue.variableName),class:"tok-variableName2"},{tag:ue.definition(ue.propertyName),class:"tok-propertyName tok-definition"},{tag:ue.typeName,class:"tok-typeName"},{tag:ue.namespace,class:"tok-namespace"},{tag:ue.className,class:"tok-className"},{tag:ue.macroName,class:"tok-macroName"},{tag:ue.propertyName,class:"tok-propertyName"},{tag:ue.operator,class:"tok-operator"},{tag:ue.comment,class:"tok-comment"},{tag:ue.meta,class:"tok-meta"},{tag:ue.invalid,class:"tok-invalid"},{tag:ue.punctuation,class:"tok-punctuation"}]);var Od;const $o=new St;function $3(n){return ot.define({combine:n?e=>e.concat(n):void 0})}const Pm=new St;class Ti{constructor(e,t,i=[],r=""){this.data=e,this.name=r,Ct.prototype.hasOwnProperty("tree")||Object.defineProperty(Ct.prototype,"tree",{get(){return li(this)}}),this.parser=t,this.extension=[sa.of(this),Ct.languageData.of((s,o,a)=>{let l=EO(s,o,a),u=l.type.prop($o);if(!u)return[];let c=s.facet(u),h=l.type.prop(Pm);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let v=s.facet(m.facet);return m.type=="replace"?v:v.concat(c)}}return c})].concat(i)}isActiveAt(e,t,i=-1){return EO(e,t,i).type.prop($o)==this.data}findRegions(e){let t=e.facet(sa);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop($o)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(St.mounted);if(a){if(a.tree.prop($o)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(r(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof un&&r(u,s.positions[l]+o)}};return r(li(e),0),i}get allowsNesting(){return!0}}Ti.setState=en.define();function EO(n,e,t){let i=n.facet(sa),r=li(n).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,t,dn.ExcludeBuffers))s.type.isTop&&(r=s);return r}class rh extends Ti{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=$3(e.languageData);return new rh(t,e.parser.configure({props:[$o.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new rh(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function li(n){let e=n.field(Ti.state,!1);return e?e.tree:un.empty}class CZ{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let $a=null;class sh{constructor(e,t,i=[],r,s,o,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new sh(e,t,[],un.empty,0,i,[],null)}startParse(){return this.parser.startParse(new CZ(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=un.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(Ws.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ws.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=$a;$a=this;try{return e()}finally{$a=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=QO(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,h,d)=>l.push({fromA:u,toA:c,fromB:h,toB:d})),i=Ws.applyChanges(i,l),r=un.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);c<h&&a.push({from:c,to:h})}}}return new sh(this.parser,t,i,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=QO(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends x3{createParse(t,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let l=$a;if(l){for(let u of r)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new un(jn.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return $a}}function QO(n,e,t){return Ws.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class ra{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new ra(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=sh.create(e.facet(sa).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new ra(i)}}Ti.state=ks.define({create:ra.init,update(n,e){for(let t of e.effects)if(t.is(Ti.setState))return t.value;return e.startState.facet(sa)!=e.state.facet(sa)?ra.init(e.state):n.apply(e)}});let A3=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(A3=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const yd=typeof navigator<"u"&&(!((Od=navigator.scheduling)===null||Od===void 0)&&Od.isInputPending)?()=>navigator.scheduling.isInputPending():null,EZ=ws.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ti.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ti.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=A3(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(Ti.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!yd?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&i.doc.length>r+1e3,l=s.context.work(()=>yd&&yd()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ti.setState.of(new ra(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Gi(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),sa=ot.define({combine(n){return n.length?n[0]:null},enables:n=>[Ti.state,EZ,mt.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class QZ{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const RZ=ot.define(),jh=ot.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function oh(n){let e=n.facet(jh);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function ah(n,e){let t="",i=n.tabSize,r=n.facet(jh)[0];if(r=="	"){for(;e>=i;)t+="	",e-=i;r=" "}for(let s=0;s<e;s++)t+=r;return t}function T3(n,e){n instanceof Ct&&(n=new Uh(n));for(let i of n.state.facet(RZ)){let r=i(n,e);if(r!==void 0)return r}let t=li(n.state);return t.length>=e?zZ(n,t,e):null}class Uh{constructor(e,t={}){this.state=e,this.options=t,this.unit=oh(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return Vh(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const P3=new St;function zZ(n,e,t){let i=e.resolveStack(t),r=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(r!=i.node){let s=[];for(let o=r;o&&!(o.from==i.node.from&&o.type==i.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return M3(i,n,t)}function M3(n,e,t){for(let i=n;i;i=i.next){let r=IZ(i.node);if(r)return r(Mm.create(e,t,i))}return 0}function DZ(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function IZ(n){let e=n.type.prop(P3);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(St.closedBy))){let r=n.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>C3(o,!0,1,void 0,s&&!DZ(o)?r.from:void 0)}return n.parent==null?NZ:null}function NZ(){return 0}class Mm extends Uh{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new Mm(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(LZ(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return M3(this.context.next,this.base,this.pos)}}function LZ(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function ZZ(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let u=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+u}}a=l.to}}function BZ({closing:n,align:e=!0,units:t=1}){return i=>C3(i,e,t,n)}function C3(n,e,t,i,r){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==n.pos+o,l=e?ZZ(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const VZ=n=>n.baseIndent;function bd({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const XZ=new St;function qZ(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}class Vl{constructor(e,t){this.specs=e;let i;function r(a){let l=Os.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof Ti?a=>a.prop($o)==o.data:o?a=>a==o:void 0,this.style=_3(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new Os(i):null,this.themeType=t.themeType}static define(e,t){return new Vl(e,t||{})}}const rp=ot.define(),FZ=ot.define({combine(n){return n.length?[n[0]]:null}});function wd(n){let e=n.facet(rp);return e.length?e:n.facet(FZ)}function E3(n,e){let t=[jZ],i;return n instanceof Vl&&(n.module&&t.push(mt.styleModule.of(n.module)),i=n.themeType),i?t.push(rp.computeN([mt.darkTheme],r=>r.facet(mt.darkTheme)==(i=="dark")?[n]:[])):t.push(rp.of(n)),t}class HZ{constructor(e){this.markCache=Object.create(null),this.tree=li(e.state),this.decorations=this.buildDeco(e,wd(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=li(e.state),i=wd(e.state),r=i!=wd(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!r&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return sn.none;let i=new Sl;for(let{from:r,to:s}of e.visibleRanges)TZ(this.tree,t,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=sn.mark({class:l})))},r,s);return i.finish()}}const jZ=Zh.high(ws.fromClass(HZ,{decorations:n=>n.decorations})),UZ=Vl.define([{tag:ue.meta,color:"#404740"},{tag:ue.link,textDecoration:"underline"},{tag:ue.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ue.emphasis,fontStyle:"italic"},{tag:ue.strong,fontWeight:"bold"},{tag:ue.strikethrough,textDecoration:"line-through"},{tag:ue.keyword,color:"#708"},{tag:[ue.atom,ue.bool,ue.url,ue.contentSeparator,ue.labelName],color:"#219"},{tag:[ue.literal,ue.inserted],color:"#164"},{tag:[ue.string,ue.deleted],color:"#a11"},{tag:[ue.regexp,ue.escape,ue.special(ue.string)],color:"#e40"},{tag:ue.definition(ue.variableName),color:"#00f"},{tag:ue.local(ue.variableName),color:"#30a"},{tag:[ue.typeName,ue.namespace],color:"#085"},{tag:ue.className,color:"#167"},{tag:[ue.special(ue.variableName),ue.macroName],color:"#256"},{tag:ue.definition(ue.propertyName),color:"#00c"},{tag:ue.comment,color:"#940"},{tag:ue.invalid,color:"#f00"}]),GZ=1e4,WZ="()[]{}",YZ=new St;function sp(n,e,t){let i=n.prop(e<0?St.openedBy:St.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function op(n){let e=n.type.prop(YZ);return e?e(n.node):n}function Ao(n,e,t,i={}){let r=i.maxScanDistance||GZ,s=i.brackets||WZ,o=li(n),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let u=sp(l.type,t,s);if(u&&l.from<l.to){let c=op(l);if(c&&(t>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return KZ(n,e,t,l,c,u,s)}}return JZ(n,e,t,o,a.type,r,s)}function KZ(n,e,t,i,r,s,o){let a=i.parent,l={from:r.from,to:r.to},u=0,c=a==null?void 0:a.cursor();if(c&&(t<0?c.childBefore(i.from):c.childAfter(i.to)))do if(t<0?c.to<=i.from:c.from>=i.to){if(u==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let h=op(c);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(sp(c.type,t,o))u++;else if(sp(c.type,-t,o)){if(u==0){let h=op(c);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(t<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function JZ(n,e,t,i,r,s,o){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let u={from:t<0?e-1:e,to:t>0?e+1:e},c=n.doc.iterRange(e,t>0?n.doc.length:0),h=0;for(let d=0;!c.next().done&&d<=s;){let m=c.value;t<0&&(d+=m.length);let v=e+d*t;for(let b=t>0?0:m.length-1,k=t>0?m.length:-1;b!=k;b+=t){let _=o.indexOf(m[b]);if(!(_<0||i.resolveInner(v+b,1).type!=r))if(_%2==0==t>0)h++;else{if(h==1)return{start:u,end:{from:v+b,to:v+b+1},matched:_>>1==l>>1};h--}}t>0&&(d+=m.length)}return c.done?{start:u,matched:!1}:null}const eB=Object.create(null),RO=[jn.none],zO=[],DO=Object.create(null),tB=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])tB[n]=nB(eB,e);function xd(n,e){zO.indexOf(n)>-1||(zO.push(n),console.warn(e))}function nB(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let u of a.split(".")){let c=n[u]||ue[u];c?typeof c=="function"?l.length?l=l.map(c):xd(u,`Modifier ${u} used at start of tag`):l.length?xd(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:xd(u,`Unknown highlighting tag ${u}`)}for(let u of l)t.push(u)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+t.map(a=>a.id),s=DO[r];if(s)return s.id;let o=DO[r]=jn.define({id:RO.length,name:i,props:[S3({[i]:t})]});return RO.push(o),o.id}pn.RTL,pn.LTR;const iB=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=Em(n.state,t.from);return i.line?rB(n):i.block?oB(n):!1};function Cm(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const rB=Cm(uB,0),sB=Cm(Q3,0),oB=Cm((n,e)=>Q3(n,e,lB(e)),0);function Em(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Aa=50;function aB(n,{open:e,close:t},i,r){let s=n.sliceDoc(i-Aa,i),o=n.sliceDoc(r,r+Aa),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+t.length)==t)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let c,h;r-i<=2*Aa?c=h=n.sliceDoc(i,r):(c=n.sliceDoc(i,i+Aa),h=n.sliceDoc(r-Aa,r));let d=/^\s*/.exec(c)[0].length,m=/\s*$/.exec(h)[0].length,v=h.length-m-t.length;return c.slice(d,d+e.length)==e&&h.slice(v,v+t.length)==t?{open:{pos:i+d+e.length,margin:/\s/.test(c.charAt(d+e.length))?1:0},close:{pos:r-m-t.length,margin:/\s/.test(h.charAt(v-1))?1:0}}:null}function lB(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to);r.from>i.from&&r.from==t.to&&(r=t.to==i.to+1?i:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function Q3(n,e,t=e.selection.ranges){let i=t.map(s=>Em(e,s.from).block);if(!i.every(s=>s))return null;let r=t.map((s,o)=>aB(e,i[o],s.from,s.to));if(n!=2&&!r.every(s=>s))return{changes:e.changes(t.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(n!=1&&r.some(s=>s)){let s=[];for(let o=0,a;o<r.length;o++)if(a=r[o]){let l=i[o],{open:u,close:c}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function uB(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of t){let a=i.length,l=1e9,u=Em(e,s).line;if(u){for(let c=s;c<=o;){let h=e.doc.lineAt(c);if(h.from>r&&(s==o||o>h.from)){r=h.from;let d=/^\s*/.exec(h.text)[0].length,m=d==h.length,v=h.text.slice(d,d+u.length)==u?d:-1;d<h.text.length&&d<l&&(l=d),i.push({line:h,comment:v,token:u,indent:d,empty:m,single:!1})}c=h.to+1}if(l<1e9)for(let c=a;c<i.length;c++)i[c].indent<i[c].line.text.length&&(i[c].indent=l);i.length==a+1&&(i[a].single=!0)}}if(n!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:c,single:h}of i)(h||!c)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let u=o.from+a,c=u+l.length;o.text[c-o.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}function ua(n,e){return Pe.create(n.ranges.map(e),n.mainIndex)}function ar(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function zi({state:n,dispatch:e},t){let i=ua(n.selection,t);return i.eq(n.selection,!0)?!1:(e(ar(n,i)),!0)}function Gh(n,e){return Pe.cursor(e?n.to:n.from)}function R3(n,e){return zi(n,t=>t.empty?n.moveByChar(t,e):Gh(t,e))}function Tn(n){return n.textDirectionAt(n.state.selection.main.head)==pn.LTR}const z3=n=>R3(n,!Tn(n)),D3=n=>R3(n,Tn(n));function I3(n,e){return zi(n,t=>t.empty?n.moveByGroup(t,e):Gh(t,e))}const cB=n=>I3(n,!Tn(n)),hB=n=>I3(n,Tn(n));function dB(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Wh(n,e,t){let i=li(n).resolveInner(e.head),r=t?St.closedBy:St.openedBy;for(let l=e.head;;){let u=t?i.childAfter(l):i.childBefore(l);if(!u)break;dB(n,u,r)?i=u:l=t?u.to:u.from}let s=i.type.prop(r),o,a;return s&&(o=t?Ao(n,i.from,1):Ao(n,i.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?i.to:i.from,Pe.cursor(a,t?-1:1)}const fB=n=>zi(n,e=>Wh(n.state,e,!Tn(n))),pB=n=>zi(n,e=>Wh(n.state,e,Tn(n)));function N3(n,e){return zi(n,t=>{if(!t.empty)return Gh(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const L3=n=>N3(n,!1),Z3=n=>N3(n,!0);function B3(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,r;if(e){for(let s of n.state.facet(mt.scrollMargins)){let o=s(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(i=Math.max(o==null?void 0:o.bottom,i))}r=n.scrollDOM.clientHeight-t-i}else r=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,r-5)}}function V3(n,e){let t=B3(n),{state:i}=n,r=ua(i.selection,o=>o.empty?n.moveVertically(o,e,t.height):Gh(o,e));if(r.eq(i.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(i.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,u=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<u&&(s=mt.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-l}))}return n.dispatch(ar(i,r),{effects:s}),!0}const IO=n=>V3(n,!1),ap=n=>V3(n,!0);function _s(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let s=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=Pe.cursor(i.from+s))}return r}const mB=n=>zi(n,e=>_s(n,e,!0)),gB=n=>zi(n,e=>_s(n,e,!1)),vB=n=>zi(n,e=>_s(n,e,!Tn(n))),OB=n=>zi(n,e=>_s(n,e,Tn(n))),yB=n=>zi(n,e=>Pe.cursor(n.lineBlockAt(e.head).from,1)),bB=n=>zi(n,e=>Pe.cursor(n.lineBlockAt(e.head).to,-1));function wB(n,e,t){let i=!1,r=ua(n.selection,s=>{let o=Ao(n,s.head,-1)||Ao(n,s.head,1)||s.head>0&&Ao(n,s.head-1,1)||s.head<n.doc.length&&Ao(n,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return Pe.cursor(a)});return i?(e(ar(n,r)),!0):!1}const xB=({state:n,dispatch:e})=>wB(n,e);function xi(n,e){let t=ua(n.state.selection,i=>{let r=e(i);return Pe.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(ar(n.state,t)),!0)}function X3(n,e){return xi(n,t=>n.moveByChar(t,e))}const q3=n=>X3(n,!Tn(n)),F3=n=>X3(n,Tn(n));function H3(n,e){return xi(n,t=>n.moveByGroup(t,e))}const SB=n=>H3(n,!Tn(n)),kB=n=>H3(n,Tn(n)),_B=n=>xi(n,e=>Wh(n.state,e,!Tn(n))),$B=n=>xi(n,e=>Wh(n.state,e,Tn(n)));function j3(n,e){return xi(n,t=>n.moveVertically(t,e))}const U3=n=>j3(n,!1),G3=n=>j3(n,!0);function W3(n,e){return xi(n,t=>n.moveVertically(t,e,B3(n).height))}const NO=n=>W3(n,!1),LO=n=>W3(n,!0),AB=n=>xi(n,e=>_s(n,e,!0)),TB=n=>xi(n,e=>_s(n,e,!1)),PB=n=>xi(n,e=>_s(n,e,!Tn(n))),MB=n=>xi(n,e=>_s(n,e,Tn(n))),CB=n=>xi(n,e=>Pe.cursor(n.lineBlockAt(e.head).from)),EB=n=>xi(n,e=>Pe.cursor(n.lineBlockAt(e.head).to)),ZO=({state:n,dispatch:e})=>(e(ar(n,{anchor:0})),!0),BO=({state:n,dispatch:e})=>(e(ar(n,{anchor:n.doc.length})),!0),VO=({state:n,dispatch:e})=>(e(ar(n,{anchor:n.selection.main.anchor,head:0})),!0),XO=({state:n,dispatch:e})=>(e(ar(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),QB=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),RB=({state:n,dispatch:e})=>{let t=Yh(n).map(({from:i,to:r})=>Pe.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:Pe.create(t),userEvent:"select"})),!0},zB=({state:n,dispatch:e})=>{let t=ua(n.selection,i=>{let r=li(n),s=r.resolveStack(i.from,1);if(i.empty){let o=r.resolveStack(i.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from)&&o.next)return Pe.range(a.to,a.from)}return i});return t.eq(n.selection)?!1:(e(ar(n,t)),!0)},DB=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=Pe.create([t.main]):t.main.empty||(i=Pe.create([Pe.cursor(t.main.head)])),i?(e(ar(n,i)),!0):!1};function Xl(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,r=i.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(t="delete.backward",l=qu(n,l,!1)):l>o&&(t="delete.forward",l=qu(n,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=qu(n,o,!1),a=qu(n,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Pe.cursor(o,o<s.head?-1:1)}});return r.changes.empty?!1:(n.dispatch(i.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?mt.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function qu(n,e,t){if(n instanceof mt)for(let i of n.state.facet(mt.atomicRanges).map(r=>r(n)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=t?s:r)});return e}const Y3=(n,e,t)=>Xl(n,i=>{let r=i.from,{state:s}=n,o=s.doc.lineAt(r),a,l;if(t&&!e&&r>o.from&&r<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,r-o.from))){if(a[a.length-1]=="	")return r-1;let u=Vh(a,s.tabSize),c=u%oh(s)||oh(s);for(let h=0;h<c&&a[a.length-1-h]==" ";h++)r--;l=r}else l=In(o.text,r-o.from,e,e)+o.from,l==r&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,r-o.from))&&(l=In(o.text,l-o.from,!1,!1)+o.from);return l}),lp=n=>Y3(n,!1,!0),K3=n=>Y3(n,!0,!1),J3=(n,e)=>Xl(n,t=>{let i=t.head,{state:r}=n,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==t.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=In(s.text,i-s.from,e)+s.from,u=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),c=o(u);if(a!=null&&c!=a)break;(u!=" "||i!=t.head)&&(a=c),i=l}return i}),ew=n=>J3(n,!1),IB=n=>J3(n,!0),NB=n=>Xl(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),LB=n=>Xl(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),ZB=n=>Xl(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),BB=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Pt.of(["",""])},range:Pe.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},VB=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,s=n.doc.lineAt(r),o=r==s.from?r-1:In(s.text,r-s.from,!1)+s.from,a=r==s.to?r+1:In(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:n.doc.slice(r,a).append(n.doc.slice(o,r))},range:Pe.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Yh(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),s=n.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=n.doc.lineAt(i.to-1)),t>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});t=s.number+1}return e}function tw(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let s of Yh(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let l of s.ranges)r.push(Pe.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let l of s.ranges)r.push(Pe.range(l.anchor-a,l.head-a))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:Pe.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const XB=({state:n,dispatch:e})=>tw(n,e,!1),qB=({state:n,dispatch:e})=>tw(n,e,!0);function nw(n,e,t){if(n.readOnly)return!1;let i=[];for(let r of Yh(n))t?i.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):i.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const FB=({state:n,dispatch:e})=>nw(n,e,!1),HB=({state:n,dispatch:e})=>nw(n,e,!0),jB=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Yh(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=ua(e.selection,r=>{let s;if(n.lineWrapping){let o=n.lineBlockAt(r.head),a=n.coordsAtPos(r.head,r.assoc||1);a&&(s=o.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(r,!0,s)}).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function UB(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=li(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(St.closedBy))&&s.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from&&!/\S/.test(n.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const qO=iw(!1),GB=iw(!0);function iw(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,a=e.doc.lineAt(s),l=!n&&s==o&&UB(e,s);n&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new Uh(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=T3(u,s);for(c==null&&(c=Vh(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",ah(e,c)];return l&&h.push(ah(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Pt.of(h)},range:Pe.cursor(s+1+h[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Qm(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let a=n.doc.lineAt(o);a.number>t&&(i.empty||i.to>a.from)&&(e(a,r,i),t=a.number),o=a.to+1}let s=n.changes(r);return{changes:r,range:Pe.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const WB=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new Uh(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),r=Qm(n,(s,o,a)=>{let l=T3(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],c=ah(n,l);(u!=c||a.from<s.from+u.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:c}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},rw=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Qm(n,(t,i)=>{i.push({from:t.from,insert:n.facet(jh)})}),{userEvent:"input.indent"})),!0),sw=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Qm(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=Vh(r,n.tabSize),o=0,a=ah(n,Math.max(0,s-oh(n)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),YB=n=>(n.setTabFocusMode(),!0),KB=[{key:"Ctrl-b",run:z3,shift:q3,preventDefault:!0},{key:"Ctrl-f",run:D3,shift:F3},{key:"Ctrl-p",run:L3,shift:U3},{key:"Ctrl-n",run:Z3,shift:G3},{key:"Ctrl-a",run:yB,shift:CB},{key:"Ctrl-e",run:bB,shift:EB},{key:"Ctrl-d",run:K3},{key:"Ctrl-h",run:lp},{key:"Ctrl-k",run:NB},{key:"Ctrl-Alt-h",run:ew},{key:"Ctrl-o",run:BB},{key:"Ctrl-t",run:VB},{key:"Ctrl-v",run:ap}],JB=[{key:"ArrowLeft",run:z3,shift:q3,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cB,shift:SB,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:vB,shift:PB,preventDefault:!0},{key:"ArrowRight",run:D3,shift:F3,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:hB,shift:kB,preventDefault:!0},{mac:"Cmd-ArrowRight",run:OB,shift:MB,preventDefault:!0},{key:"ArrowUp",run:L3,shift:U3,preventDefault:!0},{mac:"Cmd-ArrowUp",run:ZO,shift:VO},{mac:"Ctrl-ArrowUp",run:IO,shift:NO},{key:"ArrowDown",run:Z3,shift:G3,preventDefault:!0},{mac:"Cmd-ArrowDown",run:BO,shift:XO},{mac:"Ctrl-ArrowDown",run:ap,shift:LO},{key:"PageUp",run:IO,shift:NO},{key:"PageDown",run:ap,shift:LO},{key:"Home",run:gB,shift:TB,preventDefault:!0},{key:"Mod-Home",run:ZO,shift:VO},{key:"End",run:mB,shift:AB,preventDefault:!0},{key:"Mod-End",run:BO,shift:XO},{key:"Enter",run:qO,shift:qO},{key:"Mod-a",run:QB},{key:"Backspace",run:lp,shift:lp},{key:"Delete",run:K3},{key:"Mod-Backspace",mac:"Alt-Backspace",run:ew},{key:"Mod-Delete",mac:"Alt-Delete",run:IB},{mac:"Mod-Backspace",run:LB},{mac:"Mod-Delete",run:ZB}].concat(KB.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),eV=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:fB,shift:_B},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:pB,shift:$B},{key:"Alt-ArrowUp",run:XB},{key:"Shift-Alt-ArrowUp",run:FB},{key:"Alt-ArrowDown",run:qB},{key:"Shift-Alt-ArrowDown",run:HB},{key:"Escape",run:DB},{key:"Mod-Enter",run:GB},{key:"Alt-l",mac:"Ctrl-l",run:RB},{key:"Mod-i",run:zB,preventDefault:!0},{key:"Mod-[",run:sw},{key:"Mod-]",run:rw},{key:"Mod-Alt-\\",run:WB},{key:"Shift-Mod-k",run:jB},{key:"Shift-Mod-\\",run:xB},{key:"Mod-/",run:iB},{key:"Alt-A",run:sB},{key:"Ctrl-m",mac:"Shift-Alt-m",run:YB}].concat(JB),tV={key:"Tab",run:rw,shift:sw};var FO={};class lh{constructor(e,t,i,r,s,o,a,l,u,c=0,h){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new lh(e,[],t,i,i,0,[],0,r?new HO(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,r=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(r);if(a&&(this.score+=a),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(r,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,c=this.reducePos-u;c>=2e3&&!(!((t=this.p.parser.nodeSet.types[r])===null||t===void 0)&&t.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=c));let h=l?this.stack[l-1]:0,d=this.bufferBase+this.buffer.length-h;if(r<s.minRepeatTerm||e&131072){let m=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,u,m,d+4,!0)}if(e&262144)this.state=this.stack[l];else{let m=this.stack[l-3];this.state=s.getGoto(m,r,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(r,u)}storeNode(e,t,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==i)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>i;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=r}}shift(e,t,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4);else{let s=e,{parser:o}=this.p;(r>this.pos||t<=o.maxNode)&&(this.pos=r,o.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,r,4)}}apply(e,t,i,r){e&65536?this.reduce(e):this.shift(e,t,i,r)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new lh(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new nV(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(t[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<t.length;s+=2){let o=t[s+1];r.some((a,l)=>l&1&&a==o)||r.push(t[s],o)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let s=t[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[r],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,r=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(r,s)=>{if(!t.includes(r))return t.push(r),e.allActions(r,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,u=this.stack.length-a*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,s+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new HO(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class HO{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class nV{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class uh{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new uh(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new uh(this.stack,this.pos,this.index)}}function Va(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,r=0;i<n.length;){let s=0;for(;;){let o=n.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[r++]=s:t=new e(s)}return t}class gc{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const jO=new gc;class iV{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=jO,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,r;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=jO,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class Vo{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;ow(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Vo.prototype.contextual=Vo.prototype.fallback=Vo.prototype.extend=!1;class up{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?Va(e):e}token(e,t){let i=e.pos,r=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(ow(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||r++,o==null)break;e.reset(o,e.token)}r&&(e.reset(i,e.token),e.acceptToken(this.elseToken,r))}}up.prototype.contextual=Vo.prototype.fallback=Vo.prototype.extend=!1;class ql{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function ow(n,e,t,i,r,s){let o=0,a=1<<i,{dialect:l}=t.p.parser;e:for(;a&n[o];){let u=n[o+1];for(let m=o+3;m<u;m+=2)if((n[m+1]&a)>0){let v=n[m];if(l.allows(v)&&(e.token.value==-1||e.token.value==v||rV(v,e.token.value,r,s))){e.acceptToken(v);break}}let c=e.next,h=0,d=n[o+2];if(e.next<0&&d>h&&n[u+d*3-3]==65535){o=n[u+d*3-1];continue e}for(;h<d;){let m=h+d>>1,v=u+m+(m<<1),b=n[v],k=n[v+1]||65536;if(c<b)d=m;else if(c>=k)h=m+1;else{o=n[v+2],e.advance();continue e}}break}}function UO(n,e,t){for(let i=e,r;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function rV(n,e,t,i){let r=UO(t,i,e);return r<0||UO(t,i,n)<r}const Yn=typeof process<"u"&&FO&&/\bparse\b/.test(FO.LOG);let Sd=null;function GO(n,e,t){let i=n.cursor(dn.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class sV{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?GO(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?GO(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[t]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof un){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(St.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class oV{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new gc)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if(!(1<<u&o))continue;let c=s[u],h=this.tokens[u];if(!(i&&!c.fallback)&&((c.contextual||h.start!=e.pos||h.mask!=o||h.context!=a)&&(this.updateCachedToken(h,c,e),h.mask=o,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let d=t;if(h.extended>-1&&(t=this.addActions(e,h.extended,h.end,t)),t=this.addActions(e,h.value,h.end,t),!c.extend&&(i=h,t>d))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new gc,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new gc,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(s,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=vr(a,u+2);else{r==0&&a[u+1]==2&&(r=this.putAction(vr(a,u+2),t,i,r));break}a[u]==t&&(r=this.putAction(vr(a,u+1),t,i,r))}return r}}class aV{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new iV(t,r),this.tokens=new oV(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[lh.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new sV(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)i.push(a);else{if(this.advanceStack(a,i,e))continue;{r||(r=[],s=[]),r.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=r&&cV(r);if(o)return Yn&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Yn&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return Yn&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let u=i[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:s}=this,o=Yn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let h=this.fragments.nodeAt(r);h;){let d=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(d>-1&&h.length&&(!u||(h.prop(St.contextHash)||0)==c))return e.useNode(h,d),Yn&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof un)||h.children.length==0||h.positions[0]>0)break;let m=h.children[0];if(m instanceof un&&h.positions[0]==0)h=m;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Yn&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let c=l[u++],h=l[u++],d=l[u++],m=u==l.length||!i,v=m?e:e.split(),b=this.tokens.mainToken;if(v.apply(c,h,b?b.start:v.pos,d),Yn&&console.log(o+this.stackID(v)+` (via ${c&65536?`reduce of ${s.getName(c&65535)}`:"shift"} for ${s.getName(h)} @ ${r}${v==e?"":", split"})`),m)return!0;v.pos>r?t.push(v):i.push(v)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return WO(e,t),!0}}runRecovery(e,t,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],u=t[(o<<1)+1],c=Yn?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Yn&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let h=a.split(),d=c;for(let m=0;h.forceReduce()&&m<10&&(Yn&&console.log(d+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,i));m++)Yn&&(d=this.stackID(h)+" -> ");for(let m of a.recoverByInsert(l))Yn&&console.log(c+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,i);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),Yn&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),WO(a,i)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),un.build({buffer:uh.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Sd||(Sd=new WeakMap)).get(e);return t||Sd.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function WO(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class lV{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const kd=n=>n;class uV{constructor(e){this.start=e.start,this.shift=e.shift||kd,this.reduce=e.reduce||kd,this.reuse=e.reuse||kd,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class ch extends x3{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<t.length;a++)r.push([]);function s(a,l,u){r[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=St[l]);for(let u=1;u<a.length;){let c=a[u++];if(c>=0)s(c,l,a[u++]);else{let h=a[u+-c];for(let d=-c;d>0;d--)s(a[u++],l,h);u++}}}this.nodeSet=new _m(t.map((a,l)=>jn.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=O3;let o=Va(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(YO),this.states=Va(e.states,Uint32Array),this.data=Va(e.stateData),this.goto=Va(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Vo(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new aV(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let o=r[s++],a=o&1,l=r[s++];if(a&&i)return l;for(let u=s+(o>>1);s<u;s++)if(r[s]==e)return l;if(a)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=vr(i,s+2)];else{if(i[s+1]==2)return vr(i,s+2);break}if(o==t||o==0)return vr(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),r=i?t(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=vr(this.data,s+2);else break;r=t(vr(this.data,s+1))}return r}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=vr(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];t.some((s,o)=>o&1&&s==r)||t.push(this.data[i],r)}}return t}configure(e){let t=Object.assign(Object.create(ch.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[r]=YO(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new lV(e,i,r)}static deserialize(e){return new ch(e)}}function vr(n,e){return n[e]|n[e+1]<<16}function cV(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function YO(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const hV=314,dV=315,KO=1,fV=2,pV=3,mV=4,gV=316,vV=318,OV=319,yV=5,bV=6,wV=0,cp=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],aw=125,xV=59,hp=47,SV=42,kV=43,_V=45,$V=60,AV=44,TV=63,PV=46,MV=91,CV=new uV({start:!1,shift(n,e){return e==yV||e==bV||e==vV?n:e==OV},strict:!1}),EV=new ql((n,e)=>{let{next:t}=n;(t==aw||t==-1||e.context)&&n.acceptToken(gV)},{contextual:!0,fallback:!0}),QV=new ql((n,e)=>{let{next:t}=n,i;cp.indexOf(t)>-1||t==hp&&((i=n.peek(1))==hp||i==SV)||t!=aw&&t!=xV&&t!=-1&&!e.context&&n.acceptToken(hV)},{contextual:!0}),RV=new ql((n,e)=>{n.next==MV&&!e.context&&n.acceptToken(dV)},{contextual:!0}),zV=new ql((n,e)=>{let{next:t}=n;if(t==kV||t==_V){if(n.advance(),t==n.next){n.advance();let i=!e.context&&e.canShift(KO);n.acceptToken(i?KO:fV)}}else t==TV&&n.peek(1)==PV&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(pV))},{contextual:!0});function _d(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const DV=new ql((n,e)=>{if(n.next!=$V||!e.dialectEnabled(wV)||(n.advance(),n.next==hp))return;let t=0;for(;cp.indexOf(n.next)>-1;)n.advance(),t++;if(_d(n.next,!0)){for(n.advance(),t++;_d(n.next,!1);)n.advance(),t++;for(;cp.indexOf(n.next)>-1;)n.advance(),t++;if(n.next==AV)return;for(let i=0;;i++){if(i==7){if(!_d(n.next,!0))return;break}if(n.next!="extends".charCodeAt(i))break;n.advance(),t++}}n.acceptToken(mV,-t)}),IV=S3({"get set async static":ue.modifier,"for while do if else switch try catch finally return throw break continue default case":ue.controlKeyword,"in of await yield void typeof delete instanceof":ue.operatorKeyword,"let var const using function class extends":ue.definitionKeyword,"import export from":ue.moduleKeyword,"with debugger as new":ue.keyword,TemplateString:ue.special(ue.string),super:ue.atom,BooleanLiteral:ue.bool,this:ue.self,null:ue.null,Star:ue.modifier,VariableName:ue.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":ue.function(ue.variableName),VariableDefinition:ue.definition(ue.variableName),Label:ue.labelName,PropertyName:ue.propertyName,PrivatePropertyName:ue.special(ue.propertyName),"CallExpression/MemberExpression/PropertyName":ue.function(ue.propertyName),"FunctionDeclaration/VariableDefinition":ue.function(ue.definition(ue.variableName)),"ClassDeclaration/VariableDefinition":ue.definition(ue.className),"NewExpression/VariableName":ue.className,PropertyDefinition:ue.definition(ue.propertyName),PrivatePropertyDefinition:ue.definition(ue.special(ue.propertyName)),UpdateOp:ue.updateOperator,"LineComment Hashbang":ue.lineComment,BlockComment:ue.blockComment,Number:ue.number,String:ue.string,Escape:ue.escape,ArithOp:ue.arithmeticOperator,LogicOp:ue.logicOperator,BitOp:ue.bitwiseOperator,CompareOp:ue.compareOperator,RegExp:ue.regexp,Equals:ue.definitionOperator,Arrow:ue.function(ue.punctuation),": Spread":ue.punctuation,"( )":ue.paren,"[ ]":ue.squareBracket,"{ }":ue.brace,"InterpolationStart InterpolationEnd":ue.special(ue.brace),".":ue.derefOperator,", ;":ue.separator,"@":ue.meta,TypeName:ue.typeName,TypeDefinition:ue.definition(ue.typeName),"type enum interface implements namespace module declare":ue.definitionKeyword,"abstract global Privacy readonly override":ue.modifier,"is keyof unique infer asserts":ue.operatorKeyword,JSXAttributeValue:ue.attributeValue,JSXText:ue.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":ue.angleBracket,"JSXIdentifier JSXNameSpacedName":ue.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":ue.attributeName,"JSXBuiltin/JSXIdentifier":ue.standard(ue.tagName)}),NV={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},LV={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},ZV={__proto__:null,"<":189},BV=ch.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:CV,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[IV],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[QV,RV,zV,DV,2,3,4,5,6,7,8,9,10,11,12,13,14,EV,new up("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new up("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:n=>NV[n]||-1},{term:341,get:n=>LV[n]||-1},{term:93,get:n=>ZV[n]||-1}],tokenPrec:15116});function JO(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function VV(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let i=JO(e)+JO(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function XV(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:VV(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}function qV(n,e){return t=>{for(let i=li(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(n.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}const FV=co.define(),HV=mt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class jV{constructor(e,t,i,r){this.field=e,this.line=t,this.from=i,this.to=r}}class Rm{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,zn.TrackDel),i=e.mapPos(this.to,1,zn.TrackDel);return t==null||i==null?null:new Rm(this.field,t,i)}}class zm{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],r=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let u=o,c=/^\t*/.exec(l)[0].length;for(let h=0;h<c;h++)u+=e.facet(jh);r.push(t+u.length-c),l=u+l.slice(c)}i.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new Rm(l.field,r[l.line]+l.from,r[l.line]+l.to));return{text:i,ranges:a}}static parse(e){let t=[],i=[],r=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",u=-1,c=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<t.length;h++)(a!=null?t[h].seq==a:c&&t[h].name==c)&&(u=h);if(u<0){let h=0;for(;h<t.length&&(a==null||t[h].seq!=null&&t[h].seq<a);)h++;t.splice(h,0,{seq:a,name:c}),u=h;for(let d of r)d.field>=u&&d.field++}r.push(new jV(u,i.length,s.index,s.index+c.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,u)=>{for(let c of r)c.line==i.length&&c.from>u&&(c.from--,c.to--);return l}),i.push(o)}return new zm(i,r)}}let UV=sn.widget({widget:new class extends Fh{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),GV=sn.mark({class:"cm-snippetField"});class ca{constructor(e,t){this.ranges=e,this.active=t,this.deco=sn.set(e.map(i=>(i.from==i.to?UV:GV).range(i.from,i.to)))}map(e){let t=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;t.push(r)}return new ca(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const Fl=en.define({map(n,e){return n&&n.map(e)}}),WV=en.define(),Ml=ks.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(Fl))return t.value;if(t.is(WV)&&n)return new ca(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>mt.decorations.from(n,e=>e?e.deco:sn.none)});function Dm(n,e){return Pe.create(n.filter(t=>t.field==e).map(t=>Pe.range(t.from,t.to)))}function YV(n){let e=zm.parse(n);return(t,i,r,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,r),{main:l}=t.state.selection,u={changes:{from:r,to:s==l.from?l.to:s,insert:Pt.of(o)},scrollIntoView:!0,annotations:i?[FV.of(i),Sn.userEvent.of("input.complete")]:void 0};if(a.length&&(u.selection=Dm(a,0)),a.some(c=>c.field>0)){let c=new ca(a,0),h=u.effects=[Fl.of(c)];t.state.field(Ml,!1)===void 0&&h.push(en.appendConfig.of([Ml,nX,iX,HV]))}t.dispatch(t.state.update(u))}}function lw(n){return({state:e,dispatch:t})=>{let i=e.field(Ml,!1);if(!i||n<0&&i.active==0)return!1;let r=i.active+n,s=n>0&&!i.ranges.some(o=>o.field==r+n);return t(e.update({selection:Dm(i.ranges,r),effects:Fl.of(s?null:new ca(i.ranges,r)),scrollIntoView:!0})),!0}}const KV=({state:n,dispatch:e})=>n.field(Ml,!1)?(e(n.update({effects:Fl.of(null)})),!0):!1,JV=lw(1),eX=lw(-1),tX=[{key:"Tab",run:JV,shift:eX},{key:"Escape",run:KV}],ey=ot.define({combine(n){return n.length?n[0]:tX}}),nX=Zh.highest(eh.compute([ey],n=>n.facet(ey)));function Bn(n,e){return Object.assign(Object.assign({},e),{apply:YV(n)})}const iX=mt.domEventHandlers({mousedown(n,e){let t=e.state.field(Ml,!1),i;if(!t||(i=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let r=t.ranges.find(s=>s.from<=i&&s.to>=i);return!r||r.field==t.active?!1:(e.dispatch({selection:Dm(t.ranges,r.field),effects:Fl.of(t.ranges.some(s=>s.field>r.field)?new ca(t.ranges,r.field):null),scrollIntoView:!0}),!0)}}),uw=new class extends no{};uw.startSide=1;uw.endSide=-1;const cw=[Bn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Bn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Bn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Bn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Bn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Bn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Bn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Bn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Bn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Bn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Bn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],rX=cw.concat([Bn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Bn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Bn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),ty=new wZ,hw=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Ta(n){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,n),!0}}const sX=["FunctionDeclaration"],oX={FunctionDeclaration:Ta("function"),ClassDeclaration:Ta("class"),ClassExpression:()=>!0,EnumDeclaration:Ta("constant"),TypeAliasDeclaration:Ta("type"),NamespaceDeclaration:Ta("namespace"),VariableDefinition(n,e){n.matchContext(sX)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function dw(n,e){let t=ty.get(e);if(t)return t;let i=[],r=!0;function s(o,a){let l=n.sliceString(o.from,o.to);i.push({label:l,type:a})}return e.cursor(dn.IncludeAnonymous).iterate(o=>{if(r)r=!1;else if(o.name){let a=oX[o.name];if(a&&a(o,s)||hw.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of dw(n,o.node))i.push(a);return!1}}),ty.set(e,i),i}const ny=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,fw=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function aX(n){let e=li(n.state).resolveInner(n.pos,-1);if(fw.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&ny.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let i=[];for(let r=e;r;r=r.parent)hw.has(r.name)&&(i=i.concat(dw(n.state.doc,r)));return{options:i,from:t?e.from:n.pos,validFor:ny}}const Ys=rh.define({name:"javascript",parser:BV.configure({props:[P3.add({IfStatement:bd({except:/^\s*({|else\b)/}),TryStatement:bd({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:VZ,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:i?1:2)*n.unit},Block:BZ({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":bd({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),XZ.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":qZ,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),pw={test:n=>/^JSX/.test(n.name),facet:$3({commentTokens:{block:{open:"{/*",close:"*/}"}}})},lX=Ys.configure({dialect:"ts"},"typescript"),uX=Ys.configure({dialect:"jsx",props:[Pm.add(n=>n.isTop?[pw]:void 0)]}),cX=Ys.configure({dialect:"jsx ts",props:[Pm.add(n=>n.isTop?[pw]:void 0)]},"typescript");let mw=n=>({label:n,type:"keyword"});const gw="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(mw),hX=gw.concat(["declare","implements","private","protected","public"].map(mw));function dX(n={}){let e=n.jsx?n.typescript?cX:uX:n.typescript?lX:Ys,t=n.typescript?rX.concat(hX):cw.concat(gw);return new QZ(e,[Ys.data.of({autocomplete:qV(fw,XV(t))}),Ys.data.of({autocomplete:aX}),n.jsx?mX:[]])}function fX(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function iy(n,e,t=n.length){for(let i=e==null?void 0:e.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return n.sliceString(i.from,Math.min(i.to,t));return""}const pX=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),mX=mt.inputHandler.of((n,e,t,i,r)=>{if((pX?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||i!=">"&&i!="/"||!Ys.isActiveAt(n.state,e,-1))return!1;let s=r(),{state:o}=s,a=o.changeByRange(l=>{var u;let{head:c}=l,h=li(o).resolveInner(c-1,-1),d;if(h.name=="JSXStartTag"&&(h=h.parent),!(o.doc.sliceString(c-1,c)!=i||h.name=="JSXAttributeValue"&&h.to>c)){if(i==">"&&h.name=="JSXFragmentTag")return{range:l,changes:{from:c,insert:"</>"}};if(i=="/"&&h.name=="JSXStartCloseTag"){let m=h.parent,v=m.parent;if(v&&m.from==c-2&&((d=iy(o.doc,v.firstChild,c))||((u=v.firstChild)===null||u===void 0?void 0:u.name)=="JSXFragmentTag")){let b=`${d}>`;return{range:Pe.cursor(c+b.length,-1),changes:{from:c,insert:b}}}}else if(i==">"){let m=fX(h);if(m&&m.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(c,c+2))&&(d=iy(o.doc,m,c)))return{range:l,changes:{from:c,insert:`</${d}>`}}}}return{range:l}});return a.changes.empty?!1:(n.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),gX="#e5c07b",ry="#e06c75",vX="#56b6c2",OX="#ffffff",vc="#abb2bf",dp="#7d8799",yX="#61afef",bX="#98c379",sy="#d19a66",wX="#c678dd",xX="#21252b",oy="#2c313a",ay="#282c34",$d="#353a42",SX="#3E4451",ly="#528bff",kX=mt.theme({"&":{color:vc,backgroundColor:ay},".cm-content":{caretColor:ly},".cm-cursor, .cm-dropCursor":{borderLeftColor:ly},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:SX},".cm-panels":{backgroundColor:xX,color:vc},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:ay,color:dp,border:"none"},".cm-activeLineGutter":{backgroundColor:oy},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:$d},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:$d,borderBottomColor:$d},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:oy,color:vc}}},{dark:!0}),vw=Vl.define([{tag:ue.keyword,color:wX},{tag:[ue.name,ue.deleted,ue.character,ue.propertyName,ue.macroName],color:ry},{tag:[ue.function(ue.variableName),ue.labelName],color:yX},{tag:[ue.color,ue.constant(ue.name),ue.standard(ue.name)],color:sy},{tag:[ue.definition(ue.name),ue.separator],color:vc},{tag:[ue.typeName,ue.className,ue.number,ue.changed,ue.annotation,ue.modifier,ue.self,ue.namespace],color:gX},{tag:[ue.operator,ue.operatorKeyword,ue.url,ue.escape,ue.regexp,ue.link,ue.special(ue.string)],color:vX},{tag:[ue.meta,ue.comment],color:dp},{tag:ue.strong,fontWeight:"bold"},{tag:ue.emphasis,fontStyle:"italic"},{tag:ue.strikethrough,textDecoration:"line-through"},{tag:ue.link,color:dp,textDecoration:"underline"},{tag:ue.heading,fontWeight:"bold",color:ry},{tag:[ue.atom,ue.bool,ue.special(ue.variableName)],color:sy},{tag:[ue.processingInstruction,ue.string,ue.inserted],color:bX},{tag:ue.invalid,color:OX}]),_X=[kX,E3(vw)],$X={class:"serial-script"},AX={class:"script-select"},TX={class:"script-editor"},PX={class:"script-name-container"},MX=rt({__name:"SerialScript",setup(n){const e=kc.getInstance(),t=Me(e.getScripts()),i=Me(e.getCurrentScript()),r=Me(i.value.id),s=Me(null),o=ao(),a=v=>{s.value&&s.value.dispatch({changes:{from:0,to:s.value.state.doc.length,insert:v}})},l=v=>{e.setCurrentScript(v),i.value=v,a(v.code),r.value=i.value.id},u=()=>{const v=e.addScript();t.value=e.getScripts(),l(v)},c=v=>{e.removeScript(v),t.value=e.getScripts(),t.value.length==0&&u(),l(t.value[0])},h=async()=>{i.value.isRunning?await e.stopScript():await e.runScript()},d=()=>{const v=t.value.find(b=>b.id===r.value);v&&l(v)},m=()=>{const v=document.getElementById("script-editor-container");if(v){const b=Ct.create({doc:i.value.code,extensions:[eh.of(eV),eh.of([tV]),E3(o.value?vw:UZ),dX(),o.value?_X:[],pZ(),mt.updateListener.of(k=>{k.docChanged&&(i.value.code=k.state.doc.toString())})]});s.value=new mt({state:b,parent:v})}};return gn(()=>{m()}),Ye(o,()=>{s.value&&(s.value.destroy(),m())}),Ye(t,()=>{e.saveScripts()},{deep:!0}),(v,b)=>{const k=Ee("el-option"),_=Ee("el-select"),T=Ee("Plus"),$=Ee("el-icon"),w=Ee("el-button"),R=Ee("el-button-group"),Q=Ee("el-input"),M=Ee("Compass"),B=Ee("el-tooltip");return me(),_e("div",$X,[fe("div",AX,[z(_,{size:"small",modelValue:r.value,"onUpdate:modelValue":b[0]||(b[0]=N=>r.value=N),onChange:d,placeholder:"选择脚本"},{default:U(()=>[(me(!0),_e(xt,null,Nt(t.value,N=>(me(),ct(k,{key:N.id,label:N.name,value:N.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),z(R,{class:"ms-2",style:{width:"250px"}},{default:U(()=>[z(w,{size:"small",onClick:u},{default:U(()=>[z($,null,{default:U(()=>[z(T)]),_:1}),b[4]||(b[4]=Ce(" 新建 "))]),_:1}),z(w,{size:"small",type:"danger",onClick:b[1]||(b[1]=N=>c(i.value.id))},{default:U(()=>b[5]||(b[5]=[Ce("删除")])),_:1})]),_:1})]),fe("div",TX,[fe("div",PX,[z(Q,{size:"small",modelValue:i.value.name,"onUpdate:modelValue":b[2]||(b[2]=N=>i.value.name=N),placeholder:"脚本名称",class:"script-name-input"},null,8,["modelValue"]),z(w,{type:i.value.isRunning?"success":"primary",size:"small",onClick:b[3]||(b[3]=N=>h()),class:"run-button"},{default:U(()=>[Ce(it(i.value.isRunning?"停止":"运行"),1)]),_:1},8,["type"]),z(B,{effect:"dark",placement:"bottom"},{content:U(()=>b[6]||(b[6]=[fe("p",null,"可用的API:",-1),fe("ul",null,[fe("li",null,"sendText(text) - 发送文本数据"),fe("li",null,"sendHex(hex) - 发送HEX格式数据"),fe("li",null,"sleep(ms) - 延时指定毫秒数"),fe("li",null,"updateDataTable({pitch: 1.0, roll: 1.0, yaw: 1.0}); 更新IMU数据")],-1)])),default:U(()=>[z(w,{size:"small",style:{"margin-left":"0"}},{default:U(()=>[z($,null,{default:U(()=>[z(M)]),_:1})]),_:1})]),_:1})]),b[7]||(b[7]=fe("div",{id:"script-editor-container",class:"editor-container"},null,-1))])])}}}),CX=yn(MX,[["__scopeId","data-v-3c8fbedf"]]),Ow=Op("data",()=>{const n=Me([]),e=Me([]),t=Me(null),i=Me(!0),r=Me(1e4),s=(c,h)=>{if(Object.keys(h).forEach(d=>{e.value.includes(d)||e.value.push(d)}),n.value.push({timestamp:c,values:h}),n.value.length>r.value&&(n.value=n.value.slice(-r.value)),i.value){const d=n.value[n.value.length-1].timestamp;t.value=[d-3e4,d]}},o=c=>{t.value=c,i.value=!1},a=c=>{if(i.value=c,c&&n.value.length>0){const h=n.value[n.value.length-1].timestamp;t.value=[h-3e4,h]}},l=qe(()=>{if(!t.value||n.value.length===0)return[];const[c,h]=t.value;return n.value.filter(d=>d.timestamp>=c&&d.timestamp<=h)});return{dataPoints:n,fields:e,timeRange:t,isRealtime:i,visibleData:l,addDataPoint:s,setTimeRange:o,toggleRealtime:a,clearData:()=>{n.value=[],t.value=null,i.value=!0}}}),EX={class:"time-range-control"},QX={class:"control-header"},RX=rt({__name:"TimeRangeControl",setup(n){const e=Ow(),t=ao(),i=Me(null);let r=null;const s={background:"#1e1e1e",gridColor:"#2c2c2c",textColor:"#d4d4d4",lineColors:["#4a9eff"]},o={background:"#ffffff",gridColor:"#f0f0f0",textColor:"#333333",lineColors:["#3366ff"]},a=qe(()=>t.value?s:o);function l(N){let K;return(...q)=>{K||(K=requestAnimationFrame(()=>{N(...q),K=null}))}}function u(N,K){let q=doc.createElement("div");return q.classList.add(K),N.appendChild(q),q}function c(N,K,q){K.addEventListener(N,q)}function h(N,K,q){K.removeEventListener(N,q)}let d=1,m=4.5,v,b,k;const _={left:null,width:null},T={min:null,max:null};function $(N,K){let q=N+K,Z=uRanger.bbox.width/devicePixelRatio;N>=0&&q<=Z&&(w(N,K),R(N,K))}function w(N,K){_.left=N,_.width=K,uRanger.setSelect(_,!1)}function R(N,K){T.min=uRanger.posToVal(N,"x"),T.max=uRanger.posToVal(N+K,"x"),uZoomed.setScale("x",T)}function Q(N,K){v=N.clientX,b=uRanger.select.left,k=uRanger.select.width;const q=l(K);c("mousemove",doc,q);const Z=re=>{h("mouseup",doc,Z),h("mousemove",doc,q),viaGrip=!1};c("mouseup",doc,Z),N.stopPropagation()}const M=()=>{if(!i.value)return;const N={width:i.value.clientWidth,height:100,ms:1,cursor:{x:!1,y:!1,points:{show:!1},drag:{setScale:!1,setSelect:!0,x:!0,y:!1}},select:{show:!1},legend:{show:!1},scales:{x:{time:!0},y:{auto:!0}},axes:[{scale:"x",grid:{show:!0,stroke:a.value.gridColor},ticks:{show:!0,stroke:a.value.gridColor},border:{show:!0,stroke:a.value.gridColor}},{scale:"y",show:!1}],series:[{},{stroke:a.value.lineColors[0],width:1,fill:a.value.lineColors[0]+"20"}],hooks:{ready:[q=>{let Z=Math.round(q.valToPos(d,"x")),re=Math.round(q.valToPos(m,"x"))-Z,P=q.bbox.height/devicePixelRatio;q.setSelect({left:Z,width:re,height:P},!1);const j=q.root.querySelector(".u-select");c("mousedown",j,L=>{Q(L,H=>$(b+(H.clientX-v),k))}),c("mousedown",u(j,"u-grip-l"),L=>{Q(L,H=>$(b+(H.clientX-v),k-(H.clientX-v)))}),c("mousedown",u(j,"u-grip-r"),L=>{Q(L,H=>$(b,k+(H.clientX-v)))})}],setSelect:[q=>{R(q.select.left,q.select.width)}]}};r=new Gy(N,[[0],[0]],i.value);const K=()=>{r&&i.value&&r.setSize({width:i.value.clientWidth,height:100})};window.addEventListener("resize",K),er(()=>{window.removeEventListener("resize",K),r==null||r.destroy()})},B=()=>{if(!r)return;const N=e.dataPoints;if(N.length===0){r.setData([[0],[0]]);return}const K=N.map(Z=>Z.timestamp),q=N.map(Z=>Object.values(Z.values).reduce((P,j)=>P+j,0)/Object.keys(Z.values).length);r.setData([K,q])};return Ye(()=>e.dataPoints,B,{deep:!0}),Ye(a,()=>{r==null||r.destroy(),M(),B()}),gn(()=>{M()}),(N,K)=>{const q=Ee("el-switch");return me(),_e("div",EX,[fe("div",QX,[z(q,{modelValue:V(e).isRealtime,"onUpdate:modelValue":K[0]||(K[0]=Z=>V(e).isRealtime=Z),"active-text":"实时","inactive-text":"历史",onChange:V(e).toggleRealtime},null,8,["modelValue","onChange"])]),fe("div",{ref_key:"container",ref:i,class:"plot-container"},null,512)])}}}),zX=yn(RX,[["__scopeId","data-v-f090ef22"]]),DX=typeof window<"u";var uy;DX&&((uy=window==null?void 0:window.navigator)!=null&&uy.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ti(n){return n==null}function yw(){}const IX=Object.freeze({aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"});Object.freeze(new Set(Object.keys(IX)));function NX(){const n=new Map;return{on(e,t){const i=n.get(e);i!=null&&i.add(t)||n.set(e,new Set([t]))},off(e,t){const i=n.get(e);i&&i.delete(t)},clear(e){const t=n.get(e);t&&t.clear()},clearAll(){n.clear()},emit(e,...t){const i=n.get(e);i&&i.forEach(r=>{r(...t)})}}}function cy(n,e=16){if(typeof n!="function")return yw;const t=(...s)=>{n(...s)};if(e<=0)return bw(t);let i=0,r;return function(...s){const o=Date.now(),a=o-i;clearTimeout(r),a>=e?(i=o,t(...s)):r=setTimeout(()=>{i=Date.now(),t(...s)},Math.max(0,e-a))}}function LX(n,e=100){if(typeof n!="function")return yw;const t=(...r)=>{n(...r)};if(e<=0)return bw(t);let i;return function(...r){clearTimeout(i),i=setTimeout(()=>{t(...r)},e)}}function bw(n){if(typeof n!="function")return n;let e=!1,t,i;return function(...r){return t=r,e||(e=!0,i=Promise.resolve().then(()=>(e=!1,i=void 0,n(...t)))),i}}const il=new Set,ww=new WeakMap;function ZX(){il.forEach(n=>{n(...ww.get(n))}),il.clear()}function Qn(n,...e){if(typeof n!="function")return n;ww.set(n,e),!il.has(n)&&(il.add(n),il.size===1&&Promise.resolve().then(ZX))}const xw=Symbol("LAYOUT_KEY"),Sw=Symbol("EMITTER_KEY");function BX(n){let e=0,t;for(let i=0,r=n.length;i<r;i++)t=n[i].y+n[i].h,t>e&&(e=t);return e}function fp(n){const e=Array(n.length);for(let t=0,i=n.length;t<i;t++)e[t]=VX(n[t]);return e}function VX(n){return{...n}}function kw(n,e){return!(n===e||n.x+n.w<=e.x||n.x>=e.x+e.w||n.y+n.h<=e.y||n.y>=e.y+e.h)}function So(n,e,t){const i=$w(n),r=Aw(n),s=Array(n.length);for(let o=0,a=r.length;o<a;o++){let l=r[o];l.static||(l=XX(i,l,e,t),i.push(l)),s[n.indexOf(l)]=l,l.moved=!1}return s}function XX(n,e,t,i){if(t)for(;e.y>0&&!rl(n,e);)e.y--;else if(i){const s=i[e.i].y;for(;e.y>s&&!rl(n,e);)e.y--}let r;for(;r=rl(n,e);)e.y=r.y+r.h;return e}function qX(n,e){const t=$w(n);for(let i=0,r=n.length;i<r;i++){const s=n[i];if(s.x+s.w>e.cols&&(s.x=e.cols-s.w),s.x<0&&(s.x=0,s.w=e.cols),!s.static)t.push(s);else for(;rl(t,s);)s.y++}return n}function hy(n,e){for(let t=0,i=n.length;t<i;t++)if(n[t].i===e)return n[t]}function rl(n,e){for(let t=0,i=n.length;t<i;t++)if(kw(n[t],e))return n[t]}function _w(n,e){return n.filter(t=>kw(t,e))}function $w(n){return n.filter(e=>e.static)}function pp(n,e,t,i,r=!1,s=!1){if(e.static)return n;const o=e.x,a=e.y,l=i&&e.y>i;typeof t=="number"&&(e.x=t),typeof i=="number"&&(e.y=i),e.moved=!0;let u=Aw(n);l&&(u=u.reverse());const c=_w(u,e);if(s&&c.length)return e.x=o,e.y=a,e.moved=!1,n;for(let h=0,d=c.length;h<d;h++){const m=c[h];m.moved||e.y>m.y&&e.y-m.y>m.h/4||(m.static?n=dy(n,m,e,r):n=dy(n,e,m,r))}return n}function dy(n,e,t,i){if(i){const r={x:t.x,y:t.y,w:t.w,h:t.h};if(r.y=Math.max(e.y-t.h,0),!rl(n,r))return pp(n,t,void 0,r.y,!1)}return pp(n,t,void 0,t.y+1,!1)}function FX(n,e,t,i){const r="translate3d("+e+"px,"+n+"px, 0)";return{transform:r,WebkitTransform:r,MozTransform:r,msTransform:r,OTransform:r,width:t+"px",height:i+"px",position:"absolute"}}function HX(n,e,t,i){const r="translate3d("+e*-1+"px,"+n+"px, 0)";return{transform:r,WebkitTransform:r,MozTransform:r,msTransform:r,OTransform:r,width:t+"px",height:i+"px",position:"absolute"}}function jX(n,e,t,i){return{top:n+"px",left:e+"px",width:t+"px",height:i+"px",position:"absolute"}}function UX(n,e,t,i){return{top:n+"px",right:e+"px",width:t+"px",height:i+"px",position:"absolute"}}function Aw(n){return Array.from(n).sort(function(e,t){return e.y===t.y&&e.x===t.x?0:e.y>t.y||e.y===t.y&&e.x>t.x?1:-1})}function GX(n,e){e=e||"Layout";const t=["x","y","w","h"],i=[];if(!Array.isArray(n))throw new Error(e+" must be an array!");for(let r=0,s=n.length;r<s;r++){const o=n[r];for(let a=0;a<t.length;a++)if(typeof o[t[a]]!="number")throw new Error("VueGridLayout: "+e+"["+r+"]."+t[a]+" must be a number!");if(o.i===void 0||o.i===null)throw new Error("VueGridLayout: "+e+"["+r+"].i cannot be null!");if(typeof o.i!="number"&&typeof o.i!="string")throw new Error("VueGridLayout: "+e+"["+r+"].i must be a string or number!");if(i.indexOf(o.i)>=0)throw new Error("VueGridLayout: "+e+"["+r+"].i must be unique!");if(i.push(o.i),o.static!==void 0&&typeof o.static!="boolean")throw new Error("VueGridLayout: "+e+"["+r+"].static must be a boolean!")}}function WX(n,e="vgl"){const t=()=>`${e}-${n}`;return{b:t,be:i=>`${t()}__${i}`,bm:i=>`${t()}--${i}`,bem:(i,r)=>`${t()}__${i}--${r}`}}function fy(n){return YX(n)}function YX(n){var e;const t=((e=n.target)==null?void 0:e.offsetParent)||document.body,i=n.offsetParent===document.body?{left:0,top:0}:t.getBoundingClientRect(),r=n.clientX+t.scrollLeft-i.left,s=n.clientY+t.scrollTop-i.top;return{x:r,y:s}}function py(n,e,t,i){return KX(n)?{deltaX:t-n,deltaY:i-e,lastX:n,lastY:e,x:t,y:i}:{deltaX:0,deltaY:0,lastX:t,lastY:i,x:t,y:i}}function KX(n){return typeof n=="number"&&!Number.isNaN(n)}function JX(n,e){const t=Tw(n);let i=t[0];for(let r=1,s=t.length;r<s;r++){const o=t[r];e>n[o]&&(i=o)}return i}function mp(n,e){if(!e[n])throw new Error("ResponsiveGridLayout: `cols` entry for breakpoint "+n+" is missing!");return e[n]}function eq(n,e,t,i,r,s,o){if(e[i])return fp(e[i]);let a=n;const l=Tw(t),u=l.slice(l.indexOf(i));for(let c=0,h=u.length;c<h;c++){const d=u[c];if(e[d]){a=e[d];break}}return a=fp(a||[]),So(qX(a,{cols:s}),o)}function Tw(n){return Object.keys(n).sort((e,t)=>n[e]-n[t])}let tq="auto";function nq(){return typeof document<"u"}function my(){return nq()?typeof document.dir<"u"?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir"):tq}var Xa={exports:{}},iq=Xa.exports,gy;function rq(){return gy||(gy=1,function(n,e){(function(t,i){n.exports=i()})(iq,function(){function t(p,f){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);f&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(p,x).enumerable})),g.push.apply(g,y)}return g}function i(p){for(var f=1;f<arguments.length;f++){var g=arguments[f]!=null?arguments[f]:{};f%2?t(Object(g),!0).forEach(function(y){l(p,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):t(Object(g)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(g,y))})}return p}function r(p){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},r(p)}function s(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}function o(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,b(y.key),y)}}function a(p,f,g){return f&&o(p.prototype,f),Object.defineProperty(p,"prototype",{writable:!1}),p}function l(p,f,g){return(f=b(f))in p?Object.defineProperty(p,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[f]=g,p}function u(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),f&&h(p,f)}function c(p){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},c(p)}function h(p,f){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,y){return g.__proto__=y,g},h(p,f)}function d(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function m(p){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,y=c(p);if(f){var x=c(this).constructor;g=Reflect.construct(y,arguments,x)}else g=y.apply(this,arguments);return function(A,E){if(E&&(typeof E=="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(A)}(this,g)}}function v(){return v=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(p,f,g){var y=function(A,E){for(;!Object.prototype.hasOwnProperty.call(A,E)&&(A=c(A))!==null;);return A}(p,f);if(y){var x=Object.getOwnPropertyDescriptor(y,f);return x.get?x.get.call(arguments.length<3?p:g):x.value}},v.apply(this,arguments)}function b(p){var f=function(g,y){if(typeof g!="object"||g===null)return g;var x=g[Symbol.toPrimitive];if(x!==void 0){var A=x.call(g,y);if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(p,"string");return typeof f=="symbol"?f:f+""}var k=function(p){return!(!p||!p.Window)&&p instanceof p.Window},_=void 0,T=void 0;function $(p){_=p;var f=p.document.createTextNode("");f.ownerDocument!==p.document&&typeof p.wrap=="function"&&p.wrap(f)===f&&(p=p.wrap(p)),T=p}function w(p){return k(p)?p:(p.ownerDocument||p).defaultView||T.window}typeof window<"u"&&window&&$(window);var R=function(p){return!!p&&r(p)==="object"},Q=function(p){return typeof p=="function"},M={window:function(p){return p===T||k(p)},docFrag:function(p){return R(p)&&p.nodeType===11},object:R,func:Q,number:function(p){return typeof p=="number"},bool:function(p){return typeof p=="boolean"},string:function(p){return typeof p=="string"},element:function(p){if(!p||r(p)!=="object")return!1;var f=w(p)||T;return/object|function/.test(typeof Element>"u"?"undefined":r(Element))?p instanceof Element||p instanceof f.Element:p.nodeType===1&&typeof p.nodeName=="string"},plainObject:function(p){return R(p)&&!!p.constructor&&/function Object\b/.test(p.constructor.toString())},array:function(p){return R(p)&&p.length!==void 0&&Q(p.splice)}};function B(p){var f=p.interaction;if(f.prepared.name==="drag"){var g=f.prepared.axis;g==="x"?(f.coords.cur.page.y=f.coords.start.page.y,f.coords.cur.client.y=f.coords.start.client.y,f.coords.velocity.client.y=0,f.coords.velocity.page.y=0):g==="y"&&(f.coords.cur.page.x=f.coords.start.page.x,f.coords.cur.client.x=f.coords.start.client.x,f.coords.velocity.client.x=0,f.coords.velocity.page.x=0)}}function N(p){var f=p.iEvent,g=p.interaction;if(g.prepared.name==="drag"){var y=g.prepared.axis;if(y==="x"||y==="y"){var x=y==="x"?"y":"x";f.page[x]=g.coords.start.page[x],f.client[x]=g.coords.start.client[x],f.delta[x]=0}}}var K={id:"actions/drag",install:function(p){var f=p.actions,g=p.Interactable,y=p.defaults;g.prototype.draggable=K.draggable,f.map.drag=K,f.methodDict.drag="draggable",y.actions.drag=K.defaults},listeners:{"interactions:before-action-move":B,"interactions:action-resume":B,"interactions:action-move":N,"auto-start:check":function(p){var f=p.interaction,g=p.interactable,y=p.buttons,x=g.options.drag;if(x&&x.enabled&&(!f.pointerIsDown||!/mouse|pointer/.test(f.pointerType)||y&g.options.drag.mouseButtons))return p.action={name:"drag",axis:x.lockAxis==="start"?x.startAxis:x.lockAxis},!1}},draggable:function(p){return M.object(p)?(this.options.drag.enabled=p.enabled!==!1,this.setPerAction("drag",p),this.setOnEvents("drag",p),/^(xy|x|y|start)$/.test(p.lockAxis)&&(this.options.drag.lockAxis=p.lockAxis),/^(xy|x|y)$/.test(p.startAxis)&&(this.options.drag.startAxis=p.startAxis),this):M.bool(p)?(this.options.drag.enabled=p,this):this.options.drag},beforeMove:B,move:N,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(p){return p.search("drag")===0}},q=K,Z={init:function(p){var f=p;Z.document=f.document,Z.DocumentFragment=f.DocumentFragment||re,Z.SVGElement=f.SVGElement||re,Z.SVGSVGElement=f.SVGSVGElement||re,Z.SVGElementInstance=f.SVGElementInstance||re,Z.Element=f.Element||re,Z.HTMLElement=f.HTMLElement||Z.Element,Z.Event=f.Event,Z.Touch=f.Touch||re,Z.PointerEvent=f.PointerEvent||f.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function re(){}var P=Z,j={init:function(p){var f=P.Element,g=p.navigator||{};j.supportsTouch="ontouchstart"in p||M.func(p.DocumentTouch)&&P.document instanceof p.DocumentTouch,j.supportsPointerEvent=g.pointerEnabled!==!1&&!!P.PointerEvent,j.isIOS=/iP(hone|od|ad)/.test(g.platform),j.isIOS7=/iP(hone|od|ad)/.test(g.platform)&&/OS 7[^\d]/.test(g.appVersion),j.isIe9=/MSIE 9/.test(g.userAgent),j.isOperaMobile=g.appName==="Opera"&&j.supportsTouch&&/Presto/.test(g.userAgent),j.prefixedMatchesSelector="matches"in f.prototype?"matches":"webkitMatchesSelector"in f.prototype?"webkitMatchesSelector":"mozMatchesSelector"in f.prototype?"mozMatchesSelector":"oMatchesSelector"in f.prototype?"oMatchesSelector":"msMatchesSelector",j.pEventTypes=j.supportsPointerEvent?P.PointerEvent===p.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,j.wheelEvent=P.document&&"onmousewheel"in P.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},L=j;function H(p,f){if(p.contains)return p.contains(f);for(;f;){if(f===p)return!0;f=f.parentNode}return!1}function ee(p,f){for(;M.element(p);){if(te(p,f))return p;p=ce(p)}return null}function ce(p){var f=p.parentNode;if(M.docFrag(f)){for(;(f=f.host)&&M.docFrag(f););return f}return f}function te(p,f){return T!==_&&(f=f.replace(/\/deep\//g," ")),p[L.prefixedMatchesSelector](f)}var he=function(p){return p.parentNode||p.host};function W(p,f){for(var g,y=[],x=p;(g=he(x))&&x!==f&&g!==x.ownerDocument;)y.unshift(x),x=g;return y}function ae(p,f,g){for(;M.element(p);){if(te(p,f))return!0;if((p=ce(p))===g)return te(p,f)}return!1}function Oe(p){return p.correspondingUseElement||p}function we(p){var f=p instanceof P.SVGElement?p.getBoundingClientRect():p.getClientRects()[0];return f&&{left:f.left,right:f.right,top:f.top,bottom:f.bottom,width:f.width||f.right-f.left,height:f.height||f.bottom-f.top}}function Ne(p){var f,g=we(p);if(!L.isIOS7&&g){var y={x:(f=(f=w(p))||T).scrollX||f.document.documentElement.scrollLeft,y:f.scrollY||f.document.documentElement.scrollTop};g.left+=y.x,g.right+=y.x,g.top+=y.y,g.bottom+=y.y}return g}function Re(p){for(var f=[];p;)f.push(p),p=ce(p);return f}function Ke(p){return!!M.string(p)&&(P.document.querySelector(p),!0)}function be(p,f){for(var g in f)p[g]=f[g];return p}function ht(p,f,g){return p==="parent"?ce(g):p==="self"?f.getRect(g):ee(g,p)}function Le(p,f,g,y){var x=p;return M.string(x)?x=ht(x,f,g):M.func(x)&&(x=x.apply(void 0,y)),M.element(x)&&(x=Ne(x)),x}function Ie(p){return p&&{x:"x"in p?p.x:p.left,y:"y"in p?p.y:p.top}}function Je(p){return!p||"x"in p&&"y"in p||((p=be({},p)).x=p.left||0,p.y=p.top||0,p.width=p.width||(p.right||0)-p.x,p.height=p.height||(p.bottom||0)-p.y),p}function ie(p,f,g){p.left&&(f.left+=g.x),p.right&&(f.right+=g.x),p.top&&(f.top+=g.y),p.bottom&&(f.bottom+=g.y),f.width=f.right-f.left,f.height=f.bottom-f.top}function J(p,f,g){var y=g&&p.options[g];return Ie(Le(y&&y.origin||p.options.origin,p,f,[p&&f]))||{x:0,y:0}}function se(p,f){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(X){return!0},y=arguments.length>3?arguments[3]:void 0;if(y=y||{},M.string(p)&&p.search(" ")!==-1&&(p=oe(p)),M.array(p))return p.forEach(function(X){return se(X,f,g,y)}),y;if(M.object(p)&&(f=p,p=""),M.func(f)&&g(p))y[p]=y[p]||[],y[p].push(f);else if(M.array(f))for(var x=0,A=f;x<A.length;x++){var E=A[x];se(p,E,g,y)}else if(M.object(f))for(var I in f)se(oe(I).map(function(X){return"".concat(p).concat(X)}),f[I],g,y);return y}function oe(p){return p.trim().split(/ +/)}var ye=function(p,f){return Math.sqrt(p*p+f*f)},Ze=["webkit","moz"];function je(p,f){p.__set||(p.__set={});var g=function(x){if(Ze.some(function(A){return x.indexOf(A)===0}))return 1;typeof p[x]!="function"&&x!=="__set"&&Object.defineProperty(p,x,{get:function(){return x in p.__set?p.__set[x]:p.__set[x]=f[x]},set:function(A){p.__set[x]=A},configurable:!0})};for(var y in f)g(y);return p}function Ue(p,f){p.page=p.page||{},p.page.x=f.page.x,p.page.y=f.page.y,p.client=p.client||{},p.client.x=f.client.x,p.client.y=f.client.y,p.timeStamp=f.timeStamp}function et(p){p.page.x=0,p.page.y=0,p.client.x=0,p.client.y=0}function ge(p){return p instanceof P.Event||p instanceof P.Touch}function ze(p,f,g){return p=p||"page",(g=g||{}).x=f[p+"X"],g.y=f[p+"Y"],g}function tt(p,f){return f=f||{x:0,y:0},L.isOperaMobile&&ge(p)?(ze("screen",p,f),f.x+=window.scrollX,f.y+=window.scrollY):ze("page",p,f),f}function gt(p){return M.number(p.pointerId)?p.pointerId:p.identifier}function Lt(p,f,g){var y=f.length>1?ut(f):f[0];tt(y,p.page),function(x,A){A=A||{},L.isOperaMobile&&ge(x)?ze("screen",x,A):ze("client",x,A)}(y,p.client),p.timeStamp=g}function wt(p){var f=[];return M.array(p)?(f[0]=p[0],f[1]=p[1]):p.type==="touchend"?p.touches.length===1?(f[0]=p.touches[0],f[1]=p.changedTouches[0]):p.touches.length===0&&(f[0]=p.changedTouches[0],f[1]=p.changedTouches[1]):(f[0]=p.touches[0],f[1]=p.touches[1]),f}function ut(p){for(var f={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},g=0;g<p.length;g++){var y=p[g];for(var x in f)f[x]+=y[x]}for(var A in f)f[A]/=p.length;return f}function bn(p){if(!p.length)return null;var f=wt(p),g=Math.min(f[0].pageX,f[1].pageX),y=Math.min(f[0].pageY,f[1].pageY),x=Math.max(f[0].pageX,f[1].pageX),A=Math.max(f[0].pageY,f[1].pageY);return{x:g,y,left:g,top:y,right:x,bottom:A,width:x-g,height:A-y}}function Pn(p,f){var g=f+"X",y=f+"Y",x=wt(p),A=x[0][g]-x[1][g],E=x[0][y]-x[1][y];return ye(A,E)}function Gn(p,f){var g=f+"X",y=f+"Y",x=wt(p),A=x[1][g]-x[0][g],E=x[1][y]-x[0][y];return 180*Math.atan2(E,A)/Math.PI}function Br(p){return M.string(p.pointerType)?p.pointerType:M.number(p.pointerType)?[void 0,void 0,"touch","pen","mouse"][p.pointerType]:/touch/.test(p.type||"")||p instanceof P.Touch?"touch":"mouse"}function Vr(p){var f=M.func(p.composedPath)?p.composedPath():p.path;return[Oe(f?f[0]:p.target),Oe(p.currentTarget)]}var Xr=function(){function p(f){s(this,p),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=f}return a(p,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),p}();Object.defineProperty(Xr.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var fo=function(p,f){for(var g=0;g<f.length;g++){var y=f[g];p.push(y)}return p},po=function(p){return fo([],p)},lr=function(p,f){for(var g=0;g<p.length;g++)if(f(p[g],g,p))return g;return-1},ha=function(p,f){return p[lr(p,f)]},mo=function(p){u(g,p);var f=m(g);function g(y,x,A){var E;s(this,g),(E=f.call(this,x._interaction)).dropzone=void 0,E.dragEvent=void 0,E.relatedTarget=void 0,E.draggable=void 0,E.propagationStopped=!1,E.immediatePropagationStopped=!1;var I=A==="dragleave"?y.prev:y.cur,X=I.element,ne=I.dropzone;return E.type=A,E.target=X,E.currentTarget=X,E.dropzone=ne,E.dragEvent=x,E.relatedTarget=x.target,E.draggable=x.interactable,E.timeStamp=x.timeStamp,E}return a(g,[{key:"reject",value:function(){var y=this,x=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&x.cur.dropzone===this.dropzone&&x.cur.element===this.target)if(x.prev.dropzone=this.dropzone,x.prev.element=this.target,x.rejected=!0,x.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var A=x.activeDrops,E=lr(A,function(X){var ne=X.dropzone,F=X.element;return ne===y.dropzone&&F===y.target});x.activeDrops.splice(E,1);var I=new g(x,this.dragEvent,"dropdeactivate");I.dropzone=this.dropzone,I.target=this.target,this.dropzone.fire(I)}else this.dropzone.fire(new g(x,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),g}(Xr);function Nm(p,f){for(var g=0,y=p.slice();g<y.length;g++){var x=y[g],A=x.dropzone,E=x.element;f.dropzone=A,f.target=E,A.fire(f),f.propagationStopped=f.immediatePropagationStopped=!1}}function Jh(p,f){for(var g=function(A,E){for(var I=[],X=0,ne=A.interactables.list;X<ne.length;X++){var F=ne[X];if(F.options.drop.enabled){var de=F.options.drop.accept;if(!(M.element(de)&&de!==E||M.string(de)&&!te(E,de)||M.func(de)&&!de({dropzone:F,draggableElement:E})))for(var ve=0,ke=F.getAllElements();ve<ke.length;ve++){var Se=ke[ve];Se!==E&&I.push({dropzone:F,element:Se,rect:F.getRect(Se)})}}}return I}(p,f),y=0;y<g.length;y++){var x=g[y];x.rect=x.dropzone.getRect(x.element)}return g}function Lm(p,f,g){for(var y=p.dropState,x=p.interactable,A=p.element,E=[],I=0,X=y.activeDrops;I<X.length;I++){var ne=X[I],F=ne.dropzone,de=ne.element,ve=ne.rect,ke=F.dropCheck(f,g,x,A,de,ve);E.push(ke?de:null)}var Se=function(Te){for(var Ge,Ve,nt,vt=[],$t=0;$t<Te.length;$t++){var dt=Te[$t],Ot=Te[Ge];if(dt&&$t!==Ge)if(Ot){var Cn=he(dt),jt=he(Ot);if(Cn!==dt.ownerDocument)if(jt!==dt.ownerDocument)if(Cn!==jt){vt=vt.length?vt:W(Ot);var Wn=void 0;if(Ot instanceof P.HTMLElement&&dt instanceof P.SVGElement&&!(dt instanceof P.SVGSVGElement)){if(dt===jt)continue;Wn=dt.ownerSVGElement}else Wn=dt;for(var Si=W(Wn,Ot.ownerDocument),hr=0;Si[hr]&&Si[hr]===vt[hr];)hr++;var eu=[Si[hr-1],Si[hr],vt[hr]];if(eu[0])for(var va=eu[0].lastChild;va;){if(va===eu[1]){Ge=$t,vt=Si;break}if(va===eu[2])break;va=va.previousSibling}}else nt=Ot,(parseInt(w(Ve=dt).getComputedStyle(Ve).zIndex,10)||0)>=(parseInt(w(nt).getComputedStyle(nt).zIndex,10)||0)&&(Ge=$t);else Ge=$t}else Ge=$t}return Ge}(E);return y.activeDrops[Se]||null}function e0(p,f,g){var y=p.dropState,x={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return g.type==="dragstart"&&(x.activate=new mo(y,g,"dropactivate"),x.activate.target=null,x.activate.dropzone=null),g.type==="dragend"&&(x.deactivate=new mo(y,g,"dropdeactivate"),x.deactivate.target=null,x.deactivate.dropzone=null),y.rejected||(y.cur.element!==y.prev.element&&(y.prev.dropzone&&(x.leave=new mo(y,g,"dragleave"),g.dragLeave=x.leave.target=y.prev.element,g.prevDropzone=x.leave.dropzone=y.prev.dropzone),y.cur.dropzone&&(x.enter=new mo(y,g,"dragenter"),g.dragEnter=y.cur.element,g.dropzone=y.cur.dropzone)),g.type==="dragend"&&y.cur.dropzone&&(x.drop=new mo(y,g,"drop"),g.dropzone=y.cur.dropzone,g.relatedTarget=y.cur.element),g.type==="dragmove"&&y.cur.dropzone&&(x.move=new mo(y,g,"dropmove"),g.dropzone=y.cur.dropzone)),x}function t0(p,f){var g=p.dropState,y=g.activeDrops,x=g.cur,A=g.prev;f.leave&&A.dropzone.fire(f.leave),f.enter&&x.dropzone.fire(f.enter),f.move&&x.dropzone.fire(f.move),f.drop&&x.dropzone.fire(f.drop),f.deactivate&&Nm(y,f.deactivate),g.prev.dropzone=x.dropzone,g.prev.element=x.element}function Zm(p,f){var g=p.interaction,y=p.iEvent,x=p.event;if(y.type==="dragmove"||y.type==="dragend"){var A=g.dropState;f.dynamicDrop&&(A.activeDrops=Jh(f,g.element));var E=y,I=Lm(g,E,x);A.rejected=A.rejected&&!!I&&I.dropzone===A.cur.dropzone&&I.element===A.cur.element,A.cur.dropzone=I&&I.dropzone,A.cur.element=I&&I.element,A.events=e0(g,0,E)}}var Bm={id:"actions/drop",install:function(p){var f=p.actions,g=p.interactStatic,y=p.Interactable,x=p.defaults;p.usePlugin(q),y.prototype.dropzone=function(A){return function(E,I){if(M.object(I)){if(E.options.drop.enabled=I.enabled!==!1,I.listeners){var X=se(I.listeners),ne=Object.keys(X).reduce(function(de,ve){return de[/^(enter|leave)/.test(ve)?"drag".concat(ve):/^(activate|deactivate|move)/.test(ve)?"drop".concat(ve):ve]=X[ve],de},{}),F=E.options.drop.listeners;F&&E.off(F),E.on(ne),E.options.drop.listeners=ne}return M.func(I.ondrop)&&E.on("drop",I.ondrop),M.func(I.ondropactivate)&&E.on("dropactivate",I.ondropactivate),M.func(I.ondropdeactivate)&&E.on("dropdeactivate",I.ondropdeactivate),M.func(I.ondragenter)&&E.on("dragenter",I.ondragenter),M.func(I.ondragleave)&&E.on("dragleave",I.ondragleave),M.func(I.ondropmove)&&E.on("dropmove",I.ondropmove),/^(pointer|center)$/.test(I.overlap)?E.options.drop.overlap=I.overlap:M.number(I.overlap)&&(E.options.drop.overlap=Math.max(Math.min(1,I.overlap),0)),"accept"in I&&(E.options.drop.accept=I.accept),"checker"in I&&(E.options.drop.checker=I.checker),E}return M.bool(I)?(E.options.drop.enabled=I,E):E.options.drop}(this,A)},y.prototype.dropCheck=function(A,E,I,X,ne,F){return function(de,ve,ke,Se,Te,Ge,Ve){var nt=!1;if(!(Ve=Ve||de.getRect(Ge)))return!!de.options.drop.checker&&de.options.drop.checker(ve,ke,nt,de,Ge,Se,Te);var vt=de.options.drop.overlap;if(vt==="pointer"){var $t=J(Se,Te,"drag"),dt=tt(ve);dt.x+=$t.x,dt.y+=$t.y;var Ot=dt.x>Ve.left&&dt.x<Ve.right,Cn=dt.y>Ve.top&&dt.y<Ve.bottom;nt=Ot&&Cn}var jt=Se.getRect(Te);if(jt&&vt==="center"){var Wn=jt.left+jt.width/2,Si=jt.top+jt.height/2;nt=Wn>=Ve.left&&Wn<=Ve.right&&Si>=Ve.top&&Si<=Ve.bottom}return jt&&M.number(vt)&&(nt=Math.max(0,Math.min(Ve.right,jt.right)-Math.max(Ve.left,jt.left))*Math.max(0,Math.min(Ve.bottom,jt.bottom)-Math.max(Ve.top,jt.top))/(jt.width*jt.height)>=vt),de.options.drop.checker&&(nt=de.options.drop.checker(ve,ke,nt,de,Ge,Se,Te)),nt}(this,A,E,I,X,ne,F)},g.dynamicDrop=function(A){return M.bool(A)?(p.dynamicDrop=A,g):p.dynamicDrop},be(f.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),f.methodDict.drop="dropzone",p.dynamicDrop=!1,x.actions.drop=Bm.defaults},listeners:{"interactions:before-action-start":function(p){var f=p.interaction;f.prepared.name==="drag"&&(f.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(p,f){var g=p.interaction,y=(p.event,p.iEvent);if(g.prepared.name==="drag"){var x=g.dropState;x.activeDrops=[],x.events={},x.activeDrops=Jh(f,g.element),x.events=e0(g,0,y),x.events.activate&&(Nm(x.activeDrops,x.events.activate),f.fire("actions/drop:start",{interaction:g,dragEvent:y}))}},"interactions:action-move":Zm,"interactions:after-action-move":function(p,f){var g=p.interaction,y=p.iEvent;if(g.prepared.name==="drag"){var x=g.dropState;t0(g,x.events),f.fire("actions/drop:move",{interaction:g,dragEvent:y}),x.events={}}},"interactions:action-end":function(p,f){if(p.interaction.prepared.name==="drag"){var g=p.interaction,y=p.iEvent;Zm(p,f),t0(g,g.dropState.events),f.fire("actions/drop:end",{interaction:g,dragEvent:y})}},"interactions:stop":function(p){var f=p.interaction;if(f.prepared.name==="drag"){var g=f.dropState;g&&(g.activeDrops=null,g.events=null,g.cur.dropzone=null,g.cur.element=null,g.prev.dropzone=null,g.prev.element=null,g.rejected=!1)}}},getActiveDrops:Jh,getDrop:Lm,getDropEvents:e0,fireDropEvents:t0,filterEventType:function(p){return p.search("drag")===0||p.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Iw=Bm;function n0(p){var f=p.interaction,g=p.iEvent,y=p.phase;if(f.prepared.name==="gesture"){var x=f.pointers.map(function(ne){return ne.pointer}),A=y==="start",E=y==="end",I=f.interactable.options.deltaSource;if(g.touches=[x[0],x[1]],A)g.distance=Pn(x,I),g.box=bn(x),g.scale=1,g.ds=0,g.angle=Gn(x,I),g.da=0,f.gesture.startDistance=g.distance,f.gesture.startAngle=g.angle;else if(E||f.pointers.length<2){var X=f.prevEvent;g.distance=X.distance,g.box=X.box,g.scale=X.scale,g.ds=0,g.angle=X.angle,g.da=0}else g.distance=Pn(x,I),g.box=bn(x),g.scale=g.distance/f.gesture.startDistance,g.angle=Gn(x,I),g.ds=g.scale-f.gesture.scale,g.da=g.angle-f.gesture.angle;f.gesture.distance=g.distance,f.gesture.angle=g.angle,M.number(g.scale)&&g.scale!==1/0&&!isNaN(g.scale)&&(f.gesture.scale=g.scale)}}var i0={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(p){var f=p.actions,g=p.Interactable,y=p.defaults;g.prototype.gesturable=function(x){return M.object(x)?(this.options.gesture.enabled=x.enabled!==!1,this.setPerAction("gesture",x),this.setOnEvents("gesture",x),this):M.bool(x)?(this.options.gesture.enabled=x,this):this.options.gesture},f.map.gesture=i0,f.methodDict.gesture="gesturable",y.actions.gesture=i0.defaults},listeners:{"interactions:action-start":n0,"interactions:action-move":n0,"interactions:action-end":n0,"interactions:new":function(p){p.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(p){if(!(p.interaction.pointers.length<2)){var f=p.interactable.options.gesture;if(f&&f.enabled)return p.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(p){return p.search("gesture")===0}},Nw=i0;function Lw(p,f,g,y,x,A,E){if(!f)return!1;if(f===!0){var I=M.number(A.width)?A.width:A.right-A.left,X=M.number(A.height)?A.height:A.bottom-A.top;if(E=Math.min(E,Math.abs((p==="left"||p==="right"?I:X)/2)),I<0&&(p==="left"?p="right":p==="right"&&(p="left")),X<0&&(p==="top"?p="bottom":p==="bottom"&&(p="top")),p==="left"){var ne=I>=0?A.left:A.right;return g.x<ne+E}if(p==="top"){var F=X>=0?A.top:A.bottom;return g.y<F+E}if(p==="right")return g.x>(I>=0?A.right:A.left)-E;if(p==="bottom")return g.y>(X>=0?A.bottom:A.top)-E}return!!M.element(y)&&(M.element(f)?f===y:ae(y,f,x))}function Vm(p){var f=p.iEvent,g=p.interaction;if(g.prepared.name==="resize"&&g.resizeAxes){var y=f;g.interactable.options.resize.square?(g.resizeAxes==="y"?y.delta.x=y.delta.y:y.delta.y=y.delta.x,y.axes="xy"):(y.axes=g.resizeAxes,g.resizeAxes==="x"?y.delta.y=0:g.resizeAxes==="y"&&(y.delta.x=0))}}var ur,$s,cr={id:"actions/resize",before:["actions/drag"],install:function(p){var f=p.actions,g=p.browser,y=p.Interactable,x=p.defaults;cr.cursors=function(A){return A.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(g),cr.defaultMargin=g.supportsTouch||g.supportsPointerEvent?20:10,y.prototype.resizable=function(A){return function(E,I,X){return M.object(I)?(E.options.resize.enabled=I.enabled!==!1,E.setPerAction("resize",I),E.setOnEvents("resize",I),M.string(I.axis)&&/^x$|^y$|^xy$/.test(I.axis)?E.options.resize.axis=I.axis:I.axis===null&&(E.options.resize.axis=X.defaults.actions.resize.axis),M.bool(I.preserveAspectRatio)?E.options.resize.preserveAspectRatio=I.preserveAspectRatio:M.bool(I.square)&&(E.options.resize.square=I.square),E):M.bool(I)?(E.options.resize.enabled=I,E):E.options.resize}(this,A,p)},f.map.resize=cr,f.methodDict.resize="resizable",x.actions.resize=cr.defaults},listeners:{"interactions:new":function(p){p.interaction.resizeAxes="xy"},"interactions:action-start":function(p){(function(f){var g=f.iEvent,y=f.interaction;if(y.prepared.name==="resize"&&y.prepared.edges){var x=g,A=y.rect;y._rects={start:be({},A),corrected:be({},A),previous:be({},A),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},x.edges=y.prepared.edges,x.rect=y._rects.corrected,x.deltaRect=y._rects.delta}})(p),Vm(p)},"interactions:action-move":function(p){(function(f){var g=f.iEvent,y=f.interaction;if(y.prepared.name==="resize"&&y.prepared.edges){var x=g,A=y.interactable.options.resize.invert,E=A==="reposition"||A==="negate",I=y.rect,X=y._rects,ne=X.start,F=X.corrected,de=X.delta,ve=X.previous;if(be(ve,F),E){if(be(F,I),A==="reposition"){if(F.top>F.bottom){var ke=F.top;F.top=F.bottom,F.bottom=ke}if(F.left>F.right){var Se=F.left;F.left=F.right,F.right=Se}}}else F.top=Math.min(I.top,ne.bottom),F.bottom=Math.max(I.bottom,ne.top),F.left=Math.min(I.left,ne.right),F.right=Math.max(I.right,ne.left);for(var Te in F.width=F.right-F.left,F.height=F.bottom-F.top,F)de[Te]=F[Te]-ve[Te];x.edges=y.prepared.edges,x.rect=F,x.deltaRect=de}})(p),Vm(p)},"interactions:action-end":function(p){var f=p.iEvent,g=p.interaction;if(g.prepared.name==="resize"&&g.prepared.edges){var y=f;y.edges=g.prepared.edges,y.rect=g._rects.corrected,y.deltaRect=g._rects.delta}},"auto-start:check":function(p){var f=p.interaction,g=p.interactable,y=p.element,x=p.rect,A=p.buttons;if(x){var E=be({},f.coords.cur.page),I=g.options.resize;if(I&&I.enabled&&(!f.pointerIsDown||!/mouse|pointer/.test(f.pointerType)||A&I.mouseButtons)){if(M.object(I.edges)){var X={left:!1,right:!1,top:!1,bottom:!1};for(var ne in X)X[ne]=Lw(ne,I.edges[ne],E,f._latestPointer.eventTarget,y,x,I.margin||cr.defaultMargin);X.left=X.left&&!X.right,X.top=X.top&&!X.bottom,(X.left||X.right||X.top||X.bottom)&&(p.action={name:"resize",edges:X})}else{var F=I.axis!=="y"&&E.x>x.right-cr.defaultMargin,de=I.axis!=="x"&&E.y>x.bottom-cr.defaultMargin;(F||de)&&(p.action={name:"resize",axes:(F?"x":"")+(de?"y":"")})}return!p.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(p){var f=p.edges,g=p.axis,y=p.name,x=cr.cursors,A=null;if(g)A=x[y+g];else if(f){for(var E="",I=0,X=["top","bottom","left","right"];I<X.length;I++){var ne=X[I];f[ne]&&(E+=ne)}A=x[E]}return A},filterEventType:function(p){return p.search("resize")===0},defaultMargin:null},Zw=cr,Bw={id:"actions",install:function(p){p.usePlugin(Nw),p.usePlugin(Zw),p.usePlugin(q),p.usePlugin(Iw)}},Xm=0,qr={request:function(p){return ur(p)},cancel:function(p){return $s(p)},init:function(p){if(ur=p.requestAnimationFrame,$s=p.cancelAnimationFrame,!ur)for(var f=["ms","moz","webkit","o"],g=0;g<f.length;g++){var y=f[g];ur=p["".concat(y,"RequestAnimationFrame")],$s=p["".concat(y,"CancelAnimationFrame")]||p["".concat(y,"CancelRequestAnimationFrame")]}ur=ur&&ur.bind(p),$s=$s&&$s.bind(p),ur||(ur=function(x){var A=Date.now(),E=Math.max(0,16-(A-Xm)),I=p.setTimeout(function(){x(A+E)},E);return Xm=A+E,I},$s=function(x){return clearTimeout(x)})}},pt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(p){pt.isScrolling=!0,qr.cancel(pt.i),p.autoScroll=pt,pt.interaction=p,pt.prevTime=pt.now(),pt.i=qr.request(pt.scroll)},stop:function(){pt.isScrolling=!1,pt.interaction&&(pt.interaction.autoScroll=null),qr.cancel(pt.i)},scroll:function(){var p=pt.interaction,f=p.interactable,g=p.element,y=p.prepared.name,x=f.options[y].autoScroll,A=qm(x.container,f,g),E=pt.now(),I=(E-pt.prevTime)/1e3,X=x.speed*I;if(X>=1){var ne={x:pt.x*X,y:pt.y*X};if(ne.x||ne.y){var F=Fm(A);M.window(A)?A.scrollBy(ne.x,ne.y):A&&(A.scrollLeft+=ne.x,A.scrollTop+=ne.y);var de=Fm(A),ve={x:de.x-F.x,y:de.y-F.y};(ve.x||ve.y)&&f.fire({type:"autoscroll",target:g,interactable:f,delta:ve,interaction:p,container:A})}pt.prevTime=E}pt.isScrolling&&(qr.cancel(pt.i),pt.i=qr.request(pt.scroll))},check:function(p,f){var g;return(g=p.options[f].autoScroll)==null?void 0:g.enabled},onInteractionMove:function(p){var f=p.interaction,g=p.pointer;if(f.interacting()&&pt.check(f.interactable,f.prepared.name))if(f.simulation)pt.x=pt.y=0;else{var y,x,A,E,I=f.interactable,X=f.element,ne=f.prepared.name,F=I.options[ne].autoScroll,de=qm(F.container,I,X);if(M.window(de))E=g.clientX<pt.margin,y=g.clientY<pt.margin,x=g.clientX>de.innerWidth-pt.margin,A=g.clientY>de.innerHeight-pt.margin;else{var ve=we(de);E=g.clientX<ve.left+pt.margin,y=g.clientY<ve.top+pt.margin,x=g.clientX>ve.right-pt.margin,A=g.clientY>ve.bottom-pt.margin}pt.x=x?1:E?-1:0,pt.y=A?1:y?-1:0,pt.isScrolling||(pt.margin=F.margin,pt.speed=F.speed,pt.start(f))}}};function qm(p,f,g){return(M.string(p)?ht(p,f,g):p)||w(g)}function Fm(p){return M.window(p)&&(p=window.document.body),{x:p.scrollLeft,y:p.scrollTop}}var Vw={id:"auto-scroll",install:function(p){var f=p.defaults,g=p.actions;p.autoScroll=pt,pt.now=function(){return p.now()},g.phaselessTypes.autoscroll=!0,f.perAction.autoScroll=pt.defaults},listeners:{"interactions:new":function(p){p.interaction.autoScroll=null},"interactions:destroy":function(p){p.interaction.autoScroll=null,pt.stop(),pt.interaction&&(pt.interaction=null)},"interactions:stop":pt.stop,"interactions:action-move":function(p){return pt.onInteractionMove(p)}}},Xw=Vw;function da(p,f){var g=!1;return function(){return g||(T.console.warn(f),g=!0),p.apply(this,arguments)}}function r0(p,f){return p.name=f.name,p.axis=f.axis,p.edges=f.edges,p}function qw(p){return M.bool(p)?(this.options.styleCursor=p,this):p===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Fw(p){return M.func(p)?(this.options.actionChecker=p,this):p===null?(delete this.options.actionChecker,this):this.options.actionChecker}var Hw={id:"auto-start/interactableMethods",install:function(p){var f=p.Interactable;f.prototype.getAction=function(g,y,x,A){var E=function(I,X,ne,F,de){var ve=I.getRect(F),ke=X.buttons||{0:1,1:4,3:8,4:16}[X.button],Se={action:null,interactable:I,interaction:ne,element:F,rect:ve,buttons:ke};return de.fire("auto-start:check",Se),Se.action}(this,y,x,A,p);return this.options.actionChecker?this.options.actionChecker(g,y,E,this,A,x):E},f.prototype.ignoreFrom=da(function(g){return this._backCompatOption("ignoreFrom",g)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),f.prototype.allowFrom=da(function(g){return this._backCompatOption("allowFrom",g)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),f.prototype.actionChecker=Fw,f.prototype.styleCursor=qw}};function Hm(p,f,g,y,x){return f.testIgnoreAllow(f.options[p.name],g,y)&&f.options[p.name].enabled&&Hl(f,g,p,x)?p:null}function jw(p,f,g,y,x,A,E){for(var I=0,X=y.length;I<X;I++){var ne=y[I],F=x[I],de=ne.getAction(f,g,p,F);if(de){var ve=Hm(de,ne,F,A,E);if(ve)return{action:ve,interactable:ne,element:F}}}return{action:null,interactable:null,element:null}}function jm(p,f,g,y,x){var A=[],E=[],I=y;function X(F){A.push(F),E.push(I)}for(;M.element(I);){A=[],E=[],x.interactables.forEachMatch(I,X);var ne=jw(p,f,g,A,E,y,x);if(ne.action&&!ne.interactable.options[ne.action.name].manualStart)return ne;I=ce(I)}return{action:null,interactable:null,element:null}}function Um(p,f,g){var y=f.action,x=f.interactable,A=f.element;y=y||{name:null},p.interactable=x,p.element=A,r0(p.prepared,y),p.rect=x&&y.name?x.getRect(A):null,Wm(p,g),g.fire("autoStart:prepared",{interaction:p})}function Hl(p,f,g,y){var x=p.options,A=x[g.name].max,E=x[g.name].maxPerElement,I=y.autoStart.maxInteractions,X=0,ne=0,F=0;if(!(A&&E&&I))return!1;for(var de=0,ve=y.interactions.list;de<ve.length;de++){var ke=ve[de],Se=ke.prepared.name;if(ke.interacting()&&(++X>=I||ke.interactable===p&&((ne+=Se===g.name?1:0)>=A||ke.element===f&&(F++,Se===g.name&&F>=E))))return!1}return I>0}function Gm(p,f){return M.number(p)?(f.autoStart.maxInteractions=p,this):f.autoStart.maxInteractions}function s0(p,f,g){var y=g.autoStart.cursorElement;y&&y!==p&&(y.style.cursor=""),p.ownerDocument.documentElement.style.cursor=f,p.style.cursor=f,g.autoStart.cursorElement=f?p:null}function Wm(p,f){var g=p.interactable,y=p.element,x=p.prepared;if(p.pointerType==="mouse"&&g&&g.options.styleCursor){var A="";if(x.name){var E=g.options[x.name].cursorChecker;A=M.func(E)?E(x,g,y,p._interacting):f.actions.map[x.name].getCursor(x)}s0(p.element,A||"",f)}else f.autoStart.cursorElement&&s0(f.autoStart.cursorElement,"",f)}var Uw={id:"auto-start/base",before:["actions"],install:function(p){var f=p.interactStatic,g=p.defaults;p.usePlugin(Hw),g.base.actionChecker=null,g.base.styleCursor=!0,be(g.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),f.maxInteractions=function(y){return Gm(y,p)},p.autoStart={maxInteractions:1/0,withinInteractionLimit:Hl,cursorElement:null}},listeners:{"interactions:down":function(p,f){var g=p.interaction,y=p.pointer,x=p.event,A=p.eventTarget;g.interacting()||Um(g,jm(g,y,x,A,f),f)},"interactions:move":function(p,f){(function(g,y){var x=g.interaction,A=g.pointer,E=g.event,I=g.eventTarget;x.pointerType!=="mouse"||x.pointerIsDown||x.interacting()||Um(x,jm(x,A,E,I,y),y)})(p,f),function(g,y){var x=g.interaction;if(x.pointerIsDown&&!x.interacting()&&x.pointerWasMoved&&x.prepared.name){y.fire("autoStart:before-start",g);var A=x.interactable,E=x.prepared.name;E&&A&&(A.options[E].manualStart||!Hl(A,x.element,x.prepared,y)?x.stop():(x.start(x.prepared,A,x.element),Wm(x,y)))}}(p,f)},"interactions:stop":function(p,f){var g=p.interaction,y=g.interactable;y&&y.options.styleCursor&&s0(g.element,"",f)}},maxInteractions:Gm,withinInteractionLimit:Hl,validateAction:Hm},o0=Uw,Gw={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(p,f){var g=p.interaction,y=p.eventTarget,x=p.dx,A=p.dy;if(g.prepared.name==="drag"){var E=Math.abs(x),I=Math.abs(A),X=g.interactable.options.drag,ne=X.startAxis,F=E>I?"x":E<I?"y":"xy";if(g.prepared.axis=X.lockAxis==="start"?F[0]:X.lockAxis,F!=="xy"&&ne!=="xy"&&ne!==F){g.prepared.name=null;for(var de=y,ve=function(Se){if(Se!==g.interactable){var Te=g.interactable.options.drag;if(!Te.manualStart&&Se.testIgnoreAllow(Te,de,y)){var Ge=Se.getAction(g.downPointer,g.downEvent,g,de);if(Ge&&Ge.name==="drag"&&function(Ve,nt){if(!nt)return!1;var vt=nt.options.drag.startAxis;return Ve==="xy"||vt==="xy"||vt===Ve}(F,Se)&&o0.validateAction(Ge,Se,de,y,f))return Se}}};M.element(de);){var ke=f.interactables.forEachMatch(de,ve);if(ke){g.prepared.name="drag",g.interactable=ke,g.element=de;break}de=ce(de)}}}}}};function a0(p){var f=p.prepared&&p.prepared.name;if(!f)return null;var g=p.interactable.options;return g[f].hold||g[f].delay}var Ww={id:"auto-start/hold",install:function(p){var f=p.defaults;p.usePlugin(o0),f.perAction.hold=0,f.perAction.delay=0},listeners:{"interactions:new":function(p){p.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(p){var f=p.interaction,g=a0(f);g>0&&(f.autoStartHoldTimer=setTimeout(function(){f.start(f.prepared,f.interactable,f.element)},g))},"interactions:move":function(p){var f=p.interaction,g=p.duplicate;f.autoStartHoldTimer&&f.pointerWasMoved&&!g&&(clearTimeout(f.autoStartHoldTimer),f.autoStartHoldTimer=null)},"autoStart:before-start":function(p){var f=p.interaction;a0(f)>0&&(f.prepared.name=null)}},getHoldDuration:a0},Yw=Ww,Kw={id:"auto-start",install:function(p){p.usePlugin(o0),p.usePlugin(Yw),p.usePlugin(Gw)}},Jw=function(p){return/^(always|never|auto)$/.test(p)?(this.options.preventDefault=p,this):M.bool(p)?(this.options.preventDefault=p?"always":"never",this):this.options.preventDefault};function e6(p){var f=p.interaction,g=p.event;f.interactable&&f.interactable.checkAndPreventDefault(g)}var Ym={id:"core/interactablePreventDefault",install:function(p){var f=p.Interactable;f.prototype.preventDefault=Jw,f.prototype.checkAndPreventDefault=function(g){return function(y,x,A){var E=y.options.preventDefault;if(E!=="never")if(E!=="always"){if(x.events.supportsPassive&&/^touch(start|move)$/.test(A.type)){var I=w(A.target).document,X=x.getDocOptions(I);if(!X||!X.events||X.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(A.type)||M.element(A.target)&&te(A.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||A.preventDefault()}else A.preventDefault()}(this,p,g)},p.interactions.docEvents.push({type:"dragstart",listener:function(g){for(var y=0,x=p.interactions.list;y<x.length;y++){var A=x[y];if(A.element&&(A.element===g.target||H(A.element,g.target)))return void A.interactable.checkAndPreventDefault(g)}}})},listeners:["down","move","up","cancel"].reduce(function(p,f){return p["interactions:".concat(f)]=e6,p},{})};function jl(p,f){if(f.phaselessTypes[p])return!0;for(var g in f.map)if(p.indexOf(g)===0&&p.substr(g.length)in f.phases)return!0;return!1}function go(p){var f={};for(var g in p){var y=p[g];M.plainObject(y)?f[g]=go(y):M.array(y)?f[g]=po(y):f[g]=y}return f}var l0=function(){function p(f){s(this,p),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=f,this.result=Ul(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return a(p,[{key:"start",value:function(f,g){var y,x,A=f.phase,E=this.interaction,I=function(ne){var F=ne.interactable.options[ne.prepared.name],de=F.modifiers;return de&&de.length?de:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(ve){var ke=F[ve];return ke&&ke.enabled&&{options:ke,methods:ke._methods}}).filter(function(ve){return!!ve})}(E);this.prepareStates(I),this.startEdges=be({},E.edges),this.edges=be({},this.startEdges),this.startOffset=(y=E.rect,x=g,y?{left:x.x-y.left,top:x.y-y.top,right:y.right-x.x,bottom:y.bottom-x.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var X=this.fillArg({phase:A,pageCoords:g,preEnd:!1});return this.result=Ul(),this.startAll(X),this.result=this.setAll(X)}},{key:"fillArg",value:function(f){var g=this.interaction;return f.interaction=g,f.interactable=g.interactable,f.element=g.element,f.rect||(f.rect=g.rect),f.edges||(f.edges=this.startEdges),f.startOffset=this.startOffset,f}},{key:"startAll",value:function(f){for(var g=0,y=this.states;g<y.length;g++){var x=y[g];x.methods.start&&(f.state=x,x.methods.start(f))}}},{key:"setAll",value:function(f){var g=f.phase,y=f.preEnd,x=f.skipModifiers,A=f.rect,E=f.edges;f.coords=be({},f.pageCoords),f.rect=be({},A),f.edges=be({},E);for(var I=x?this.states.slice(x):this.states,X=Ul(f.coords,f.rect),ne=0;ne<I.length;ne++){var F,de=I[ne],ve=de.options,ke=be({},f.coords),Se=null;(F=de.methods)!=null&&F.set&&this.shouldDo(ve,y,g)&&(f.state=de,Se=de.methods.set(f),ie(f.edges,f.rect,{x:f.coords.x-ke.x,y:f.coords.y-ke.y})),X.eventProps.push(Se)}be(this.edges,f.edges),X.delta.x=f.coords.x-f.pageCoords.x,X.delta.y=f.coords.y-f.pageCoords.y,X.rectDelta.left=f.rect.left-A.left,X.rectDelta.right=f.rect.right-A.right,X.rectDelta.top=f.rect.top-A.top,X.rectDelta.bottom=f.rect.bottom-A.bottom;var Te=this.result.coords,Ge=this.result.rect;if(Te&&Ge){var Ve=X.rect.left!==Ge.left||X.rect.right!==Ge.right||X.rect.top!==Ge.top||X.rect.bottom!==Ge.bottom;X.changed=Ve||Te.x!==X.coords.x||Te.y!==X.coords.y}return X}},{key:"applyToInteraction",value:function(f){var g=this.interaction,y=f.phase,x=g.coords.cur,A=g.coords.start,E=this.result,I=this.startDelta,X=E.delta;y==="start"&&be(this.startDelta,E.delta);for(var ne=0,F=[[A,I],[x,X]];ne<F.length;ne++){var de=F[ne],ve=de[0],ke=de[1];ve.page.x+=ke.x,ve.page.y+=ke.y,ve.client.x+=ke.x,ve.client.y+=ke.y}var Se=this.result.rectDelta,Te=f.rect||g.rect;Te.left+=Se.left,Te.right+=Se.right,Te.top+=Se.top,Te.bottom+=Se.bottom,Te.width=Te.right-Te.left,Te.height=Te.bottom-Te.top}},{key:"setAndApply",value:function(f){var g=this.interaction,y=f.phase,x=f.preEnd,A=f.skipModifiers,E=this.setAll(this.fillArg({preEnd:x,phase:y,pageCoords:f.modifiedCoords||g.coords.cur.page}));if(this.result=E,!E.changed&&(!A||A<this.states.length)&&g.interacting())return!1;if(f.modifiedCoords){var I=g.coords.cur.page,X={x:f.modifiedCoords.x-I.x,y:f.modifiedCoords.y-I.y};E.coords.x+=X.x,E.coords.y+=X.y,E.delta.x+=X.x,E.delta.y+=X.y}this.applyToInteraction(f)}},{key:"beforeEnd",value:function(f){var g=f.interaction,y=f.event,x=this.states;if(x&&x.length){for(var A=!1,E=0;E<x.length;E++){var I=x[E];f.state=I;var X=I.options,ne=I.methods,F=ne.beforeEnd&&ne.beforeEnd(f);if(F)return this.endResult=F,!1;A=A||!A&&this.shouldDo(X,!0,f.phase,!0)}A&&g.move({event:y,preEnd:!0})}}},{key:"stop",value:function(f){var g=f.interaction;if(this.states&&this.states.length){var y=be({states:this.states,interactable:g.interactable,element:g.element,rect:null},f);this.fillArg(y);for(var x=0,A=this.states;x<A.length;x++){var E=A[x];y.state=E,E.methods.stop&&E.methods.stop(y)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(f){this.states=[];for(var g=0;g<f.length;g++){var y=f[g],x=y.options,A=y.methods,E=y.name;this.states.push({options:x,methods:A,index:g,name:E})}return this.states}},{key:"restoreInteractionCoords",value:function(f){var g=f.interaction,y=g.coords,x=g.rect,A=g.modification;if(A.result){for(var E=A.startDelta,I=A.result,X=I.delta,ne=I.rectDelta,F=0,de=[[y.start,E],[y.cur,X]];F<de.length;F++){var ve=de[F],ke=ve[0],Se=ve[1];ke.page.x-=Se.x,ke.page.y-=Se.y,ke.client.x-=Se.x,ke.client.y-=Se.y}x.left-=ne.left,x.right-=ne.right,x.top-=ne.top,x.bottom-=ne.bottom}}},{key:"shouldDo",value:function(f,g,y,x){return!(!f||f.enabled===!1||x&&!f.endOnly||f.endOnly&&!g||y==="start"&&!f.setStart)}},{key:"copyFrom",value:function(f){this.startOffset=f.startOffset,this.startDelta=f.startDelta,this.startEdges=f.startEdges,this.edges=f.edges,this.states=f.states.map(function(g){return go(g)}),this.result=Ul(be({},f.result.coords),be({},f.result.rect))}},{key:"destroy",value:function(){for(var f in this)this[f]=null}}]),p}();function Ul(p,f){return{rect:f,coords:p,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Fr(p,f){var g=p.defaults,y={start:p.start,set:p.set,beforeEnd:p.beforeEnd,stop:p.stop},x=function(A){var E=A||{};for(var I in E.enabled=E.enabled!==!1,g)I in E||(E[I]=g[I]);var X={options:E,methods:y,name:f,enable:function(){return E.enabled=!0,X},disable:function(){return E.enabled=!1,X}};return X};return f&&typeof f=="string"&&(x._defaults=g,x._methods=y),x}function fa(p){var f=p.iEvent,g=p.interaction.modification.result;g&&(f.modifiers=g.eventProps)}var t6={id:"modifiers/base",before:["actions"],install:function(p){p.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(p){var f=p.interaction;f.modification=new l0(f)},"interactions:before-action-start":function(p){var f=p.interaction,g=p.interaction.modification;g.start(p,f.coords.start.page),f.edges=g.edges,g.applyToInteraction(p)},"interactions:before-action-move":function(p){var f=p.interaction,g=f.modification,y=g.setAndApply(p);return f.edges=g.edges,y},"interactions:before-action-end":function(p){var f=p.interaction,g=f.modification,y=g.beforeEnd(p);return f.edges=g.startEdges,y},"interactions:action-start":fa,"interactions:action-move":fa,"interactions:action-end":fa,"interactions:after-action-start":function(p){return p.interaction.modification.restoreInteractionCoords(p)},"interactions:after-action-move":function(p){return p.interaction.modification.restoreInteractionCoords(p)},"interactions:stop":function(p){return p.interaction.modification.stop(p)}}},Km=t6,Jm={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},u0=function(p){u(g,p);var f=m(g);function g(y,x,A,E,I,X,ne){var F;s(this,g),(F=f.call(this,y)).relatedTarget=null,F.screenX=void 0,F.screenY=void 0,F.button=void 0,F.buttons=void 0,F.ctrlKey=void 0,F.shiftKey=void 0,F.altKey=void 0,F.metaKey=void 0,F.page=void 0,F.client=void 0,F.delta=void 0,F.rect=void 0,F.x0=void 0,F.y0=void 0,F.t0=void 0,F.dt=void 0,F.duration=void 0,F.clientX0=void 0,F.clientY0=void 0,F.velocity=void 0,F.speed=void 0,F.swipe=void 0,F.axes=void 0,F.preEnd=void 0,I=I||y.element;var de=y.interactable,ve=(de&&de.options||Jm).deltaSource,ke=J(de,I,A),Se=E==="start",Te=E==="end",Ge=Se?d(F):y.prevEvent,Ve=Se?y.coords.start:Te?{page:Ge.page,client:Ge.client,timeStamp:y.coords.cur.timeStamp}:y.coords.cur;return F.page=be({},Ve.page),F.client=be({},Ve.client),F.rect=be({},y.rect),F.timeStamp=Ve.timeStamp,Te||(F.page.x-=ke.x,F.page.y-=ke.y,F.client.x-=ke.x,F.client.y-=ke.y),F.ctrlKey=x.ctrlKey,F.altKey=x.altKey,F.shiftKey=x.shiftKey,F.metaKey=x.metaKey,F.button=x.button,F.buttons=x.buttons,F.target=I,F.currentTarget=I,F.preEnd=X,F.type=ne||A+(E||""),F.interactable=de,F.t0=Se?y.pointers[y.pointers.length-1].downTime:Ge.t0,F.x0=y.coords.start.page.x-ke.x,F.y0=y.coords.start.page.y-ke.y,F.clientX0=y.coords.start.client.x-ke.x,F.clientY0=y.coords.start.client.y-ke.y,F.delta=Se||Te?{x:0,y:0}:{x:F[ve].x-Ge[ve].x,y:F[ve].y-Ge[ve].y},F.dt=y.coords.delta.timeStamp,F.duration=F.timeStamp-F.t0,F.velocity=be({},y.coords.velocity[ve]),F.speed=ye(F.velocity.x,F.velocity.y),F.swipe=Te||E==="inertiastart"?F.getSwipe():null,F}return a(g,[{key:"getSwipe",value:function(){var y=this._interaction;if(y.prevEvent.speed<600||this.timeStamp-y.prevEvent.timeStamp>150)return null;var x=180*Math.atan2(y.prevEvent.velocityY,y.prevEvent.velocityX)/Math.PI;x<0&&(x+=360);var A=112.5<=x&&x<247.5,E=202.5<=x&&x<337.5;return{up:E,down:!E&&22.5<=x&&x<157.5,left:A,right:!A&&(292.5<=x||x<67.5),angle:x,speed:y.prevEvent.speed,velocity:{x:y.prevEvent.velocityX,y:y.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),g}(Xr);Object.defineProperties(u0.prototype,{pageX:{get:function(){return this.page.x},set:function(p){this.page.x=p}},pageY:{get:function(){return this.page.y},set:function(p){this.page.y=p}},clientX:{get:function(){return this.client.x},set:function(p){this.client.x=p}},clientY:{get:function(){return this.client.y},set:function(p){this.client.y=p}},dx:{get:function(){return this.delta.x},set:function(p){this.delta.x=p}},dy:{get:function(){return this.delta.y},set:function(p){this.delta.y=p}},velocityX:{get:function(){return this.velocity.x},set:function(p){this.velocity.x=p}},velocityY:{get:function(){return this.velocity.y},set:function(p){this.velocity.y=p}}});var n6=a(function p(f,g,y,x,A){s(this,p),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=f,this.pointer=g,this.event=y,this.downTime=x,this.downTarget=A}),i6=function(p){return p.interactable="",p.element="",p.prepared="",p.pointerIsDown="",p.pointerWasMoved="",p._proxy="",p}({}),eg=function(p){return p.start="",p.move="",p.end="",p.stop="",p.interacting="",p}({}),r6=0,s6=function(){function p(f){var g=this,y=f.pointerType,x=f.scopeFire;s(this,p),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=da(function(F){this.move(F)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=r6++,this._scopeFire=x,this.pointerType=y;var A=this;this._proxy={};var E=function(F){Object.defineProperty(g._proxy,F,{get:function(){return A[F]}})};for(var I in i6)E(I);var X=function(F){Object.defineProperty(g._proxy,F,{value:function(){return A[F].apply(A,arguments)}})};for(var ne in eg)X(ne);this._scopeFire("interactions:new",{interaction:this})}return a(p,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(f,g,y){var x=this.updatePointer(f,g,y,!0),A=this.pointers[x];this._scopeFire("interactions:down",{pointer:f,event:g,eventTarget:y,pointerIndex:x,pointerInfo:A,type:"down",interaction:this})}},{key:"start",value:function(f,g,y){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(f.name==="gesture"?2:1)||!g.options[f.name].enabled)&&(r0(this.prepared,f),this.interactable=g,this.element=y,this.rect=g.getRect(y),this.edges=this.prepared.edges?be({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(f,g,y){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(f,g,y,!1);var x,A,E=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(x=this.coords.cur.client.x-this.coords.start.client.x,A=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=ye(x,A)>this.pointerMoveTolerance);var I,X,ne,F=this.getPointerIndex(f),de={pointer:f,pointerIndex:F,pointerInfo:this.pointers[F],event:g,type:"move",eventTarget:y,dx:x,dy:A,duplicate:E,interaction:this};E||(I=this.coords.velocity,X=this.coords.delta,ne=Math.max(X.timeStamp/1e3,.001),I.page.x=X.page.x/ne,I.page.y=X.page.y/ne,I.client.x=X.client.x/ne,I.client.y=X.client.y/ne,I.timeStamp=ne),this._scopeFire("interactions:move",de),E||this.simulation||(this.interacting()&&(de.type=null,this.move(de)),this.pointerWasMoved&&Ue(this.coords.prev,this.coords.cur))}},{key:"move",value:function(f){f&&f.event||et(this.coords.delta),(f=be({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},f||{})).phase="move",this._doPhase(f)}},{key:"pointerUp",value:function(f,g,y,x){var A=this.getPointerIndex(f);A===-1&&(A=this.updatePointer(f,g,y,!1));var E=/cancel$/i.test(g.type)?"cancel":"up";this._scopeFire("interactions:".concat(E),{pointer:f,pointerIndex:A,pointerInfo:this.pointers[A],event:g,eventTarget:y,type:E,curEventTarget:x,interaction:this}),this.simulation||this.end(g),this.removePointer(f,g)}},{key:"documentBlur",value:function(f){this.end(f),this._scopeFire("interactions:blur",{event:f,type:"blur",interaction:this})}},{key:"end",value:function(f){var g;this._ending=!0,f=f||this._latestPointer.event,this.interacting()&&(g=this._doPhase({event:f,interaction:this,phase:"end"})),this._ending=!1,g===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(f){var g=gt(f);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:lr(this.pointers,function(y){return y.id===g})}},{key:"getPointerInfo",value:function(f){return this.pointers[this.getPointerIndex(f)]}},{key:"updatePointer",value:function(f,g,y,x){var A,E,I,X=gt(f),ne=this.getPointerIndex(f),F=this.pointers[ne];return x=x!==!1&&(x||/(down|start)$/i.test(g.type)),F?F.pointer=f:(F=new n6(X,f,g,null,null),ne=this.pointers.length,this.pointers.push(F)),Lt(this.coords.cur,this.pointers.map(function(de){return de.pointer}),this._now()),A=this.coords.delta,E=this.coords.prev,I=this.coords.cur,A.page.x=I.page.x-E.page.x,A.page.y=I.page.y-E.page.y,A.client.x=I.client.x-E.client.x,A.client.y=I.client.y-E.client.y,A.timeStamp=I.timeStamp-E.timeStamp,x&&(this.pointerIsDown=!0,F.downTime=this.coords.cur.timeStamp,F.downTarget=y,je(this.downPointer,f),this.interacting()||(Ue(this.coords.start,this.coords.cur),Ue(this.coords.prev,this.coords.cur),this.downEvent=g,this.pointerWasMoved=!1)),this._updateLatestPointer(f,g,y),this._scopeFire("interactions:update-pointer",{pointer:f,event:g,eventTarget:y,down:x,pointerInfo:F,pointerIndex:ne,interaction:this}),ne}},{key:"removePointer",value:function(f,g){var y=this.getPointerIndex(f);if(y!==-1){var x=this.pointers[y];this._scopeFire("interactions:remove-pointer",{pointer:f,event:g,eventTarget:null,pointerIndex:y,pointerInfo:x,interaction:this}),this.pointers.splice(y,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(f,g,y){this._latestPointer.pointer=f,this._latestPointer.event=g,this._latestPointer.eventTarget=y}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(f,g,y,x){return new u0(this,f,this.prepared.name,g,this.element,y,x)}},{key:"_fireEvent",value:function(f){var g;(g=this.interactable)==null||g.fire(f),(!this.prevEvent||f.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=f)}},{key:"_doPhase",value:function(f){var g=f.event,y=f.phase,x=f.preEnd,A=f.type,E=this.rect;if(E&&y==="move"&&(ie(this.edges,E,this.coords.delta[this.interactable.options.deltaSource]),E.width=E.right-E.left,E.height=E.bottom-E.top),this._scopeFire("interactions:before-action-".concat(y),f)===!1)return!1;var I=f.iEvent=this._createPreparedEvent(g,y,x,A);return this._scopeFire("interactions:action-".concat(y),f),y==="start"&&(this.prevEvent=I),this._fireEvent(I),this._scopeFire("interactions:after-action-".concat(y),f),!0}},{key:"_now",value:function(){return Date.now()}}]),p}();function tg(p){ng(p.interaction)}function ng(p){if(!function(g){return!(!g.offset.pending.x&&!g.offset.pending.y)}(p))return!1;var f=p.offset.pending;return c0(p.coords.cur,f),c0(p.coords.delta,f),ie(p.edges,p.rect,f),f.x=0,f.y=0,!0}function o6(p){var f=p.x,g=p.y;this.offset.pending.x+=f,this.offset.pending.y+=g,this.offset.total.x+=f,this.offset.total.y+=g}function c0(p,f){var g=p.page,y=p.client,x=f.x,A=f.y;g.x+=x,g.y+=A,y.x+=x,y.y+=A}eg.offsetBy="";var a6={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(p){p.Interaction.prototype.offsetBy=o6},listeners:{"interactions:new":function(p){p.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(p){return function(f){f.pointerIsDown&&(c0(f.coords.cur,f.offset.total),f.offset.pending.x=0,f.offset.pending.y=0)}(p.interaction)},"interactions:before-action-start":tg,"interactions:before-action-move":tg,"interactions:before-action-end":function(p){var f=p.interaction;if(ng(f))return f.move({offset:!0}),f.end(),!1},"interactions:stop":function(p){var f=p.interaction;f.offset.total.x=0,f.offset.total.y=0,f.offset.pending.x=0,f.offset.pending.y=0}}},ig=a6,l6=function(){function p(f){s(this,p),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=f}return a(p,[{key:"start",value:function(f){var g=this.interaction,y=Gl(g);if(!y||!y.enabled)return!1;var x=g.coords.velocity.client,A=ye(x.x,x.y),E=this.modification||(this.modification=new l0(g));if(E.copyFrom(g.modification),this.t0=g._now(),this.allowResume=y.allowResume,this.v0=A,this.currentOffset={x:0,y:0},this.startCoords=g.coords.cur.page,this.modifierArg=E.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-g.coords.cur.timeStamp<50&&A>y.minSpeed&&A>y.endSpeed)this.startInertia();else{if(E.result=E.setAll(this.modifierArg),!E.result.changed)return!1;this.startSmoothEnd()}return g.modification.result.rect=null,g.offsetBy(this.targetOffset),g._doPhase({interaction:g,event:f,phase:"inertiastart"}),g.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),g.modification.result.rect=null,this.active=!0,g.simulation=this,!0}},{key:"startInertia",value:function(){var f=this,g=this.interaction.coords.velocity.client,y=Gl(this.interaction),x=y.resistance,A=-Math.log(y.endSpeed/this.v0)/x;this.targetOffset={x:(g.x-A)/x,y:(g.y-A)/x},this.te=A,this.lambda_v0=x/this.v0,this.one_ve_v0=1-y.endSpeed/this.v0;var E=this.modification,I=this.modifierArg;I.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},E.result=E.setAll(I),E.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+E.result.delta.x,y:this.targetOffset.y+E.result.delta.y}),this.onNextFrame(function(){return f.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var f=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return f.smoothEndTick()})}},{key:"onNextFrame",value:function(f){var g=this;this.timeout=qr.request(function(){g.active&&f()})}},{key:"inertiaTick",value:function(){var f,g,y,x,A,E,I,X=this,ne=this.interaction,F=Gl(ne).resistance,de=(ne._now()-this.t0)/1e3;if(de<this.te){var ve,ke=1-(Math.exp(-F*de)-this.lambda_v0)/this.one_ve_v0;this.isModified?(f=0,g=0,y=this.targetOffset.x,x=this.targetOffset.y,A=this.modifiedOffset.x,E=this.modifiedOffset.y,ve={x:rg(I=ke,f,y,A),y:rg(I,g,x,E)}):ve={x:this.targetOffset.x*ke,y:this.targetOffset.y*ke};var Se={x:ve.x-this.currentOffset.x,y:ve.y-this.currentOffset.y};this.currentOffset.x+=Se.x,this.currentOffset.y+=Se.y,ne.offsetBy(Se),ne.move(),this.onNextFrame(function(){return X.inertiaTick()})}else ne.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var f=this,g=this.interaction,y=g._now()-this.t0,x=Gl(g).smoothEndDuration;if(y<x){var A={x:sg(y,0,this.targetOffset.x,x),y:sg(y,0,this.targetOffset.y,x)},E={x:A.x-this.currentOffset.x,y:A.y-this.currentOffset.y};this.currentOffset.x+=E.x,this.currentOffset.y+=E.y,g.offsetBy(E),g.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return f.smoothEndTick()})}else g.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(f){var g=f.pointer,y=f.event,x=f.eventTarget,A=this.interaction;A.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),A.updatePointer(g,y,x,!0),A._doPhase({interaction:A,event:y,phase:"resume"}),Ue(A.coords.prev,A.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,qr.cancel(this.timeout)}}]),p}();function Gl(p){var f=p.interactable,g=p.prepared;return f&&f.options&&g.name&&f.options[g.name].inertia}var u6={id:"inertia",before:["modifiers","actions"],install:function(p){var f=p.defaults;p.usePlugin(ig),p.usePlugin(Km),p.actions.phases.inertiastart=!0,p.actions.phases.resume=!0,f.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(p){var f=p.interaction;f.inertia=new l6(f)},"interactions:before-action-end":function(p){var f=p.interaction,g=p.event;return(!f._interacting||f.simulation||!f.inertia.start(g))&&null},"interactions:down":function(p){var f=p.interaction,g=p.eventTarget,y=f.inertia;if(y.active)for(var x=g;M.element(x);){if(x===f.element){y.resume(p);break}x=ce(x)}},"interactions:stop":function(p){var f=p.interaction.inertia;f.active&&f.stop()},"interactions:before-action-resume":function(p){var f=p.interaction.modification;f.stop(p),f.start(p,p.interaction.coords.cur.page),f.applyToInteraction(p)},"interactions:before-action-inertiastart":function(p){return p.interaction.modification.setAndApply(p)},"interactions:action-resume":fa,"interactions:action-inertiastart":fa,"interactions:after-action-inertiastart":function(p){return p.interaction.modification.restoreInteractionCoords(p)},"interactions:after-action-resume":function(p){return p.interaction.modification.restoreInteractionCoords(p)}}};function rg(p,f,g,y){var x=1-p;return x*x*f+2*x*p*g+p*p*y}function sg(p,f,g,y){return-g*(p/=y)*(p-2)+f}var c6=u6;function og(p,f){for(var g=0;g<f.length;g++){var y=f[g];if(p.immediatePropagationStopped)break;y(p)}}var ag=function(){function p(f){s(this,p),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=be({},f||{})}return a(p,[{key:"fire",value:function(f){var g,y=this.global;(g=this.types[f.type])&&og(f,g),!f.propagationStopped&&y&&(g=y[f.type])&&og(f,g)}},{key:"on",value:function(f,g){var y=se(f,g);for(f in y)this.types[f]=fo(this.types[f]||[],y[f])}},{key:"off",value:function(f,g){var y=se(f,g);for(f in y){var x=this.types[f];if(x&&x.length)for(var A=0,E=y[f];A<E.length;A++){var I=E[A],X=x.indexOf(I);X!==-1&&x.splice(X,1)}}}},{key:"getRect",value:function(f){return null}}]),p}(),h6=function(){function p(f){s(this,p),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=f,je(this,f)}return a(p,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),p}();function pa(p){return M.object(p)?{capture:!!p.capture,passive:!!p.passive}:{capture:!!p,passive:!1}}function Wl(p,f){return p===f||(typeof p=="boolean"?!!f.capture===p&&!f.passive:!!p.capture==!!f.capture&&!!p.passive==!!f.passive)}var d6={id:"events",install:function(p){var f,g=[],y={},x=[],A={add:E,remove:I,addDelegate:function(F,de,ve,ke,Se){var Te=pa(Se);if(!y[ve]){y[ve]=[];for(var Ge=0;Ge<x.length;Ge++){var Ve=x[Ge];E(Ve,ve,X),E(Ve,ve,ne,!0)}}var nt=y[ve],vt=ha(nt,function($t){return $t.selector===F&&$t.context===de});vt||(vt={selector:F,context:de,listeners:[]},nt.push(vt)),vt.listeners.push({func:ke,options:Te})},removeDelegate:function(F,de,ve,ke,Se){var Te,Ge=pa(Se),Ve=y[ve],nt=!1;if(Ve)for(Te=Ve.length-1;Te>=0;Te--){var vt=Ve[Te];if(vt.selector===F&&vt.context===de){for(var $t=vt.listeners,dt=$t.length-1;dt>=0;dt--){var Ot=$t[dt];if(Ot.func===ke&&Wl(Ot.options,Ge)){$t.splice(dt,1),$t.length||(Ve.splice(Te,1),I(de,ve,X),I(de,ve,ne,!0)),nt=!0;break}}if(nt)break}}},delegateListener:X,delegateUseCapture:ne,delegatedEvents:y,documents:x,targets:g,supportsOptions:!1,supportsPassive:!1};function E(F,de,ve,ke){if(F.addEventListener){var Se=pa(ke),Te=ha(g,function(Ge){return Ge.eventTarget===F});Te||(Te={eventTarget:F,events:{}},g.push(Te)),Te.events[de]||(Te.events[de]=[]),ha(Te.events[de],function(Ge){return Ge.func===ve&&Wl(Ge.options,Se)})||(F.addEventListener(de,ve,A.supportsOptions?Se:Se.capture),Te.events[de].push({func:ve,options:Se}))}}function I(F,de,ve,ke){if(F.addEventListener&&F.removeEventListener){var Se=lr(g,function(Cn){return Cn.eventTarget===F}),Te=g[Se];if(Te&&Te.events)if(de!=="all"){var Ge=!1,Ve=Te.events[de];if(Ve){if(ve==="all"){for(var nt=Ve.length-1;nt>=0;nt--){var vt=Ve[nt];I(F,de,vt.func,vt.options)}return}for(var $t=pa(ke),dt=0;dt<Ve.length;dt++){var Ot=Ve[dt];if(Ot.func===ve&&Wl(Ot.options,$t)){F.removeEventListener(de,ve,A.supportsOptions?$t:$t.capture),Ve.splice(dt,1),Ve.length===0&&(delete Te.events[de],Ge=!0);break}}}Ge&&!Object.keys(Te.events).length&&g.splice(Se,1)}else for(de in Te.events)Te.events.hasOwnProperty(de)&&I(F,de,"all")}}function X(F,de){for(var ve=pa(de),ke=new h6(F),Se=y[F.type],Te=Vr(F)[0],Ge=Te;M.element(Ge);){for(var Ve=0;Ve<Se.length;Ve++){var nt=Se[Ve],vt=nt.selector,$t=nt.context;if(te(Ge,vt)&&H($t,Te)&&H($t,Ge)){var dt=nt.listeners;ke.currentTarget=Ge;for(var Ot=0;Ot<dt.length;Ot++){var Cn=dt[Ot];Wl(Cn.options,ve)&&Cn.func(ke)}}}Ge=ce(Ge)}}function ne(F){return X(F,!0)}return(f=p.document)==null||f.createElement("div").addEventListener("test",null,{get capture(){return A.supportsOptions=!0},get passive(){return A.supportsPassive=!0}}),p.events=A,A}},h0={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(p){for(var f=0,g=h0.methodOrder;f<g.length;f++){var y=g[f],x=h0[y](p);if(x)return x}return null},simulationResume:function(p){var f=p.pointerType,g=p.eventType,y=p.eventTarget,x=p.scope;if(!/down|start/i.test(g))return null;for(var A=0,E=x.interactions.list;A<E.length;A++){var I=E[A],X=y;if(I.simulation&&I.simulation.allowResume&&I.pointerType===f)for(;X;){if(X===I.element)return I;X=ce(X)}}return null},mouseOrPen:function(p){var f,g=p.pointerId,y=p.pointerType,x=p.eventType,A=p.scope;if(y!=="mouse"&&y!=="pen")return null;for(var E=0,I=A.interactions.list;E<I.length;E++){var X=I[E];if(X.pointerType===y){if(X.simulation&&!lg(X,g))continue;if(X.interacting())return X;f||(f=X)}}if(f)return f;for(var ne=0,F=A.interactions.list;ne<F.length;ne++){var de=F[ne];if(!(de.pointerType!==y||/down/i.test(x)&&de.simulation))return de}return null},hasPointer:function(p){for(var f=p.pointerId,g=0,y=p.scope.interactions.list;g<y.length;g++){var x=y[g];if(lg(x,f))return x}return null},idle:function(p){for(var f=p.pointerType,g=0,y=p.scope.interactions.list;g<y.length;g++){var x=y[g];if(x.pointers.length===1){var A=x.interactable;if(A&&(!A.options.gesture||!A.options.gesture.enabled))continue}else if(x.pointers.length>=2)continue;if(!x.interacting()&&f===x.pointerType)return x}return null}};function lg(p,f){return p.pointers.some(function(g){return g.id===f})}var f6=h0,d0=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function ug(p,f){return function(g){var y=f.interactions.list,x=Br(g),A=Vr(g),E=A[0],I=A[1],X=[];if(/^touch/.test(g.type)){f.prevTouchTime=f.now();for(var ne=0,F=g.changedTouches;ne<F.length;ne++){var de=F[ne],ve={pointer:de,pointerId:gt(de),pointerType:x,eventType:g.type,eventTarget:E,curEventTarget:I,scope:f},ke=cg(ve);X.push([ve.pointer,ve.eventTarget,ve.curEventTarget,ke])}}else{var Se=!1;if(!L.supportsPointerEvent&&/mouse/.test(g.type)){for(var Te=0;Te<y.length&&!Se;Te++)Se=y[Te].pointerType!=="mouse"&&y[Te].pointerIsDown;Se=Se||f.now()-f.prevTouchTime<500||g.timeStamp===0}if(!Se){var Ge={pointer:g,pointerId:gt(g),pointerType:x,eventType:g.type,curEventTarget:I,eventTarget:E,scope:f},Ve=cg(Ge);X.push([Ge.pointer,Ge.eventTarget,Ge.curEventTarget,Ve])}}for(var nt=0;nt<X.length;nt++){var vt=X[nt],$t=vt[0],dt=vt[1],Ot=vt[2];vt[3][p]($t,g,dt,Ot)}}}function cg(p){var f=p.pointerType,g=p.scope,y={interaction:f6.search(p),searchDetails:p};return g.fire("interactions:find",y),y.interaction||g.interactions.new({pointerType:f})}function f0(p,f){var g=p.doc,y=p.scope,x=p.options,A=y.interactions.docEvents,E=y.events,I=E[f];for(var X in y.browser.isIOS&&!x.events&&(x.events={passive:!1}),E.delegatedEvents)I(g,X,E.delegateListener),I(g,X,E.delegateUseCapture,!0);for(var ne=x&&x.events,F=0;F<A.length;F++){var de=A[F];I(g,de.type,de.listener,ne)}}var p6={id:"core/interactions",install:function(p){for(var f={},g=0;g<d0.length;g++){var y=d0[g];f[y]=ug(y,p)}var x,A=L.pEventTypes;function E(){for(var I=0,X=p.interactions.list;I<X.length;I++){var ne=X[I];if(ne.pointerIsDown&&ne.pointerType==="touch"&&!ne._interacting)for(var F=function(){var ke=ve[de];p.documents.some(function(Se){return H(Se.doc,ke.downTarget)})||ne.removePointer(ke.pointer,ke.event)},de=0,ve=ne.pointers;de<ve.length;de++)F()}}(x=P.PointerEvent?[{type:A.down,listener:E},{type:A.down,listener:f.pointerDown},{type:A.move,listener:f.pointerMove},{type:A.up,listener:f.pointerUp},{type:A.cancel,listener:f.pointerUp}]:[{type:"mousedown",listener:f.pointerDown},{type:"mousemove",listener:f.pointerMove},{type:"mouseup",listener:f.pointerUp},{type:"touchstart",listener:E},{type:"touchstart",listener:f.pointerDown},{type:"touchmove",listener:f.pointerMove},{type:"touchend",listener:f.pointerUp},{type:"touchcancel",listener:f.pointerUp}]).push({type:"blur",listener:function(I){for(var X=0,ne=p.interactions.list;X<ne.length;X++)ne[X].documentBlur(I)}}),p.prevTouchTime=0,p.Interaction=function(I){u(ne,I);var X=m(ne);function ne(){return s(this,ne),X.apply(this,arguments)}return a(ne,[{key:"pointerMoveTolerance",get:function(){return p.interactions.pointerMoveTolerance},set:function(F){p.interactions.pointerMoveTolerance=F}},{key:"_now",value:function(){return p.now()}}]),ne}(s6),p.interactions={list:[],new:function(I){I.scopeFire=function(ne,F){return p.fire(ne,F)};var X=new p.Interaction(I);return p.interactions.list.push(X),X},listeners:f,docEvents:x,pointerMoveTolerance:1},p.usePlugin(Ym)},listeners:{"scope:add-document":function(p){return f0(p,"add")},"scope:remove-document":function(p){return f0(p,"remove")},"interactable:unset":function(p,f){for(var g=p.interactable,y=f.interactions.list.length-1;y>=0;y--){var x=f.interactions.list[y];x.interactable===g&&(x.stop(),f.fire("interactions:destroy",{interaction:x}),x.destroy(),f.interactions.list.length>2&&f.interactions.list.splice(y,1))}}},onDocSignal:f0,doOnInteractions:ug,methodNames:d0},m6=p6,Hr=function(p){return p[p.On=0]="On",p[p.Off=1]="Off",p}(Hr||{}),g6=function(){function p(f,g,y,x){s(this,p),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new ag,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=g.actions,this.target=f,this._context=g.context||y,this._win=w(Ke(f)?this._context:f),this._doc=this._win.document,this._scopeEvents=x,this.set(g)}return a(p,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(f,g){return M.func(g.onstart)&&this.on("".concat(f,"start"),g.onstart),M.func(g.onmove)&&this.on("".concat(f,"move"),g.onmove),M.func(g.onend)&&this.on("".concat(f,"end"),g.onend),M.func(g.oninertiastart)&&this.on("".concat(f,"inertiastart"),g.oninertiastart),this}},{key:"updatePerActionListeners",value:function(f,g,y){var x,A=this,E=(x=this._actions.map[f])==null?void 0:x.filterEventType,I=function(X){return(E==null||E(X))&&jl(X,A._actions)};(M.array(g)||M.object(g))&&this._onOff(Hr.Off,f,g,void 0,I),(M.array(y)||M.object(y))&&this._onOff(Hr.On,f,y,void 0,I)}},{key:"setPerAction",value:function(f,g){var y=this._defaults;for(var x in g){var A=x,E=this.options[f],I=g[A];A==="listeners"&&this.updatePerActionListeners(f,E.listeners,I),M.array(I)?E[A]=po(I):M.plainObject(I)?(E[A]=be(E[A]||{},go(I)),M.object(y.perAction[A])&&"enabled"in y.perAction[A]&&(E[A].enabled=I.enabled!==!1)):M.bool(I)&&M.object(y.perAction[A])?E[A].enabled=I:E[A]=I}}},{key:"getRect",value:function(f){return f=f||(M.element(this.target)?this.target:null),M.string(this.target)&&(f=f||this._context.querySelector(this.target)),Ne(f)}},{key:"rectChecker",value:function(f){var g=this;return M.func(f)?(this.getRect=function(y){var x=be({},f.apply(g,y));return"width"in x||(x.width=x.right-x.left,x.height=x.bottom-x.top),x},this):f===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(f,g){if(Ke(g)||M.object(g)){for(var y in this.options[f]=g,this._actions.map)this.options[y][f]=g;return this}return this.options[f]}},{key:"origin",value:function(f){return this._backCompatOption("origin",f)}},{key:"deltaSource",value:function(f){return f==="page"||f==="client"?(this.options.deltaSource=f,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var f=this.target;return M.string(f)?Array.from(this._context.querySelectorAll(f)):M.func(f)&&f.getAllElements?f.getAllElements():M.element(f)?[f]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(f){return this._context===f.ownerDocument||H(this._context,f)}},{key:"testIgnoreAllow",value:function(f,g,y){return!this.testIgnore(f.ignoreFrom,g,y)&&this.testAllow(f.allowFrom,g,y)}},{key:"testAllow",value:function(f,g,y){return!f||!!M.element(y)&&(M.string(f)?ae(y,f,g):!!M.element(f)&&H(f,y))}},{key:"testIgnore",value:function(f,g,y){return!(!f||!M.element(y))&&(M.string(f)?ae(y,f,g):!!M.element(f)&&H(f,y))}},{key:"fire",value:function(f){return this.events.fire(f),this}},{key:"_onOff",value:function(f,g,y,x,A){M.object(g)&&!M.array(g)&&(x=y,y=null);var E=se(g,y,A);for(var I in E){I==="wheel"&&(I=L.wheelEvent);for(var X=0,ne=E[I];X<ne.length;X++){var F=ne[X];jl(I,this._actions)?this.events[f===Hr.On?"on":"off"](I,F):M.string(this.target)?this._scopeEvents[f===Hr.On?"addDelegate":"removeDelegate"](this.target,this._context,I,F,x):this._scopeEvents[f===Hr.On?"add":"remove"](this.target,I,F,x)}}return this}},{key:"on",value:function(f,g,y){return this._onOff(Hr.On,f,g,y)}},{key:"off",value:function(f,g,y){return this._onOff(Hr.Off,f,g,y)}},{key:"set",value:function(f){var g=this._defaults;for(var y in M.object(f)||(f={}),this.options=go(g.base),this._actions.methodDict){var x=y,A=this._actions.methodDict[x];this.options[x]={},this.setPerAction(x,be(be({},g.perAction),g.actions[x])),this[A](f[x])}for(var E in f)E!=="getRect"?M.func(this[E])&&this[E](f[E]):this.rectChecker(f.getRect);return this}},{key:"unset",value:function(){if(M.string(this.target))for(var f in this._scopeEvents.delegatedEvents)for(var g=this._scopeEvents.delegatedEvents[f],y=g.length-1;y>=0;y--){var x=g[y],A=x.selector,E=x.context,I=x.listeners;A===this.target&&E===this._context&&g.splice(y,1);for(var X=I.length-1;X>=0;X--)this._scopeEvents.removeDelegate(this.target,this._context,f,I[X][0],I[X][1])}else this._scopeEvents.remove(this.target,"all")}}]),p}(),v6=function(){function p(f){var g=this;s(this,p),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=f,f.addListeners({"interactable:unset":function(y){var x=y.interactable,A=x.target,E=M.string(A)?g.selectorMap[A]:A[g.scope.id],I=lr(E,function(X){return X===x});E.splice(I,1)}})}return a(p,[{key:"new",value:function(f,g){g=be(g||{},{actions:this.scope.actions});var y=new this.scope.Interactable(f,g,this.scope.document,this.scope.events);return this.scope.addDocument(y._doc),this.list.push(y),M.string(f)?(this.selectorMap[f]||(this.selectorMap[f]=[]),this.selectorMap[f].push(y)):(y.target[this.scope.id]||Object.defineProperty(f,this.scope.id,{value:[],configurable:!0}),f[this.scope.id].push(y)),this.scope.fire("interactable:new",{target:f,options:g,interactable:y,win:this.scope._win}),y}},{key:"getExisting",value:function(f,g){var y=g&&g.context||this.scope.document,x=M.string(f),A=x?this.selectorMap[f]:f[this.scope.id];if(A)return ha(A,function(E){return E._context===y&&(x||E.inContext(f))})}},{key:"forEachMatch",value:function(f,g){for(var y=0,x=this.list;y<x.length;y++){var A=x[y],E=void 0;if((M.string(A.target)?M.element(f)&&te(f,A.target):f===A.target)&&A.inContext(f)&&(E=g(A)),E!==void 0)return E}}}]),p}(),O6=function(){function p(){var f=this;s(this,p),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=L,this.defaults=go(Jm),this.Eventable=ag,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(y){var x=function A(E,I){var X=y.interactables.getExisting(E,I);return X||((X=y.interactables.new(E,I)).events.global=A.globalEvents),X};return x.getPointerAverage=ut,x.getTouchBBox=bn,x.getTouchDistance=Pn,x.getTouchAngle=Gn,x.getElementRect=Ne,x.getElementClientRect=we,x.matchesSelector=te,x.closest=ee,x.globalEvents={},x.version="1.10.27",x.scope=y,x.use=function(A,E){return this.scope.usePlugin(A,E),this},x.isSet=function(A,E){return!!this.scope.interactables.get(A,E&&E.context)},x.on=da(function(A,E,I){if(M.string(A)&&A.search(" ")!==-1&&(A=A.trim().split(/ +/)),M.array(A)){for(var X=0,ne=A;X<ne.length;X++){var F=ne[X];this.on(F,E,I)}return this}if(M.object(A)){for(var de in A)this.on(de,A[de],E);return this}return jl(A,this.scope.actions)?this.globalEvents[A]?this.globalEvents[A].push(E):this.globalEvents[A]=[E]:this.scope.events.add(this.scope.document,A,E,{options:I}),this},"The interact.on() method is being deprecated"),x.off=da(function(A,E,I){if(M.string(A)&&A.search(" ")!==-1&&(A=A.trim().split(/ +/)),M.array(A)){for(var X=0,ne=A;X<ne.length;X++){var F=ne[X];this.off(F,E,I)}return this}if(M.object(A)){for(var de in A)this.off(de,A[de],E);return this}var ve;return jl(A,this.scope.actions)?A in this.globalEvents&&(ve=this.globalEvents[A].indexOf(E))!==-1&&this.globalEvents[A].splice(ve,1):this.scope.events.remove(this.scope.document,A,E,I),this},"The interact.off() method is being deprecated"),x.debug=function(){return this.scope},x.supportsTouch=function(){return L.supportsTouch},x.supportsPointerEvent=function(){return L.supportsPointerEvent},x.stop=function(){for(var A=0,E=this.scope.interactions.list;A<E.length;A++)E[A].stop();return this},x.pointerMoveTolerance=function(A){return M.number(A)?(this.scope.interactions.pointerMoveTolerance=A,this):this.scope.interactions.pointerMoveTolerance},x.addDocument=function(A,E){this.scope.addDocument(A,E)},x.removeDocument=function(A){this.scope.removeDocument(A)},x}(this),this.InteractEvent=u0,this.Interactable=void 0,this.interactables=new v6(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(y){return f.removeDocument(y.target)};var g=this;this.Interactable=function(y){u(A,y);var x=m(A);function A(){return s(this,A),x.apply(this,arguments)}return a(A,[{key:"_defaults",get:function(){return g.defaults}},{key:"set",value:function(E){return v(c(A.prototype),"set",this).call(this,E),g.fire("interactable:set",{options:E,interactable:this}),this}},{key:"unset",value:function(){v(c(A.prototype),"unset",this).call(this);var E=g.interactables.list.indexOf(this);E<0||(g.interactables.list.splice(E,1),g.fire("interactable:unset",{interactable:this}))}}]),A}(g6)}return a(p,[{key:"addListeners",value:function(f,g){this.listenerMaps.push({id:g,map:f})}},{key:"fire",value:function(f,g){for(var y=0,x=this.listenerMaps;y<x.length;y++){var A=x[y].map[f];if(A&&A(g,this,f)===!1)return!1}}},{key:"init",value:function(f){return this.isInitialized?this:function(g,y){return g.isInitialized=!0,M.window(y)&&$(y),P.init(y),L.init(y),qr.init(y),g.window=y,g.document=y.document,g.usePlugin(m6),g.usePlugin(d6),g}(this,f)}},{key:"pluginIsInstalled",value:function(f){var g=f.id;return g?!!this._plugins.map[g]:this._plugins.list.indexOf(f)!==-1}},{key:"usePlugin",value:function(f,g){if(!this.isInitialized)return this;if(this.pluginIsInstalled(f))return this;if(f.id&&(this._plugins.map[f.id]=f),this._plugins.list.push(f),f.install&&f.install(this,g),f.listeners&&f.before){for(var y=0,x=this.listenerMaps.length,A=f.before.reduce(function(I,X){return I[X]=!0,I[hg(X)]=!0,I},{});y<x;y++){var E=this.listenerMaps[y].id;if(E&&(A[E]||A[hg(E)]))break}this.listenerMaps.splice(y,0,{id:f.id,map:f.listeners})}else f.listeners&&this.listenerMaps.push({id:f.id,map:f.listeners});return this}},{key:"addDocument",value:function(f,g){if(this.getDocIndex(f)!==-1)return!1;var y=w(f);g=g?be({},g):{},this.documents.push({doc:f,options:g}),this.events.documents.push(f),f!==this.document&&this.events.add(y,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:f,window:y,scope:this,options:g})}},{key:"removeDocument",value:function(f){var g=this.getDocIndex(f),y=w(f),x=this.documents[g].options;this.events.remove(y,"unload",this.onWindowUnload),this.documents.splice(g,1),this.events.documents.splice(g,1),this.fire("scope:remove-document",{doc:f,window:y,scope:this,options:x})}},{key:"getDocIndex",value:function(f){for(var g=0;g<this.documents.length;g++)if(this.documents[g].doc===f)return g;return-1}},{key:"getDocOptions",value:function(f){var g=this.getDocIndex(f);return g===-1?null:this.documents[g].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),p}();function hg(p){return p&&p.replace(/\/.*$/,"")}var dg=new O6,Mn=dg.interactStatic,y6=typeof globalThis<"u"?globalThis:window;dg.init(y6);var b6=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(p){var f=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(y){var x=y[0],A=y[1];return x in p||A in p}),g=function(y,x){for(var A=p.range,E=p.limits,I=E===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:E,X=p.offset,ne=X===void 0?{x:0,y:0}:X,F={range:A,grid:p,x:null,y:null},de=0;de<f.length;de++){var ve=f[de],ke=ve[0],Se=ve[1],Te=Math.round((y-ne.x)/p[ke]),Ge=Math.round((x-ne.y)/p[Se]);F[ke]=Math.max(I.left,Math.min(I.right,Te*p[ke]+ne.x)),F[Se]=Math.max(I.top,Math.min(I.bottom,Ge*p[Se]+ne.y))}return F};return g.grid=p,g.coordFields=f,g}}),w6={id:"snappers",install:function(p){var f=p.interactStatic;f.snappers=be(f.snappers||{},b6),f.createSnapGrid=f.snappers.grid}},x6=w6,S6={start:function(p){var f=p.state,g=p.rect,y=p.edges,x=p.pageCoords,A=f.options,E=A.ratio,I=A.enabled,X=f.options,ne=X.equalDelta,F=X.modifiers;E==="preserve"&&(E=g.width/g.height),f.startCoords=be({},x),f.startRect=be({},g),f.ratio=E,f.equalDelta=ne;var de=f.linkedEdges={top:y.top||y.left&&!y.bottom,left:y.left||y.top&&!y.right,bottom:y.bottom||y.right&&!y.top,right:y.right||y.bottom&&!y.left};if(f.xIsPrimaryAxis=!(!y.left&&!y.right),f.equalDelta){var ve=(de.left?1:-1)*(de.top?1:-1);f.edgeSign={x:ve,y:ve}}else f.edgeSign={x:de.left?-1:1,y:de.top?-1:1};if(I!==!1&&be(y,de),F!=null&&F.length){var ke=new l0(p.interaction);ke.copyFrom(p.interaction.modification),ke.prepareStates(F),f.subModification=ke,ke.startAll(i({},p))}},set:function(p){var f=p.state,g=p.rect,y=p.coords,x=f.linkedEdges,A=be({},y),E=f.equalDelta?k6:_6;if(be(p.edges,x),E(f,f.xIsPrimaryAxis,y,g),!f.subModification)return null;var I=be({},g);ie(x,I,{x:y.x-A.x,y:y.y-A.y});var X=f.subModification.setAll(i(i({},p),{},{rect:I,edges:x,pageCoords:y,prevCoords:y,prevRect:I})),ne=X.delta;return X.changed&&(E(f,Math.abs(ne.x)>Math.abs(ne.y),X.coords,X.rect),be(y,X.coords)),X.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function k6(p,f,g){var y=p.startCoords,x=p.edgeSign;f?g.y=y.y+(g.x-y.x)*x.y:g.x=y.x+(g.y-y.y)*x.x}function _6(p,f,g,y){var x=p.startRect,A=p.startCoords,E=p.ratio,I=p.edgeSign;if(f){var X=y.width/E;g.y=A.y+(X-x.height)*I.y}else{var ne=y.height*E;g.x=A.x+(ne-x.width)*I.x}}var $6=Fr(S6,"aspectRatio"),fg=function(){};fg._defaults={};var Yl=fg;function As(p,f,g){return M.func(p)?Le(p,f.interactable,f.element,[g.x,g.y,f]):Le(p,f.interactable,f.element)}var Kl={start:function(p){var f=p.rect,g=p.startOffset,y=p.state,x=p.interaction,A=p.pageCoords,E=y.options,I=E.elementRect,X=be({left:0,top:0,right:0,bottom:0},E.offset||{});if(f&&I){var ne=As(E.restriction,x,A);if(ne){var F=ne.right-ne.left-f.width,de=ne.bottom-ne.top-f.height;F<0&&(X.left+=F,X.right+=F),de<0&&(X.top+=de,X.bottom+=de)}X.left+=g.left-f.width*I.left,X.top+=g.top-f.height*I.top,X.right+=g.right-f.width*(1-I.right),X.bottom+=g.bottom-f.height*(1-I.bottom)}y.offset=X},set:function(p){var f=p.coords,g=p.interaction,y=p.state,x=y.options,A=y.offset,E=As(x.restriction,g,f);if(E){var I=function(X){return!X||"left"in X&&"top"in X||((X=be({},X)).left=X.x||0,X.top=X.y||0,X.right=X.right||X.left+X.width,X.bottom=X.bottom||X.top+X.height),X}(E);f.x=Math.max(Math.min(I.right-A.right,f.x),I.left+A.left),f.y=Math.max(Math.min(I.bottom-A.bottom,f.y),I.top+A.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},A6=Fr(Kl,"restrict"),pg={top:1/0,left:1/0,bottom:-1/0,right:-1/0},mg={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function gg(p,f){for(var g=0,y=["top","left","bottom","right"];g<y.length;g++){var x=y[g];x in p||(p[x]=f[x])}return p}var ma={noInner:pg,noOuter:mg,start:function(p){var f,g=p.interaction,y=p.startOffset,x=p.state,A=x.options;A&&(f=Ie(As(A.offset,g,g.coords.start.page))),f=f||{x:0,y:0},x.offset={top:f.y+y.top,left:f.x+y.left,bottom:f.y-y.bottom,right:f.x-y.right}},set:function(p){var f=p.coords,g=p.edges,y=p.interaction,x=p.state,A=x.offset,E=x.options;if(g){var I=be({},f),X=As(E.inner,y,I)||{},ne=As(E.outer,y,I)||{};gg(X,pg),gg(ne,mg),g.top?f.y=Math.min(Math.max(ne.top+A.top,I.y),X.top+A.top):g.bottom&&(f.y=Math.max(Math.min(ne.bottom+A.bottom,I.y),X.bottom+A.bottom)),g.left?f.x=Math.min(Math.max(ne.left+A.left,I.x),X.left+A.left):g.right&&(f.x=Math.max(Math.min(ne.right+A.right,I.x),X.right+A.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},T6=Fr(ma,"restrictEdges"),P6=be({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(p){}},Kl.defaults),M6=Fr({start:Kl.start,set:Kl.set,defaults:P6},"restrictRect"),C6={width:-1/0,height:-1/0},E6={width:1/0,height:1/0},Q6=Fr({start:function(p){return ma.start(p)},set:function(p){var f=p.interaction,g=p.state,y=p.rect,x=p.edges,A=g.options;if(x){var E=Je(As(A.min,f,p.coords))||C6,I=Je(As(A.max,f,p.coords))||E6;g.options={endOnly:A.endOnly,inner:be({},ma.noInner),outer:be({},ma.noOuter)},x.top?(g.options.inner.top=y.bottom-E.height,g.options.outer.top=y.bottom-I.height):x.bottom&&(g.options.inner.bottom=y.top+E.height,g.options.outer.bottom=y.top+I.height),x.left?(g.options.inner.left=y.right-E.width,g.options.outer.left=y.right-I.width):x.right&&(g.options.inner.right=y.left+E.width,g.options.outer.right=y.left+I.width),ma.set(p),g.options=A}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),p0={start:function(p){var f,g=p.interaction,y=p.interactable,x=p.element,A=p.rect,E=p.state,I=p.startOffset,X=E.options,ne=X.offsetWithOrigin?function(ve){var ke=ve.interaction.element,Se=Ie(Le(ve.state.options.origin,null,null,[ke])),Te=Se||J(ve.interactable,ke,ve.interaction.prepared.name);return Te}(p):{x:0,y:0};if(X.offset==="startCoords")f={x:g.coords.start.page.x,y:g.coords.start.page.y};else{var F=Le(X.offset,y,x,[g]);(f=Ie(F)||{x:0,y:0}).x+=ne.x,f.y+=ne.y}var de=X.relativePoints;E.offsets=A&&de&&de.length?de.map(function(ve,ke){return{index:ke,relativePoint:ve,x:I.left-A.width*ve.x+f.x,y:I.top-A.height*ve.y+f.y}}):[{index:0,relativePoint:null,x:f.x,y:f.y}]},set:function(p){var f=p.interaction,g=p.coords,y=p.state,x=y.options,A=y.offsets,E=J(f.interactable,f.element,f.prepared.name),I=be({},g),X=[];x.offsetWithOrigin||(I.x-=E.x,I.y-=E.y);for(var ne=0,F=A;ne<F.length;ne++)for(var de=F[ne],ve=I.x-de.x,ke=I.y-de.y,Se=0,Te=x.targets.length;Se<Te;Se++){var Ge=x.targets[Se],Ve=void 0;(Ve=M.func(Ge)?Ge(ve,ke,f._proxy,de,Se):Ge)&&X.push({x:(M.number(Ve.x)?Ve.x:ve)+de.x,y:(M.number(Ve.y)?Ve.y:ke)+de.y,range:M.number(Ve.range)?Ve.range:x.range,source:Ge,index:Se,offset:de})}for(var nt={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},vt=0;vt<X.length;vt++){var $t=X[vt],dt=$t.range,Ot=$t.x-I.x,Cn=$t.y-I.y,jt=ye(Ot,Cn),Wn=jt<=dt;dt===1/0&&nt.inRange&&nt.range!==1/0&&(Wn=!1),nt.target&&!(Wn?nt.inRange&&dt!==1/0?jt/dt<nt.distance/nt.range:dt===1/0&&nt.range!==1/0||jt<nt.distance:!nt.inRange&&jt<nt.distance)||(nt.target=$t,nt.distance=jt,nt.range=dt,nt.inRange=Wn,nt.delta.x=Ot,nt.delta.y=Cn)}return nt.inRange&&(g.x=nt.target.x,g.y=nt.target.y),y.closest=nt,nt},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},R6=Fr(p0,"snap"),Jl={start:function(p){var f=p.state,g=p.edges,y=f.options;if(!g)return null;p.state={options:{targets:null,relativePoints:[{x:g.left?0:1,y:g.top?0:1}],offset:y.offset||"self",origin:{x:0,y:0},range:y.range}},f.targetFields=f.targetFields||[["width","height"],["x","y"]],p0.start(p),f.offsets=p.state.offsets,p.state=f},set:function(p){var f=p.interaction,g=p.state,y=p.coords,x=g.options,A=g.offsets,E={x:y.x-A[0].x,y:y.y-A[0].y};g.options=be({},x),g.options.targets=[];for(var I=0,X=x.targets||[];I<X.length;I++){var ne=X[I],F=void 0;if(F=M.func(ne)?ne(E.x,E.y,f):ne){for(var de=0,ve=g.targetFields;de<ve.length;de++){var ke=ve[de],Se=ke[0],Te=ke[1];if(Se in F||Te in F){F.x=F[Se],F.y=F[Te];break}}g.options.targets.push(F)}}var Ge=p0.set(p);return g.options=x,Ge},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},z6=Fr(Jl,"snapSize"),m0={aspectRatio:$6,restrictEdges:T6,restrict:A6,restrictRect:M6,restrictSize:Q6,snapEdges:Fr({start:function(p){var f=p.edges;return f?(p.state.targetFields=p.state.targetFields||[[f.left?"left":"right",f.top?"top":"bottom"]],Jl.start(p)):null},set:Jl.set,defaults:be(go(Jl.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:R6,snapSize:z6,spring:Yl,avoid:Yl,transform:Yl,rubberband:Yl},D6={id:"modifiers",install:function(p){var f=p.interactStatic;for(var g in p.usePlugin(Km),p.usePlugin(x6),f.modifiers=m0,m0){var y=m0[g],x=y._defaults,A=y._methods;x._methods=A,p.defaults.perAction[g]=x}}},I6=D6,vg=function(p){u(g,p);var f=m(g);function g(y,x,A,E,I,X){var ne;if(s(this,g),je(d(ne=f.call(this,I)),A),A!==x&&je(d(ne),x),ne.timeStamp=X,ne.originalEvent=A,ne.type=y,ne.pointerId=gt(x),ne.pointerType=Br(x),ne.target=E,ne.currentTarget=null,y==="tap"){var F=I.getPointerIndex(x);ne.dt=ne.timeStamp-I.pointers[F].downTime;var de=ne.timeStamp-I.tapTime;ne.double=!!I.prevTap&&I.prevTap.type!=="doubletap"&&I.prevTap.target===ne.target&&de<500}else y==="doubletap"&&(ne.dt=x.timeStamp-I.tapTime,ne.double=!0);return ne}return a(g,[{key:"_subtractOrigin",value:function(y){var x=y.x,A=y.y;return this.pageX-=x,this.pageY-=A,this.clientX-=x,this.clientY-=A,this}},{key:"_addOrigin",value:function(y){var x=y.x,A=y.y;return this.pageX+=x,this.pageY+=A,this.clientX+=x,this.clientY+=A,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),g}(Xr),ga={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(p){p.pointerEvents=ga,p.defaults.actions.pointerEvents=ga.defaults,be(p.actions.phaselessTypes,ga.types)},listeners:{"interactions:new":function(p){var f=p.interaction;f.prevTap=null,f.tapTime=0},"interactions:update-pointer":function(p){var f=p.down,g=p.pointerInfo;!f&&g.hold||(g.hold={duration:1/0,timeout:null})},"interactions:move":function(p,f){var g=p.interaction,y=p.pointer,x=p.event,A=p.eventTarget;p.duplicate||g.pointerIsDown&&!g.pointerWasMoved||(g.pointerIsDown&&g0(p),jr({interaction:g,pointer:y,event:x,eventTarget:A,type:"move"},f))},"interactions:down":function(p,f){(function(g,y){for(var x=g.interaction,A=g.pointer,E=g.event,I=g.eventTarget,X=g.pointerIndex,ne=x.pointers[X].hold,F=Re(I),de={interaction:x,pointer:A,event:E,eventTarget:I,type:"hold",targets:[],path:F,node:null},ve=0;ve<F.length;ve++){var ke=F[ve];de.node=ke,y.fire("pointerEvents:collect-targets",de)}if(de.targets.length){for(var Se=1/0,Te=0,Ge=de.targets;Te<Ge.length;Te++){var Ve=Ge[Te].eventable.options.holdDuration;Ve<Se&&(Se=Ve)}ne.duration=Se,ne.timeout=setTimeout(function(){jr({interaction:x,eventTarget:I,pointer:A,event:E,type:"hold"},y)},Se)}})(p,f),jr(p,f)},"interactions:up":function(p,f){g0(p),jr(p,f),function(g,y){var x=g.interaction,A=g.pointer,E=g.event,I=g.eventTarget;x.pointerWasMoved||jr({interaction:x,eventTarget:I,pointer:A,event:E,type:"tap"},y)}(p,f)},"interactions:cancel":function(p,f){g0(p),jr(p,f)}},PointerEvent:vg,fire:jr,collectEventTargets:Og,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function jr(p,f){var g=p.interaction,y=p.pointer,x=p.event,A=p.eventTarget,E=p.type,I=p.targets,X=I===void 0?Og(p,f):I,ne=new vg(E,y,x,A,g,f.now());f.fire("pointerEvents:new",{pointerEvent:ne});for(var F={interaction:g,pointer:y,event:x,eventTarget:A,targets:X,type:E,pointerEvent:ne},de=0;de<X.length;de++){var ve=X[de];for(var ke in ve.props||{})ne[ke]=ve.props[ke];var Se=J(ve.eventable,ve.node);if(ne._subtractOrigin(Se),ne.eventable=ve.eventable,ne.currentTarget=ve.node,ve.eventable.fire(ne),ne._addOrigin(Se),ne.immediatePropagationStopped||ne.propagationStopped&&de+1<X.length&&X[de+1].node!==ne.currentTarget)break}if(f.fire("pointerEvents:fired",F),E==="tap"){var Te=ne.double?jr({interaction:g,pointer:y,event:x,eventTarget:A,type:"doubletap"},f):ne;g.prevTap=Te,g.tapTime=Te.timeStamp}return ne}function Og(p,f){var g=p.interaction,y=p.pointer,x=p.event,A=p.eventTarget,E=p.type,I=g.getPointerIndex(y),X=g.pointers[I];if(E==="tap"&&(g.pointerWasMoved||!X||X.downTarget!==A))return[];for(var ne=Re(A),F={interaction:g,pointer:y,event:x,eventTarget:A,type:E,path:ne,targets:[],node:null},de=0;de<ne.length;de++){var ve=ne[de];F.node=ve,f.fire("pointerEvents:collect-targets",F)}return E==="hold"&&(F.targets=F.targets.filter(function(ke){var Se,Te;return ke.eventable.options.holdDuration===((Se=g.pointers[I])==null||(Te=Se.hold)==null?void 0:Te.duration)})),F.targets}function g0(p){var f=p.interaction,g=p.pointerIndex,y=f.pointers[g].hold;y&&y.timeout&&(clearTimeout(y.timeout),y.timeout=null)}var N6=Object.freeze({__proto__:null,default:ga});function L6(p){var f=p.interaction;f.holdIntervalHandle&&(clearInterval(f.holdIntervalHandle),f.holdIntervalHandle=null)}var Z6={id:"pointer-events/holdRepeat",install:function(p){p.usePlugin(ga);var f=p.pointerEvents;f.defaults.holdRepeatInterval=0,f.types.holdrepeat=p.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(p,f){return p["pointerEvents:".concat(f)]=L6,p},{"pointerEvents:new":function(p){var f=p.pointerEvent;f.type==="hold"&&(f.count=(f.count||0)+1)},"pointerEvents:fired":function(p,f){var g=p.interaction,y=p.pointerEvent,x=p.eventTarget,A=p.targets;if(y.type==="hold"&&A.length){var E=A[0].eventable.options.holdRepeatInterval;E<=0||(g.holdIntervalHandle=setTimeout(function(){f.pointerEvents.fire({interaction:g,eventTarget:x,type:"hold",pointer:y,event:y},f)},E))}}})},B6=Z6,V6={id:"pointer-events/interactableTargets",install:function(p){var f=p.Interactable;f.prototype.pointerEvents=function(y){return be(this.events.options,y),this};var g=f.prototype._backCompatOption;f.prototype._backCompatOption=function(y,x){var A=g.call(this,y,x);return A===this&&(this.events.options[y]=x),A}},listeners:{"pointerEvents:collect-targets":function(p,f){var g=p.targets,y=p.node,x=p.type,A=p.eventTarget;f.interactables.forEachMatch(y,function(E){var I=E.events,X=I.options;I.types[x]&&I.types[x].length&&E.testIgnoreAllow(X,y,A)&&g.push({node:y,eventable:I,props:{interactable:E}})})},"interactable:new":function(p){var f=p.interactable;f.events.getRect=function(g){return f.getRect(g)}},"interactable:set":function(p,f){var g=p.interactable,y=p.options;be(g.events.options,f.pointerEvents.defaults),be(g.events.options,y.pointerEvents||{})}}},X6=V6,q6={id:"pointer-events",install:function(p){p.usePlugin(N6),p.usePlugin(B6),p.usePlugin(X6)}},F6=q6,H6={id:"reflow",install:function(p){var f=p.Interactable;p.actions.phases.reflow=!0,f.prototype.reflow=function(g){return function(y,x,A){for(var E=y.getAllElements(),I=A.window.Promise,X=I?[]:null,ne=function(){var de=E[F],ve=y.getRect(de);if(!ve)return 1;var ke,Se=ha(A.interactions.list,function(Ve){return Ve.interacting()&&Ve.interactable===y&&Ve.element===de&&Ve.prepared.name===x.name});if(Se)Se.move(),X&&(ke=Se._reflowPromise||new I(function(Ve){Se._reflowResolve=Ve}));else{var Te=Je(ve),Ge=function(Ve){return{coords:Ve,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:Te.x,y:Te.y},client:{x:Te.x,y:Te.y},timeStamp:A.now()});ke=function(Ve,nt,vt,$t,dt){var Ot=Ve.interactions.new({pointerType:"reflow"}),Cn={interaction:Ot,event:dt,pointer:dt,eventTarget:vt,phase:"reflow"};Ot.interactable=nt,Ot.element=vt,Ot.prevEvent=dt,Ot.updatePointer(dt,dt,vt,!0),et(Ot.coords.delta),r0(Ot.prepared,$t),Ot._doPhase(Cn);var jt=Ve.window,Wn=jt.Promise,Si=Wn?new Wn(function(hr){Ot._reflowResolve=hr}):void 0;return Ot._reflowPromise=Si,Ot.start($t,nt,vt),Ot._interacting?(Ot.move(Cn),Ot.end(dt)):(Ot.stop(),Ot._reflowResolve()),Ot.removePointer(dt,dt),Si}(A,y,de,x,Ge)}X&&X.push(ke)},F=0;F<E.length&&!ne();F++);return X&&I.all(X).then(function(){return y})}(this,g,p)}},listeners:{"interactions:stop":function(p,f){var g=p.interaction;g.pointerType==="reflow"&&(g._reflowResolve&&g._reflowResolve(),function(y,x){y.splice(y.indexOf(x),1)}(f.interactions.list,g))}}},j6=H6;if(Mn.use(Ym),Mn.use(ig),Mn.use(F6),Mn.use(c6),Mn.use(I6),Mn.use(Kw),Mn.use(Bw),Mn.use(Xw),Mn.use(j6),Mn.default=Mn,r(n)==="object"&&n)try{n.exports=Mn}catch{}return Mn.default=Mn,Mn})}(Xa,Xa.exports)),Xa.exports}var sq=rq();const vy=Fy(sq),gp=rt({__name:"grid-item",props:{isDraggable:{type:Boolean,default:null},isResizable:{type:Boolean,default:null},isBounded:{type:Boolean,default:null},static:{type:Boolean,default:!1},minH:{type:Number,default:1},minW:{type:Number,default:1},maxH:{type:Number,default:1/0},maxW:{type:Number,default:1/0},x:{type:Number,required:!0},y:{type:Number,required:!0},w:{type:Number,required:!0},h:{type:Number,required:!0},i:{type:[Number,String],required:!0},dragIgnoreFrom:{type:String,default:"a, button"},dragAllowFrom:{type:String,default:null},resizeIgnoreFrom:{type:String,default:"a, button"},preserveAspectRatio:{type:Boolean,default:!1},dragOption:{type:Object,default:()=>({})},resizeOption:{type:Object,default:()=>({})}},emits:["container-resized","resize","resized","move","moved"],setup(n,{expose:e,emit:t}){const i=n,r=t,s=Mi(xw),o=Mi(Sw);if(!s)throw new Error("[grid-layout-plus]: missing layout store, GridItem must under a GridLayout.");const a=Me(null),l=Pr({cols:1,containerWidth:100,rowHeight:30,margin:[10,10],maxRows:1/0,draggable:null,resizable:null,bounded:null,transformScale:1,useCssTransforms:!0,useStyleCursor:!0,isDragging:!1,dragging:{top:-1,left:-1},isResizing:!1,resizing:{width:-1,height:-1},style:{},rtl:!1});let u=!1,c=!1,h=NaN,d=NaN,m=NaN,v=NaN,b=-1,k=-1,_=-1,T=-1,$=i.x,w=i.y,R=i.w,Q=i.h;const M=Me(),B=Pr({i:At(i,"i"),state:l,wrapper:M,calcXY:Le});function N(ge){se(ge)}function K(){oe()}function q(ge){ti(i.isDraggable)&&(l.draggable=ge)}function Z(ge){ti(i.isResizable)&&(l.resizable=ge)}function re(ge){ti(i.isBounded)&&(l.bounded=ge)}function P(ge){l.transformScale=ge}function j(ge){l.rowHeight=ge}function L(ge){l.maxRows=ge}function H(){l.rtl=my()==="rtl",oe()}function ee(ge){l.cols=Math.floor(ge)}s.increaseItem(B),yp(()=>{l.rtl=my()==="rtl"}),gn(()=>{s.responsive&&s.lastBreakpoint?l.cols=mp(s.lastBreakpoint,s.cols):l.cols=s.colNum,l.rowHeight=s.rowHeight,l.containerWidth=s.width!==null?s.width:100,l.margin=s.margin!==void 0?s.margin.map(Number):[10,10],l.maxRows=s.maxRows,ti(i.isDraggable)?l.draggable=s.isDraggable:l.draggable=i.isDraggable,ti(i.isResizable)?l.resizable=s.isResizable:l.resizable=i.isResizable,ti(i.isBounded)?l.bounded=s.isBounded:l.bounded=i.isBounded,l.transformScale=s.transformScale,l.useCssTransforms=s.useCssTransforms,l.useStyleCursor=s.useStyleCursor,wp(()=>{$=i.x,w=i.y,Q=i.h,R=i.w,Qn(Ne)}),o.on("updateWidth",N),o.on("compact",K),o.on("setDraggable",q),o.on("setResizable",Z),o.on("setBounded",re),o.on("setTransformScale",P),o.on("setRowHeight",j),o.on("setMaxRows",L),o.on("directionchange",H),o.on("setColNum",ee)}),dh(()=>{o.off("updateWidth",N),o.off("compact",K),o.off("setDraggable",q),o.off("setResizable",Z),o.off("setBounded",re),o.off("setTransformScale",P),o.off("setRowHeight",j),o.off("setMaxRows",L),o.off("directionchange",H),o.off("setColNum",ee),a.value&&(a.value.unset(),a.value=null),s.decreaseItem(B)}),e({state:l,wrapper:M});const ce=typeof navigator<"u"?navigator.userAgent.toLowerCase().includes("android"):!1,te=qe(()=>l.resizable&&!i.static),he=qe(()=>s.isMirrored?!l.rtl:l.rtl),W=qe(()=>(l.draggable||l.resizable)&&!i.static),ae=WX("item"),Oe=qe(()=>({[ae.b()]:!0,[ae.bm("resizable")]:te.value,[ae.bm("static")]:i.static,[ae.bm("resizing")]:l.isResizing,[ae.bm("dragging")]:l.isDragging,[ae.bm("transform")]:l.useCssTransforms,[ae.bm("rtl")]:he.value,[ae.bm("no-touch")]:ce&&W.value})),we=qe(()=>[ae.be("resizer"),he.value&&ae.bem("resizer","rtl")].filter(Boolean));Ye(()=>i.isDraggable,ge=>{l.draggable=ge}),Ye(()=>i.static,()=>{Qn(je),Qn(et)}),Ye(()=>l.draggable,()=>{Qn(je)}),Ye(()=>i.isResizable,ge=>{l.resizable=ge}),Ye(()=>i.isBounded,ge=>{l.bounded=ge}),Ye(()=>l.resizable,()=>{Qn(et)}),Ye(()=>l.rowHeight,()=>{Qn(Ne),Qn(Re)}),Ye([()=>l.cols,()=>l.containerWidth],()=>{Qn(et),Qn(Ne),Qn(Re)}),Ye([()=>i.minH,()=>i.maxH,()=>i.minW,()=>i.maxW],()=>{Qn(et)}),Ye(he,()=>{Qn(et),Qn(Ne)}),Ye([()=>s.margin,()=>s.margin[0],()=>s.margin[1]],()=>{const ge=s.margin;!ge||ge[0]===l.margin[0]&&ge[1]===l.margin[1]||(l.margin=ge.map(Number),Qn(Ne),Qn(Re))});function Ne(){i.x+i.w>l.cols?($=0,R=i.w>l.cols?l.cols:i.w):($=i.x,R=i.w);const ge=ht($,w,R,Q);l.isDragging&&(ge.top=l.dragging.top,he.value?ge.right=l.dragging.left:ge.left=l.dragging.left),l.isResizing&&(ge.width=l.resizing.width,ge.height=l.resizing.height);let ze;l.useCssTransforms?he.value?ze=HX(ge.top,ge.right,ge.width,ge.height):ze=FX(ge.top,ge.left,ge.width,ge.height):he.value?ze=UX(ge.top,ge.right,ge.width,ge.height):ze=jX(ge.top,ge.left,ge.width,ge.height),l.style=ze}function Re(){const ge={};for(const ze of["width","height"]){const tt=l.style[ze].match(/^(\d+)px$/);if(!tt)return;ge[ze]=tt[1]}r("container-resized",i.i,i.h,i.w,ge.height,ge.width)}function Ke(ge){if(i.static)return;const ze=ge.type;if(ze==="resizestart"&&l.isResizing||ze!=="resizestart"&&!l.isResizing)return;const tt=fy(ge);if(ti(tt))return;const{x:gt,y:Lt}=tt,wt={width:0,height:0};let ut;switch(ze){case"resizestart":{et(),b=R,k=Q,ut=ht($,w,R,Q),wt.width=ut.width,wt.height=ut.height,l.resizing=wt,l.isResizing=!0;break}case"resizemove":{!ge.edges.right&&!ge.edges.left&&(m=gt),!ge.edges.top&&!ge.edges.bottom&&(v=Lt);const bn=py(m,v,gt,Lt);he.value?wt.width=l.resizing.width-bn.deltaX/l.transformScale:wt.width=l.resizing.width+bn.deltaX/l.transformScale,wt.height=l.resizing.height+bn.deltaY/l.transformScale,l.resizing=wt;break}case"resizeend":{ut=ht($,w,R,Q),wt.width=ut.width,wt.height=ut.height,l.resizing={width:-1,height:-1},l.isResizing=!1;break}}ut=J(wt.height,wt.width),ut.w<i.minW&&(ut.w=i.minW),ut.w>i.maxW&&(ut.w=i.maxW),ut.h<i.minH&&(ut.h=i.minH),ut.h>i.maxH&&(ut.h=i.maxH),ut.h<1&&(ut.h=1),ut.w<1&&(ut.w=1),m=gt,v=Lt,(R!==ut.w||Q!==ut.h)&&r("resize",i.i,ut.h,ut.w,wt.height,wt.width),ge.type==="resizeend"&&(b!==R||k!==Q)&&r("resized",i.i,ut.h,ut.w,wt.height,wt.width),o.emit("resizeEvent",ge.type,i.i,$,w,ut.h,ut.w)}function be(ge){if(i.static||l.isResizing)return;const ze=ge.type;if(ze==="dragstart"&&l.isDragging||ze!=="dragstart"&&!l.isDragging)return;const tt=fy(ge);if(ti(tt))return;const{x:gt,y:Lt}=tt,wt=ge.target;if(!wt.offsetParent)return;const ut={top:0,left:0};switch(ze){case"dragstart":{_=$,T=w;const Pn=wt.offsetParent.getBoundingClientRect(),Gn=wt.getBoundingClientRect(),Br=Gn.left/l.transformScale,Vr=Pn.left/l.transformScale,Xr=Gn.right/l.transformScale,fo=Pn.right/l.transformScale,po=Gn.top/l.transformScale,lr=Pn.top/l.transformScale;he.value?ut.left=(Xr-fo)*-1:ut.left=Br-Vr,ut.top=po-lr,l.dragging=ut,l.isDragging=!0;break}case"dragmove":{const Pn=py(h,d,gt,Lt);if(he.value?ut.left=l.dragging.left-Pn.deltaX/l.transformScale:ut.left=l.dragging.left+Pn.deltaX/l.transformScale,ut.top=l.dragging.top+Pn.deltaY/l.transformScale,l.bounded){const Gn=wt.offsetParent.clientHeight-Je(i.h,l.rowHeight,l.margin[1]);ut.top=ie(ut.top,0,Gn);const Br=Ie(),Vr=l.containerWidth-Je(i.w,Br,l.margin[0]);ut.left=ie(ut.left,0,Vr)}l.dragging=ut;break}case"dragend":{const Pn=wt.offsetParent.getBoundingClientRect(),Gn=wt.getBoundingClientRect(),Br=Gn.left/l.transformScale,Vr=Pn.left/l.transformScale,Xr=Gn.right/l.transformScale,fo=Pn.right/l.transformScale,po=Gn.top/l.transformScale,lr=Pn.top/l.transformScale;he.value?ut.left=(Xr-fo)*-1:ut.left=Br-Vr,ut.top=po-lr,l.dragging={top:-1,left:-1},l.isDragging=!1;break}}let bn;he.value,bn=Le(ut.top,ut.left),h=gt,d=Lt,($!==bn.x||w!==bn.y)&&r("move",i.i,bn.x,bn.y),ge.type==="dragend"&&(_!==$||T!==w)&&r("moved",i.i,bn.x,bn.y),o.emit("dragEvent",ge.type,i.i,bn.x,bn.y,Q,R)}function ht(ge,ze,tt,gt){const Lt=Ie();let wt;return he.value?wt={right:Math.round(Lt*ge+(ge+1)*l.margin[0]),top:Math.round(l.rowHeight*ze+(ze+1)*l.margin[1]),width:tt===1/0?tt:Math.round(Lt*tt+Math.max(0,tt-1)*l.margin[0]),height:gt===1/0?gt:Math.round(l.rowHeight*gt+Math.max(0,gt-1)*l.margin[1])}:wt={left:Math.round(Lt*ge+(ge+1)*l.margin[0]),top:Math.round(l.rowHeight*ze+(ze+1)*l.margin[1]),width:tt===1/0?tt:Math.round(Lt*tt+Math.max(0,tt-1)*l.margin[0]),height:gt===1/0?gt:Math.round(l.rowHeight*gt+Math.max(0,gt-1)*l.margin[1])},wt}function Le(ge,ze){const tt=Ie();let gt=Math.round((ze-l.margin[0])/(tt+l.margin[0])),Lt=Math.round((ge-l.margin[1])/(l.rowHeight+l.margin[1]));return gt=Math.max(Math.min(gt,l.cols-R),0),Lt=Math.max(Math.min(Lt,l.maxRows-Q),0),{x:gt,y:Lt}}function Ie(){return(l.containerWidth-l.margin[0]*(l.cols+1))/l.cols}function Je(ge,ze,tt){return Number.isFinite(ge)?Math.round(ze*ge+Math.max(0,ge-1)*tt):ge}function ie(ge,ze,tt){return Math.max(Math.min(ge,tt),ze)}function J(ge,ze,tt=!1){const gt=Ie();let Lt=Math.round((ze+l.margin[0])/(gt+l.margin[0])),wt=0;return tt?wt=Math.ceil((ge+l.margin[1])/(l.rowHeight+l.margin[1])):wt=Math.round((ge+l.margin[1])/(l.rowHeight+l.margin[1])),Lt=Math.max(Math.min(Lt,l.cols-$),0),wt=Math.max(Math.min(wt,l.maxRows-w),0),{w:Lt,h:wt}}function se(ge,ze){l.containerWidth=ge}function oe(){Ne()}function ye(){!a.value&&M.value&&(a.value=vy(M.value),l.useStyleCursor||a.value.styleCursor(!1))}const Ze=cy(be);function je(){if(ye(),!!a.value)if(l.draggable&&!i.static){const ge={ignoreFrom:i.dragIgnoreFrom,allowFrom:i.dragAllowFrom,...i.dragOption};a.value.draggable(ge),u||(u=!0,a.value.on("dragstart dragmove dragend",ze=>{ze.type==="dragmove"?Ze(ze):be(ze)}))}else a.value.draggable({enabled:!1})}const Ue=cy(Ke);function et(){if(ye(),!!a.value)if(l.resizable&&!i.static){const ge=ht(0,0,i.maxW,i.maxH),ze=ht(0,0,i.minW,i.minH),tt={edges:{left:!1,right:`.${we.value[0]}`,bottom:`.${we.value[0]}`,top:!1},ignoreFrom:i.resizeIgnoreFrom,restrictSize:{min:{height:ze.height*l.transformScale,width:ze.width*l.transformScale},max:{height:ge.height*l.transformScale,width:ge.width*l.transformScale}},...i.resizeOption};i.preserveAspectRatio&&(tt.modifiers=[vy.modifiers.aspectRatio({ratio:"preserve"})]),a.value.resizable(tt),c||(c=!0,a.value.on("resizestart resizemove resizeend",gt=>{gt.type==="resizemove"?Ue(gt):Ke(gt)}))}else a.value.resizable({enabled:!1})}return(ge,ze)=>(me(),_e("section",{ref_key:"wrapper",ref:M,class:qt(Oe.value),style:kn(l.style)},[Dt(ge.$slots,"default"),te.value?(me(),_e("span",{key:0,class:qt(we.value)},null,2)):kt("",!0)],6))}}),ho=typeof window<"u";var Oy;ho&&(Oy=window==null?void 0:window.navigator)!=null&&Oy.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function yy(n){return n!=null}const oq=Object.freeze({aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"});Object.freeze(new Set(Object.keys(oq)));const aq=ho&&("ontouchstart"in window||uq()>0),lq=aq?"pointerdown":"click";function uq(){return typeof navigator<"u"&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints)||0}function cq(n,e,t=window.Event){const{type:i,bubbles:r=!1,cancelable:s=!1,...o}=e;if(!yy(i)||i==="")return!1;let a;return yy(t)?a=new t(i,{bubbles:r,cancelable:s}):(a=document.createEvent("HTMLEvents"),a.initEvent(i,r,s)),Object.assign(a,o),n.dispatchEvent(a)}const hq="clickoutside",dq=new Set;ho&&document.addEventListener(lq,n=>{const e=n.target,t=n.composedPath&&n.composedPath();dq.forEach(i=>{i!==e&&(t?!t.includes(i):!i.contains(e))&&(!i.__transferElement||i.__transferElement!==e&&!i.__transferElement.contains(e))&&cq(i,{type:hq})})},!0);const fq=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];let Oc;if(ho){for(const n of fq)if(n[1]in document){Oc=n;break}}qe(()=>!1);const pq=new Set,mq=new WeakMap;if(ho&&Oc){const n=Oc[2],e=Oc[4];document.addEventListener(e,()=>{if(pq.forEach(t=>{t.value=!1}),document[n]){const t=mq.get(document[n]);t&&(t.value=!0)}},!1)}const Pw=new Map;Pw.set("x",0);Pw.set("y",0);var Ks=[],gq=function(){return Ks.some(function(n){return n.activeTargets.length>0})},vq=function(){return Ks.some(function(n){return n.skippedTargets.length>0})},by="ResizeObserver loop completed with undelivered notifications.",Oq=function(){var n;typeof ErrorEvent=="function"?n=new ErrorEvent("error",{message:by}):(n=document.createEvent("Event"),n.initEvent("error",!1,!1),n.message=by),window.dispatchEvent(n)},Cl;(function(n){n.BORDER_BOX="border-box",n.CONTENT_BOX="content-box",n.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Cl||(Cl={}));var Js=function(n){return Object.freeze(n)},yq=function(){function n(e,t){this.inlineSize=e,this.blockSize=t,Js(this)}return n}(),Mw=function(){function n(e,t,i,r){return this.x=e,this.y=t,this.width=i,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Js(this)}return n.prototype.toJSON=function(){var e=this,t=e.x,i=e.y,r=e.top,s=e.right,o=e.bottom,a=e.left,l=e.width,u=e.height;return{x:t,y:i,top:r,right:s,bottom:o,left:a,width:l,height:u}},n.fromRect=function(e){return new n(e.x,e.y,e.width,e.height)},n}(),Im=function(n){return n instanceof SVGElement&&"getBBox"in n},Cw=function(n){if(Im(n)){var e=n.getBBox(),t=e.width,i=e.height;return!t&&!i}var r=n,s=r.offsetWidth,o=r.offsetHeight;return!(s||o||n.getClientRects().length)},wy=function(n){var e;if(n instanceof Element)return!0;var t=(e=n==null?void 0:n.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(t&&n instanceof t.Element)},bq=function(n){switch(n.tagName){case"INPUT":if(n.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},sl=typeof window<"u"?window:{},Fu=new WeakMap,xy=/auto|scroll/,wq=/^tb|vertical/,xq=/msie|trident/i.test(sl.navigator&&sl.navigator.userAgent),Li=function(n){return parseFloat(n||"0")},Xo=function(n,e,t){return n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=!1),new yq((t?e:n)||0,(t?n:e)||0)},Sy=Js({devicePixelContentBoxSize:Xo(),borderBoxSize:Xo(),contentBoxSize:Xo(),contentRect:new Mw(0,0,0,0)}),Ew=function(n,e){if(e===void 0&&(e=!1),Fu.has(n)&&!e)return Fu.get(n);if(Cw(n))return Fu.set(n,Sy),Sy;var t=getComputedStyle(n),i=Im(n)&&n.ownerSVGElement&&n.getBBox(),r=!xq&&t.boxSizing==="border-box",s=wq.test(t.writingMode||""),o=!i&&xy.test(t.overflowY||""),a=!i&&xy.test(t.overflowX||""),l=i?0:Li(t.paddingTop),u=i?0:Li(t.paddingRight),c=i?0:Li(t.paddingBottom),h=i?0:Li(t.paddingLeft),d=i?0:Li(t.borderTopWidth),m=i?0:Li(t.borderRightWidth),v=i?0:Li(t.borderBottomWidth),b=i?0:Li(t.borderLeftWidth),k=h+u,_=l+c,T=b+m,$=d+v,w=a?n.offsetHeight-$-n.clientHeight:0,R=o?n.offsetWidth-T-n.clientWidth:0,Q=r?k+T:0,M=r?_+$:0,B=i?i.width:Li(t.width)-Q-R,N=i?i.height:Li(t.height)-M-w,K=B+k+R+T,q=N+_+w+$,Z=Js({devicePixelContentBoxSize:Xo(Math.round(B*devicePixelRatio),Math.round(N*devicePixelRatio),s),borderBoxSize:Xo(K,q,s),contentBoxSize:Xo(B,N,s),contentRect:new Mw(h,l,B,N)});return Fu.set(n,Z),Z},Qw=function(n,e,t){var i=Ew(n,t),r=i.borderBoxSize,s=i.contentBoxSize,o=i.devicePixelContentBoxSize;switch(e){case Cl.DEVICE_PIXEL_CONTENT_BOX:return o;case Cl.BORDER_BOX:return r;default:return s}},Sq=function(){function n(e){var t=Ew(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=Js([t.borderBoxSize]),this.contentBoxSize=Js([t.contentBoxSize]),this.devicePixelContentBoxSize=Js([t.devicePixelContentBoxSize])}return n}(),Rw=function(n){if(Cw(n))return 1/0;for(var e=0,t=n.parentNode;t;)e+=1,t=t.parentNode;return e},kq=function(){var n=1/0,e=[];Ks.forEach(function(s){if(s.activeTargets.length!==0){var o=[];s.activeTargets.forEach(function(a){var l=new Sq(a.target),u=Rw(a.target);o.push(l),a.lastReportedSize=Qw(a.target,a.observedBox),u<n&&(n=u)}),e.push(function(){s.callback.call(s.observer,o,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var t=0,i=e;t<i.length;t++){var r=i[t];r()}return n},ky=function(n){Ks.forEach(function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach(function(t){t.isActive()&&(Rw(t.target)>n?e.activeTargets.push(t):e.skippedTargets.push(t))})})},_q=function(){var n=0;for(ky(n);gq();)n=kq(),ky(n);return vq()&&Oq(),n>0},Ad,zw=[],$q=function(){return zw.splice(0).forEach(function(n){return n()})},Aq=function(n){if(!Ad){var e=0,t=document.createTextNode(""),i={characterData:!0};new MutationObserver(function(){return $q()}).observe(t,i),Ad=function(){t.textContent="".concat(e?e--:e++)}}zw.push(n),Ad()},Tq=function(n){Aq(function(){requestAnimationFrame(n)})},yc=0,Pq=function(){return!!yc},Mq=250,Cq={attributes:!0,characterData:!0,childList:!0,subtree:!0},_y=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],$y=function(n){return n===void 0&&(n=0),Date.now()+n},Td=!1,Eq=function(){function n(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return n.prototype.run=function(e){var t=this;if(e===void 0&&(e=Mq),!Td){Td=!0;var i=$y(e);Tq(function(){var r=!1;try{r=_q()}finally{if(Td=!1,e=i-$y(),!Pq())return;r?t.run(1e3):e>0?t.run(e):t.start()}})}},n.prototype.schedule=function(){this.stop(),this.run()},n.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Cq)};document.body?t():sl.addEventListener("DOMContentLoaded",t)},n.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),_y.forEach(function(t){return sl.addEventListener(t,e.listener,!0)}))},n.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),_y.forEach(function(t){return sl.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},n}(),vp=new Eq,Ay=function(n){!yc&&n>0&&vp.start(),yc+=n,!yc&&vp.stop()},Qq=function(n){return!Im(n)&&!bq(n)&&getComputedStyle(n).display==="inline"},Rq=function(){function n(e,t){this.target=e,this.observedBox=t||Cl.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return n.prototype.isActive=function(){var e=Qw(this.target,this.observedBox,!0);return Qq(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},n}(),zq=function(){function n(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t}return n}(),Hu=new WeakMap,Ty=function(n,e){for(var t=0;t<n.length;t+=1)if(n[t].target===e)return t;return-1},ju=function(){function n(){}return n.connect=function(e,t){var i=new zq(e,t);Hu.set(e,i)},n.observe=function(e,t,i){var r=Hu.get(e),s=r.observationTargets.length===0;Ty(r.observationTargets,t)<0&&(s&&Ks.push(r),r.observationTargets.push(new Rq(t,i&&i.box)),Ay(1),vp.schedule())},n.unobserve=function(e,t){var i=Hu.get(e),r=Ty(i.observationTargets,t),s=i.observationTargets.length===1;r>=0&&(s&&Ks.splice(Ks.indexOf(i),1),i.observationTargets.splice(r,1),Ay(-1))},n.disconnect=function(e){var t=this,i=Hu.get(e);i.observationTargets.slice().forEach(function(r){return t.unobserve(e,r.target)}),i.activeTargets.splice(0,i.activeTargets.length)},n}(),Dq=function(){function n(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ju.connect(this,e)}return n.prototype.observe=function(e,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!wy(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ju.observe(this,e,t)},n.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!wy(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ju.unobserve(this,e)},n.prototype.disconnect=function(){ju.disconnect(this)},n.toString=function(){return"function ResizeObserver () { [polyfill code] }"},n}();const hh=new WeakMap;function Iq(n){for(let e=0,t=n.length;e<t;++e){const i=n[e],r=hh.get(i.target);typeof r=="function"&&r(i)}}const Dw=new(ho&&window.ResizeObserver||Dq)(Iq);function Nq(n,e){hh.set(n,e),Dw.observe(n)}function Lq(n){hh.has(n)&&(Dw.unobserve(n),hh.delete(n))}function Zq(){return{observeResize:Nq,unobserveResize:Lq}}const Bq=Me(!1);qe(()=>Bq.value);const Py="__theme_style__",Pd="__theme_observer__",My=Pr(new Map),Cy=new Map;Ye(My,()=>{if(!ho)return;Cy.clear();const n=document.head.querySelector(`#${Py}`);n&&document.head.removeChild(n);const e=document.createElement("style");let t=`.${Pd} { width: 1px }`,i=1;for(const[r,[s,o]]of My.entries())t+=` html.${s} .${Pd}, .${o} .${Pd} { width: ${++i}px }`,Cy.set(i,r);e.textContent=t,e.id=Py,document.head.appendChild(e)});const Vq=rt({__name:"grid-layout",props:{autoSize:{type:Boolean,default:!0},colNum:{type:Number,default:12},rowHeight:{type:Number,default:150},maxRows:{type:Number,default:1/0},margin:{type:Array,default:()=>[10,10]},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},isMirrored:{type:Boolean,default:!1},isBounded:{type:Boolean,default:!1},useCssTransforms:{type:Boolean,default:!0},verticalCompact:{type:Boolean,default:!0},restoreOnDrag:{type:Boolean,default:!1},layout:{type:Array,required:!0},responsive:{type:Boolean,default:!1},responsiveLayouts:{type:Object,default:()=>({})},transformScale:{type:Number,default:1},breakpoints:{type:Object,default:()=>({lg:1200,md:996,sm:768,xs:480,xxs:0})},cols:{type:Object,default:()=>({lg:12,md:10,sm:6,xs:4,xxs:2})},preventCollision:{type:Boolean,default:!1},useStyleCursor:{type:Boolean,default:!0}},emits:["layout-before-mount","layout-mounted","layout-updated","breakpoint-changed","update:layout","layout-ready"],setup(n,{expose:e,emit:t}){const i=n,r=t,s=Pr({width:-1,mergedStyle:{},lastLayoutLength:0,isDragging:!1,placeholder:{x:0,y:0,w:0,h:0,i:""},layouts:{},lastBreakpoint:null,originalLayout:null}),o=new Map,a=Me(i.layout),l=Me(),{observeResize:u,unobserveResize:c}=Zq(),h=NX();h.on("resizeEvent",d),h.on("dragEvent",m),yp(()=>{r("layout-before-mount",a.value)}),gn(()=>{r("layout-mounted",a.value),vn(()=>{GX(a.value),s.originalLayout=a.value,vn(()=>{N(),l.value&&u(l.value,LX($,16)),So(a.value,i.verticalCompact),r("layout-updated",a.value),T(),$()})})}),dh(()=>{h.clearAll(),l.value&&c(l.value)});function d(q,Z,re,P,j,L){M(q,Z,re,P,j,L)}function m(q,Z,re,P,j,L){Q(q,Z,re,P,j,L)}Ye(()=>s.width,(q,Z)=>{vn(()=>{h.emit("updateWidth",q),Z===-1&&vn(()=>{r("layout-ready",a.value)}),T()})}),Ye(()=>[i.layout,i.layout.length],()=>{a.value=i.layout,_()}),Ye(()=>i.colNum,q=>{h.emit("setColNum",q)}),Ye(()=>i.rowHeight,q=>{h.emit("setRowHeight",q)}),Ye(()=>i.isDraggable,q=>{h.emit("setDraggable",q)}),Ye(()=>i.isResizable,q=>{h.emit("setResizable",q)}),Ye(()=>i.isBounded,q=>{h.emit("setBounded",q)}),Ye(()=>i.transformScale,q=>{h.emit("setTransformScale",q)}),Ye(()=>i.responsive,q=>{q||(r("update:layout",s.originalLayout),h.emit("setColNum",i.colNum)),$()}),Ye(()=>i.maxRows,q=>{h.emit("setMaxRows",q)}),Ye([()=>i.margin,()=>i.margin[1]],T),Mr(xw,Pr({...Md(i),...Md(s),increaseItem:v,decreaseItem:b})),Mr(Sw,h),e({state:s,getItem:k,resizeEvent:M,dragEvent:Q});function v(q){o.set(q.i,q)}function b(q){o.delete(q.i)}function k(q){return o.get(q)}function _(){if(!ti(a.value)&&!ti(s.originalLayout)){if(a.value.length!==s.originalLayout.length){const q=K(a.value,s.originalLayout);if(q.length>0)if(a.value.length>s.originalLayout.length)s.originalLayout=s.originalLayout.concat(q);else{const Z=new Set(q.map(re=>re.i));s.originalLayout=s.originalLayout.filter(re=>!Z.has(re.i))}s.lastLayoutLength=a.value.length,N()}So(a.value,i.verticalCompact),h.emit("updateWidth",s.width),T(),r("layout-updated",a.value)}}function T(){s.mergedStyle={height:w()}}function $(){l.value&&(s.width=l.value.offsetWidth),h.emit("resizeEvent")}function w(){if(!i.autoSize)return;const q=parseFloat(i.margin[1]);return BX(a.value)*(i.rowHeight+q)+q+"px"}let R;function Q(q,Z,re,P,j,L){let H=hy(a.value,Z);ti(H)&&(H={h:0,w:0,x:0,y:0,i:""}),q==="dragstart"&&!i.verticalCompact&&(R=a.value.reduce((ee,{i:ce,x:te,y:he})=>({...ee,[ce]:{x:te,y:he}}),{})),q==="dragmove"||q==="dragstart"?(s.placeholder.i=Z,s.placeholder.x=H.x,s.placeholder.y=H.y,s.placeholder.w=L,s.placeholder.h=j,vn(()=>{s.isDragging=!0}),h.emit("updateWidth",s.width)):vn(()=>{s.isDragging=!1}),a.value=pp(a.value,H,re,P,!0,i.preventCollision),i.restoreOnDrag?(H.static=!0,So(a.value,i.verticalCompact,R),H.static=!1):So(a.value,i.verticalCompact),h.emit("compact"),T(),q==="dragend"&&(R=void 0,r("layout-updated",a.value))}function M(q,Z,re,P,j,L){let H=hy(a.value,Z);ti(H)&&(H={h:0,w:0,x:0,y:0,i:""});let ee;if(i.preventCollision){const ce=_w(a.value,{...H,w:L,h:j}).filter(te=>te.i!==H.i);if(ee=ce.length>0,ee){let te=1/0,he=1/0;ce.forEach(W=>{W.x>H.x&&(te=Math.min(te,W.x)),W.y>H.y&&(he=Math.min(he,W.y))}),Number.isFinite(te)&&(H.w=te-H.x),Number.isFinite(he)&&(H.h=he-H.y)}}ee||(H.w=L,H.h=j),q==="resizestart"||q==="resizemove"?(s.placeholder.i=Z,s.placeholder.x=re,s.placeholder.y=P,s.placeholder.w=H.w,s.placeholder.h=H.h,vn(()=>{s.isDragging=!0}),h.emit("updateWidth",s.width)):vn(()=>{s.isDragging=!1}),i.responsive&&B(),So(a.value,i.verticalCompact),h.emit("compact"),T(),q==="resizeend"&&r("layout-updated",a.value)}function B(){const q=JX(i.breakpoints,s.width),Z=mp(q,i.cols);!ti(s.lastBreakpoint)&&!s.layouts[s.lastBreakpoint]&&(s.layouts[s.lastBreakpoint]=fp(a.value));const re=eq(s.originalLayout,s.layouts,i.breakpoints,q,s.lastBreakpoint,Z,i.verticalCompact);s.layouts[q]=re,s.lastBreakpoint!==q&&r("breakpoint-changed",q,re),r("update:layout",re),s.lastBreakpoint=q,h.emit("setColNum",mp(q,i.cols))}function N(){s.layouts=Object.assign({},i.responsiveLayouts)}function K(q,Z){const re=new Set(Z.map(H=>H.i)),P=new Set(q.map(H=>H.i)),j=q.filter(H=>!re.has(H.i)),L=Z.filter(H=>!P.has(H.i));return j.concat(L)}return(q,Z)=>(me(),_e("div",{ref_key:"wrapper",ref:l,class:"vgl-layout",style:kn(s.mergedStyle)},[q.$slots.default?Dt(q.$slots,"default",{key:0}):(me(!0),_e(xt,{key:1},Nt(a.value,re=>(me(),ct(gp,ni({key:re.i,ref_for:!0},re),{default:U(()=>[Dt(q.$slots,"item",{item:re})]),_:2},1040))),128)),n7(z(gp,{class:"vgl-item--placeholder",x:s.placeholder.x,y:s.placeholder.y,w:s.placeholder.w,h:s.placeholder.h,i:s.placeholder.i},null,8,["x","y","w","h","i"]),[[i7,s.isDragging]])],4))}});(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode('.vgl-layout{--vgl-placeholder-bg: red;--vgl-placeholder-opacity: 20%;--vgl-placeholder-z-index: 2;--vgl-item-resizing-z-index: 3;--vgl-item-resizing-opacity: 60%;--vgl-item-dragging-z-index: 3;--vgl-item-dragging-opacity: 100%;--vgl-resizer-size: 10px;--vgl-resizer-border-color: #444;--vgl-resizer-border-width: 2px;position:relative;box-sizing:border-box;transition:height .2s ease}.vgl-item{position:absolute;box-sizing:border-box;transition:.2s ease;transition-property:left,top,right}.vgl-item--placeholder{z-index:var(--vgl-placeholder-z-index, 2);-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:var(--vgl-placeholder-bg, red);opacity:var(--vgl-placeholder-opacity, 20%);transition-duration:.1s}.vgl-item--no-touch{touch-action:none}.vgl-item--transform{right:auto;left:0;transition-property:transform}.vgl-item--transform.vgl-item--rtl{right:0;left:auto}.vgl-item--resizing{z-index:var(--vgl-item-resizing-z-index, 3);-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--vgl-item-resizing-opacity, 60%)}.vgl-item--dragging{z-index:var(--vgl-item-dragging-z-index, 3);-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--vgl-item-dragging-opacity, 100%);transition:none}.vgl-item__resizer{position:absolute;right:0;bottom:0;box-sizing:border-box;width:var(--vgl-resizer-size);height:var(--vgl-resizer-size);cursor:se-resize}.vgl-item__resizer:before{position:absolute;top:0;right:3px;bottom:3px;left:0;content:"";border:0 solid var(--vgl-resizer-border-color);border-right-width:var(--vgl-resizer-border-width);border-bottom-width:var(--vgl-resizer-border-width)}.vgl-item__resizer--rtl{right:auto;left:0;cursor:sw-resize}.vgl-item__resizer--rtl:before{top:0;right:0;bottom:3px;left:3px;border-right-width:0;border-bottom-width:var(--vgl-resizer-border-width);border-left-width:var(--vgl-resizer-border-width)}')),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Xq={class:"canvas-panel"},qq={class:"toolbar"},Fq={class:"item-header"},Hq={class:"item-title"},jq={class:"item-content"},Uq=rt({__name:"CanvasPanel",setup(n){var _,T;const e=Er.getInstance(),t=e.useConfig("canvas"),i=Ow();vi.getInstance().on(Ut.DATA_UPDATE,$=>{const w=Date.now(),R={};Object.entries($).forEach(([Q,M])=>{typeof M=="number"&&(R[Q]=M)}),i.addDataPoint(w,R)});const s={chart:{width:8,height:6,resizable:!0,title:"图表"},table:{width:8,height:6,resizable:!0,title:"数据表"},"3d":{width:8,height:6,resizable:!0,title:"3D视图"},row:{width:24,height:1,resizable:!1,title:"行"}},o=$=>{var w;return((w=s[$])==null?void 0:w.title)||"未命名"},a=Me(((T=(_=t.value)==null?void 0:_.items)==null?void 0:T.map($=>{var w;return{id:$.id,type:$.type,x:Math.floor($.x/50),y:Math.floor($.y/50),w:Math.ceil($.width/50),h:Math.ceil($.height/50),i:$.id.toString(),title:o($.type),resizable:(w=s[$.type])==null?void 0:w.resizable}}))||[]),l=ao(),u={chart:t5,table:n5,"3d":nb},c=$=>{const w=Date.now(),R=s[$],Q={id:w,type:$,x:0,y:0,w:R.width,h:R.height,i:w.toString(),title:R.title,resizable:R.resizable};a.value.push(Q),m()},h=$=>{m()},d=$=>{const w=a.value.findIndex(R=>R.id===$);w!==-1&&(a.value.splice(w,1),m())},m=()=>{const $=a.value.map(w=>({id:w.id,type:w.type,x:w.x*50,y:w.y*50,width:w.w*50,height:w.h*50,title:w.title}));e.setConfig("canvas",{items:$})},v=()=>{window.dispatchEvent(new CustomEvent("resize"))},b=$=>{},k=$=>{};return($,w)=>{const R=Ee("el-button"),Q=Ee("el-button-group"),M=Ee("more"),B=Ee("el-icon"),N=Ee("edit"),K=Ee("el-dropdown-item"),q=Ee("delete"),Z=Ee("el-dropdown-menu"),re=Ee("el-dropdown");return me(),_e("div",Xq,[fe("div",qq,[z(Q,{class:"tool-group"},{default:U(()=>[z(R,{type:"primary",size:"small",onClick:w[0]||(w[0]=P=>c("row"))},{default:U(()=>w[5]||(w[5]=[Ce("添加行")])),_:1}),z(R,{type:"primary",size:"small",onClick:w[1]||(w[1]=P=>c("chart"))},{default:U(()=>w[6]||(w[6]=[Ce("添加图表")])),_:1}),z(R,{type:"primary",size:"small",onClick:w[2]||(w[2]=P=>c("table"))},{default:U(()=>w[7]||(w[7]=[Ce("添加数据表")])),_:1}),z(R,{type:"primary",size:"small",onClick:w[3]||(w[3]=P=>c("3d"))},{default:U(()=>w[8]||(w[8]=[Ce("添加3D视图")])),_:1})]),_:1})]),fe("div",{class:qt(["canvas-container",{dark:V(l)}])},[z(V(Vq),{layout:a.value,"onUpdate:layout":w[4]||(w[4]=P=>a.value=P),"col-num":24,"row-height":50,"is-draggable":!0,"is-resizable":!0,"vertical-compact":!0,"use-css-transforms":!0,margin:[10,10],onLayoutUpdated:h},{default:U(()=>[(me(!0),_e(xt,null,Nt(a.value,P=>(me(),ct(V(gp),{key:P.i,x:P.x,y:P.y,w:P.w,h:P.h,i:P.i,class:qt(["canvas-item",{"row-item":P.type==="row"}]),handle:".item-header",resizable:P.resizable,onResize:v},{default:U(()=>[fe("div",Fq,[fe("span",Hq,it(P.title),1),z(re,{trigger:"click"},{dropdown:U(()=>[z(Z,null,{default:U(()=>[z(K,{onClick:j=>b(P)},{default:U(()=>[z(B,null,{default:U(()=>[z(N)]),_:1}),w[9]||(w[9]=Ce("编辑 "))]),_:2},1032,["onClick"]),z(K,{onClick:j=>k(P)},{default:U(()=>[z(B,null,{default:U(()=>w[10]||(w[10]=[fe("view",null,null,-1)])),_:1}),w[11]||(w[11]=Ce("查看 "))]),_:2},1032,["onClick"]),z(K,{onClick:j=>d(P.id),divided:""},{default:U(()=>[z(B,null,{default:U(()=>[z(q)]),_:1}),w[12]||(w[12]=Ce("删除 "))]),_:2},1032,["onClick"])]),_:2},1024)]),default:U(()=>[z(R,{class:"menu-btn",text:""},{default:U(()=>[z(B,null,{default:U(()=>[z(M)]),_:1})]),_:1})]),_:2},1024)]),fe("div",jq,[(me(),ct(ss(u[P.type])))])]),_:2},1032,["x","y","w","h","i","class","resizable"]))),128))]),_:1},8,["layout"]),z(zX,{class:"time-range-control"})],2)])}}}),Gq=yn(Uq,[["__scopeId","data-v-4d9b37b0"]]),Wq={class:"header-content"},Yq={class:"header-left"},Kq={class:"header-links"},Jq=rt({__name:"App",setup(n){const t=Er.getInstance().useConfig("layout"),i=ao({initialValue:"dark",storage:localStorage}),r=r7(i),s=Me(!1),o=()=>{document.fullscreenElement?(document.exitFullscreen(),s.value=!1):(document.documentElement.requestFullscreen(),s.value=!0)},a=h=>{t.value.splitPaneSize=h[0].size,c()},l=()=>{c()};let u;const c=()=>{clearTimeout(u),u=setTimeout(()=>{window.dispatchEvent(new CustomEvent("resize",{}))},100)};return c(),(h,d)=>{const m=Ee("el-button"),v=Ee("el-header"),b=Ee("el-tab-pane"),k=Ee("el-tabs"),_=Ee("el-container");return me(),ct(_,{class:"app-container"},{default:U(()=>[z(v,{class:"app-header"},{default:U(()=>[fe("div",Wq,[fe("div",Yq,[d[4]||(d[4]=fe("h1",null,[fe("a",{href:"https://github.com/qdsang/web-serial-debug",target:"_blank"},"Web Serial")],-1)),z(Mx,{class:"header-serial-config"})]),fe("div",Kq,[z(m,{class:"theme-toggle",icon:V(i)?"Sunny":"Moon",circle:"",onClick:d[0]||(d[0]=T=>V(r)())},null,8,["icon"]),z(m,{class:"fullscreen-toggle",icon:"FullScreen",circle:"",onClick:d[1]||(d[1]=T=>o())})])])]),_:1}),z(_,{class:"main-container"},{default:U(()=>[z(V(u7),{class:"default-theme",onResize:a},{default:U(()=>[z(V(yg),{size:V(t).splitPaneSize,class:"w75"},{default:U(()=>[z(k,{type:"card",class:"lv-card lv-tabs",addable:"",modelValue:V(t).leftActiveTab,"onUpdate:modelValue":d[2]||(d[2]=T=>V(t).leftActiveTab=T),onTabClick:l},{default:U(()=>[z(b,{label:"命令行"},{default:U(()=>[z(jx)]),_:1}),z(b,{label:"姿态",lazy:""},{default:U(()=>[z(nb)]),_:1}),z(b,{label:"数据表",lazy:""},{default:U(()=>[z(n5)]),_:1}),z(b,{label:"可视化",lazy:""},{default:U(()=>[z(t5)]),_:1}),z(b,{label:"流程图"},{default:U(()=>[z(YQ)]),_:1}),z(b,{label:"画板",lazy:""},{default:U(()=>[z(Gq)]),_:1}),z(b,{label:"模拟",lazy:""},{default:U(()=>[z($I)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["size"]),z(V(yg),{class:"w25"},{default:U(()=>[z(k,{type:"card",class:"lv-card lv-tabs",modelValue:V(t).rightActiveTab,"onUpdate:modelValue":d[3]||(d[3]=T=>V(t).rightActiveTab=T)},{default:U(()=>[z(b,{label:"快捷发送"},{default:U(()=>[z(KI)]),_:1}),z(b,{label:"脚本"},{default:U(()=>[z(CX)]),_:1}),z(b,{label:"设置"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),eF=yn(Jq,[["__scopeId","data-v-feca3de2"]]),Kh=s7(eF),tF=o7();for(const[n,e]of Object.entries(c7))Kh.component(n,e);Kh.use(tF);Kh.use(h7);Kh.mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(n=>{console.log("ServiceWorker registration successful")}).catch(n=>{console.error("ServiceWorker registration failed:",n)})});
