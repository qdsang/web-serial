const De="u-",Ks="uplot",js=De+"hz",qs=De+"vt",$s=De+"title",Js=De+"wrap",Zs=De+"under",Qs=De+"over",Xs=De+"axis",Xt=De+"off",er=De+"select",tr=De+"cursor-x",lr=De+"cursor-y",nr=De+"cursor-pt",ir=De+"legend",or=De+"live",sr=De+"inline",rr=De+"series",fr=De+"marker",Ki=De+"label",ur=De+"value",Bl="width",Yl="height",Gl="top",ji="bottom",kl="left",Gn="right",ni="#000",qi=ni+"0",$i="mousemove",Ji="mousedown",In="mouseup",Zi="mouseenter",Qi="mouseleave",Xi="dblclick",cr="resize",ar="scroll",eo="change",cn="dppxchange",ii="--",Dl=typeof window<"u",jn=Dl?document:null,xl=Dl?window:null,hr=Dl?navigator:null;let se,sn;function qn(){let e=devicePixelRatio;se!=e&&(se=e,sn&&Jn(eo,sn,qn),sn=matchMedia(`(min-resolution: ${se-.001}dppx) and (max-resolution: ${se+.001}dppx)`),el(eo,sn,qn),xl.dispatchEvent(new CustomEvent(cn)))}function et(e,n){if(n!=null){let o=e.classList;!o.contains(n)&&o.add(n)}}function $n(e,n){let o=e.classList;o.contains(n)&&o.remove(n)}function ge(e,n,o){e.style[n]=o+"px"}function wt(e,n,o,l){let s=jn.createElement(e);return n!=null&&et(s,n),o!=null&&o.insertBefore(s,l),s}function ct(e,n){return wt("div",e,n)}const to=new WeakMap;function Mt(e,n,o,l,s){let a="translate("+n+"px,"+o+"px)",u=to.get(e);a!=u&&(e.style.transform=a,to.set(e,a),n<0||o<0||n>l||o>s?et(e,Xt):$n(e,Xt))}const lo=new WeakMap;function no(e,n,o){let l=n+o,s=lo.get(e);l!=s&&(lo.set(e,l),e.style.background=n,e.style.borderColor=o)}const io=new WeakMap;function oo(e,n,o,l){let s=n+""+o,a=io.get(e);s!=a&&(io.set(e,s),e.style.height=o+"px",e.style.width=n+"px",e.style.marginLeft=l?-n/2+"px":0,e.style.marginTop=l?-o/2+"px":0)}const oi={passive:!0},pr={...oi,capture:!0};function el(e,n,o,l){n.addEventListener(e,o,l?pr:oi)}function Jn(e,n,o,l){n.removeEventListener(e,o,oi)}Dl&&qn();function St(e,n,o,l){let s;o=o||0,l=l||n.length-1;let a=l<=2147483647;for(;l-o>1;)s=a?o+l>>1:tt((o+l)/2),n[s]<e?o=s:l=s;return e-n[o]<=n[l]-e?o:l}function Ml(e,n,o,l){for(let s=l==1?n:o;s>=n&&s<=o;s+=l)if(e[s]!=null)return s;return-1}function mr(e,n,o,l){let s=ee,a=-ee;if(l==1)s=e[n],a=e[o];else if(l==-1)s=e[o],a=e[n];else for(let u=n;u<=o;u++){let d=e[u];d!=null&&(d<s&&(s=d),d>a&&(a=d))}return[s,a]}function dr(e,n,o){let l=ee,s=-ee;for(let a=n;a<=o;a++){let u=e[a];u!=null&&u>0&&(u<l&&(l=u),u>s&&(s=u))}return[l,s]}function pn(e,n,o,l){let s=fo(e),a=fo(n);e==n&&(s==-1?(e*=o,n/=o):(e/=o,n*=o));let u=o==10?At:Vo,d=s==1?tt:at,m=a==1?at:tt,g=d(u(Ae(e))),_=m(u(Ae(n))),y=bl(o,g),h=bl(o,_);return o==10&&(g<0&&(y=he(y,-g)),_<0&&(h=he(h,-_))),l||o==2?(e=y*s,n=h*a):(e=No(e,y),n=mn(n,h)),[e,n]}function si(e,n,o,l){let s=pn(e,n,o,l);return e==0&&(s[0]=0),n==0&&(s[1]=0),s}const ri=.1,so={mode:3,pad:ri},Kl={pad:0,soft:null,mode:0},gr={min:Kl,max:Kl};function an(e,n,o,l){return dn(o)?ro(e,n,o):(Kl.pad=o,Kl.soft=l?0:null,Kl.mode=l?3:0,ro(e,n,gr))}function oe(e,n){return e??n}function wr(e,n,o){for(n=oe(n,0),o=oe(o,e.length-1);n<=o;){if(e[n]!=null)return!0;n++}return!1}function ro(e,n,o){let l=o.min,s=o.max,a=oe(l.pad,0),u=oe(s.pad,0),d=oe(l.hard,-ee),m=oe(s.hard,ee),g=oe(l.soft,ee),_=oe(s.soft,-ee),y=oe(l.mode,0),h=oe(s.mode,0),E=n-e,R=At(E),A=Oe(Ae(e),Ae(n)),z=At(A),B=Ae(z-R);(E<1e-24||B>10)&&(E=0,(e==0||n==0)&&(E=1e-24,y==2&&g!=ee&&(a=0),h==2&&_!=-ee&&(u=0)));let H=E||A||1e3,x=At(H),C=bl(10,tt(x)),D=H*(E==0?e==0?.1:1:a),W=he(No(e-D,C/10),24),P=e>=g&&(y==1||y==3&&W<=g||y==2&&W>=g)?g:ee,j=Oe(d,W<P&&e>=P?P:ht(P,W)),q=H*(E==0?n==0?.1:1:u),F=he(mn(n+q,C/10),24),v=n<=_&&(h==1||h==3&&F>=_||h==2&&F<=_)?_:-ee,O=ht(m,F>v&&n<=v?v:Oe(v,F));return j==O&&j==0&&(O=100),[j,O]}const Sr=new Intl.NumberFormat(Dl?hr.language:"en-US"),fi=e=>Sr.format(e),lt=Math,un=lt.PI,Ae=lt.abs,tt=lt.floor,Ee=lt.round,at=lt.ceil,ht=lt.min,Oe=lt.max,bl=lt.pow,fo=lt.sign,At=lt.log10,Vo=lt.log2,_r=(e,n=1)=>lt.sinh(e)*n,Bn=(e,n=1)=>lt.asinh(e/n),ee=1/0;function uo(e){return(At((e^e>>31)-(e>>31))|0)+1}function Zn(e,n,o){return ht(Oe(e,n),o)}function X(e){return typeof e=="function"?e:()=>e}const yr=()=>{},zo=e=>e,Fo=(e,n)=>n,kr=e=>null,co=e=>!0,ao=(e,n)=>e==n,vr=/\.\d*?(?=9{6,}|0{6,})/gm,tl=e=>{if(Oo(e)||Bt.has(e))return e;const n=`${e}`,o=n.match(vr);if(o==null)return e;let l=o[0].length-1;if(n.indexOf("e-")!=-1){let[s,a]=n.split("e");return+`${tl(s)}e${a}`}return he(e,l)};function Zt(e,n){return tl(he(tl(e/n))*n)}function mn(e,n){return tl(at(tl(e/n))*n)}function No(e,n){return tl(tt(tl(e/n))*n)}function he(e,n=0){if(Oo(e))return e;let o=10**n,l=e*o*(1+Number.EPSILON);return Ee(l)/o}const Bt=new Map;function Ho(e){return((""+e).split(".")[1]||"").length}function ql(e,n,o,l){let s=[],a=l.map(Ho);for(let u=n;u<o;u++){let d=Ae(u),m=he(bl(e,u),d);for(let g=0;g<l.length;g++){let _=e==10?+`${l[g]}e${u}`:l[g]*m,y=(u>=0?0:d)+(u>=a[g]?0:a[g]),h=e==10?_:he(_,y);s.push(h),Bt.set(h,y)}}return s}const jl={},ui=[],Tl=[null,null],It=Array.isArray,Oo=Number.isInteger,xr=e=>e===void 0;function ho(e){return typeof e=="string"}function dn(e){let n=!1;if(e!=null){let o=e.constructor;n=o==null||o==Object}return n}function Mr(e){return e!=null&&typeof e=="object"}const br=Object.getPrototypeOf(Uint8Array),Wo="__proto__";function El(e,n=dn){let o;if(It(e)){let l=e.find(s=>s!=null);if(It(l)||n(l)){o=Array(e.length);for(let s=0;s<e.length;s++)o[s]=El(e[s],n)}else o=e.slice()}else if(e instanceof br)o=e.slice();else if(n(e)){o={};for(let l in e)l!=Wo&&(o[l]=El(e[l],n))}else o=e;return o}function be(e){let n=arguments;for(let o=1;o<n.length;o++){let l=n[o];for(let s in l)s!=Wo&&(dn(e[s])?be(e[s],El(l[s])):e[s]=El(l[s]))}return e}const Tr=0,Er=1,Ar=2;function Dr(e,n,o){for(let l=0,s,a=-1;l<n.length;l++){let u=n[l];if(u>a){for(s=u-1;s>=0&&e[s]==null;)e[s--]=null;for(s=u+1;s<o&&e[s]==null;)e[a=s++]=null}}}function Lr(e,n){if(Rr(e)){let u=e[0].slice();for(let d=1;d<e.length;d++)u.push(...e[d].slice(1));return Vr(u[0])||(u=Cr(u)),u}let o=new Set;for(let u=0;u<e.length;u++){let m=e[u][0],g=m.length;for(let _=0;_<g;_++)o.add(m[_])}let l=[Array.from(o).sort((u,d)=>u-d)],s=l[0].length,a=new Map;for(let u=0;u<s;u++)a.set(l[0][u],u);for(let u=0;u<e.length;u++){let d=e[u],m=d[0];for(let g=1;g<d.length;g++){let _=d[g],y=Array(s).fill(void 0),h=n?n[u][g]:Er,E=[];for(let R=0;R<_.length;R++){let A=_[R],z=a.get(m[R]);A===null?h!=Tr&&(y[z]=A,h==Ar&&E.push(z)):y[z]=A}Dr(y,E,s),l.push(y)}}return l}const Pr=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function Cr(e){let n=e[0],o=n.length,l=Array(o);for(let a=0;a<l.length;a++)l[a]=a;l.sort((a,u)=>n[a]-n[u]);let s=[];for(let a=0;a<e.length;a++){let u=e[a],d=Array(o);for(let m=0;m<o;m++)d[m]=u[l[m]];s.push(d)}return s}function Rr(e){let n=e[0][0],o=n.length;for(let l=1;l<e.length;l++){let s=e[l][0];if(s.length!=o)return!1;if(s!=n){for(let a=0;a<o;a++)if(s[a]!=n[a])return!1}}return!0}function Vr(e,n=100){const o=e.length;if(o<=1)return!0;let l=0,s=o-1;for(;l<=s&&e[l]==null;)l++;for(;s>=l&&e[s]==null;)s--;if(s<=l)return!0;const a=Oe(1,tt((s-l+1)/n));for(let u=e[l],d=l+a;d<=s;d+=a){const m=e[d];if(m!=null){if(m<=u)return!1;u=m}}return!0}const Go=["January","February","March","April","May","June","July","August","September","October","November","December"],Io=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Bo(e){return e.slice(0,3)}const zr=Io.map(Bo),Fr=Go.map(Bo),Nr={MMMM:Go,MMM:Fr,WWWW:Io,WWW:zr};function Il(e){return(e<10?"0":"")+e}function Hr(e){return(e<10?"00":e<100?"0":"")+e}const Or={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,n)=>n.MMMM[e.getMonth()],MMM:(e,n)=>n.MMM[e.getMonth()],MM:e=>Il(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Il(e.getDate()),D:e=>e.getDate(),WWWW:(e,n)=>n.WWWW[e.getDay()],WWW:(e,n)=>n.WWW[e.getDay()],HH:e=>Il(e.getHours()),H:e=>e.getHours(),h:e=>{let n=e.getHours();return n==0?12:n>12?n-12:n},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Il(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Il(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>Hr(e.getMilliseconds())};function ci(e,n){n=n||Nr;let o=[],l=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=l.exec(e);)o.push(s[0][0]=="{"?Or[s[1]]:s[0]);return a=>{let u="";for(let d=0;d<o.length;d++)u+=typeof o[d]=="string"?o[d]:o[d](a,n);return u}}const Wr=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Gr(e,n){let o;return n=="UTC"||n=="Etc/UTC"?o=new Date(+e+e.getTimezoneOffset()*6e4):n==Wr?o=e:(o=new Date(e.toLocaleString("en-US",{timeZone:n})),o.setMilliseconds(e.getMilliseconds())),o}const Yo=e=>e%1==0,hn=[1,2,2.5,5],Ir=ql(10,-32,0,hn),Uo=ql(10,0,32,hn),Br=Uo.filter(Yo),Qt=Ir.concat(Uo),ai=`
`,Ko="{YYYY}",po=ai+Ko,jo="{M}/{D}",Ul=ai+jo,rn=Ul+"/{YY}",qo="{aa}",Yr="{h}:{mm}",vl=Yr+qo,mo=ai+vl,go=":{ss}",re=null;function $o(e){let n=e*1e3,o=n*60,l=o*60,s=l*24,a=s*30,u=s*365,m=(e==1?ql(10,0,3,hn).filter(Yo):ql(10,-3,0,hn)).concat([n,n*5,n*10,n*15,n*30,o,o*5,o*10,o*15,o*30,l,l*2,l*3,l*4,l*6,l*8,l*12,s,s*2,s*3,s*4,s*5,s*6,s*7,s*8,s*9,s*10,s*15,a,a*2,a*3,a*4,a*6,u,u*2,u*5,u*10,u*25,u*50,u*100]);const g=[[u,Ko,re,re,re,re,re,re,1],[s*28,"{MMM}",po,re,re,re,re,re,1],[s,jo,po,re,re,re,re,re,1],[l,"{h}"+qo,rn,re,Ul,re,re,re,1],[o,vl,rn,re,Ul,re,re,re,1],[n,go,rn+" "+vl,re,Ul+" "+vl,re,mo,re,1],[e,go+".{fff}",rn+" "+vl,re,Ul+" "+vl,re,mo,re,1]];function _(y){return(h,E,R,A,z,B)=>{let H=[],x=z>=u,C=z>=a&&z<u,D=y(R),W=he(D*e,3),P=Yn(D.getFullYear(),x?0:D.getMonth(),C||x?1:D.getDate()),j=he(P*e,3);if(C||x){let q=C?z/a:0,F=x?z/u:0,v=W==j?W:he(Yn(P.getFullYear()+F,P.getMonth()+q,1)*e,3),O=new Date(Ee(v/e)),Z=O.getFullYear(),le=O.getMonth();for(let I=0;v<=A;I++){let ue=Yn(Z+F*I,le+q*I,1),J=ue-y(he(ue*e,3));v=he((+ue+J)*e,3),v<=A&&H.push(v)}}else{let q=z>=s?s:z,F=tt(R)-tt(W),v=j+F+mn(W-j,q);H.push(v);let O=y(v),Z=O.getHours()+O.getMinutes()/o+O.getSeconds()/l,le=z/l,I=h.axes[E]._space,ue=B/I;for(;v=he(v+z,e==1?0:3),!(v>A);)if(le>1){let J=tt(he(Z+le,6))%24,ne=y(v).getHours()-J;ne>1&&(ne=-1),v-=ne*l,Z=(Z+le)%24;let fe=H[H.length-1];he((v-fe)/z,3)*ue>=.7&&H.push(v)}else H.push(v)}return H}}return[m,g,_]}const[Ur,Kr,jr]=$o(1),[qr,$r,Jr]=$o(.001);ql(2,-53,53,[1]);function wo(e,n){return e.map(o=>o.map((l,s)=>s==0||s==8||l==null?l:n(s==1||o[8]==0?l:o[1]+l)))}function So(e,n){return(o,l,s,a,u)=>{let d=n.find(R=>u>=R[0])||n[n.length-1],m,g,_,y,h,E;return l.map(R=>{let A=e(R),z=A.getFullYear(),B=A.getMonth(),H=A.getDate(),x=A.getHours(),C=A.getMinutes(),D=A.getSeconds(),W=z!=m&&d[2]||B!=g&&d[3]||H!=_&&d[4]||x!=y&&d[5]||C!=h&&d[6]||D!=E&&d[7]||d[1];return m=z,g=B,_=H,y=x,h=C,E=D,W(A)})}}function Zr(e,n){let o=ci(n);return(l,s,a,u,d)=>s.map(m=>o(e(m)))}function Yn(e,n,o){return new Date(e,n,o)}function _o(e,n){return n(e)}const Qr="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function yo(e,n){return(o,l,s,a)=>a==null?ii:n(e(l))}function Xr(e,n){let o=e.series[n];return o.width?o.stroke(e,n):o.points.width?o.points.stroke(e,n):null}function ef(e,n){return e.series[n].fill(e,n)}const tf={show:!0,live:!0,isolate:!1,mount:yr,markers:{show:!0,width:2,stroke:Xr,fill:ef,dash:"solid"},idx:null,idxs:null,values:[]};function lf(e,n){let o=e.cursor.points,l=ct(),s=o.size(e,n);ge(l,Bl,s),ge(l,Yl,s);let a=s/-2;ge(l,"marginLeft",a),ge(l,"marginTop",a);let u=o.width(e,n,s);return u&&ge(l,"borderWidth",u),l}function nf(e,n){let o=e.series[n].points;return o._fill||o._stroke}function of(e,n){let o=e.series[n].points;return o._stroke||o._fill}function sf(e,n){return e.series[n].points.size}const Un=[0,0];function rf(e,n,o){return Un[0]=n,Un[1]=o,Un}function fn(e,n,o,l=!0){return s=>{s.button==0&&(!l||s.target==n)&&o(s)}}function Kn(e,n,o,l=!0){return s=>{(!l||s.target==n)&&o(s)}}const ff={show:!0,x:!0,y:!0,lock:!1,move:rf,points:{one:!1,show:lf,size:sf,width:0,stroke:of,fill:nf},bind:{mousedown:fn,mouseup:fn,click:fn,dblclick:fn,mousemove:Kn,mouseleave:Kn,mouseenter:Kn},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,n)=>{n.stopPropagation(),n.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,n,o,l,s)=>l-s,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Jo={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},hi=be({},Jo,{filter:Fo}),Zo=be({},hi,{size:10}),Qo=be({},Jo,{show:!1}),pi='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Xo="bold "+pi,es=1.5,ko={show:!0,scale:"x",stroke:ni,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Xo,side:2,grid:hi,ticks:Zo,border:Qo,font:pi,lineGap:es,rotate:0},uf="Value",cf="Time",vo={show:!0,scale:"x",auto:!1,sorted:1,min:ee,max:-ee,idxs:[]};function af(e,n,o,l,s){return n.map(a=>a==null?"":fi(a))}function hf(e,n,o,l,s,a,u){let d=[],m=Bt.get(s)||0;o=u?o:he(mn(o,s),m);for(let g=o;g<=l;g=he(g+s,m))d.push(Object.is(g,-0)?0:g);return d}function Qn(e,n,o,l,s,a,u){const d=[],m=e.scales[e.axes[n].scale].log,g=m==10?At:Vo,_=tt(g(o));s=bl(m,_),m==10&&(s=Qt[St(s,Qt)]);let y=o,h=s*m;m==10&&(h=Qt[St(h,Qt)]);do d.push(y),y=y+s,m==10&&!Bt.has(y)&&(y=he(y,Bt.get(s))),y>=h&&(s=y,h=s*m,m==10&&(h=Qt[St(h,Qt)]));while(y<=l);return d}function pf(e,n,o,l,s,a,u){let m=e.scales[e.axes[n].scale].asinh,g=l>m?Qn(e,n,Oe(m,o),l,s):[m],_=l>=0&&o<=0?[0]:[];return(o<-m?Qn(e,n,Oe(m,-l),-o,s):[m]).reverse().map(h=>-h).concat(_,g)}const ts=/./,mf=/[12357]/,df=/[125]/,xo=/1/,Xn=(e,n,o,l)=>e.map((s,a)=>n==4&&s==0||a%l==0&&o.test(s.toExponential()[s<0?1:0])?s:null);function gf(e,n,o,l,s){let a=e.axes[o],u=a.scale,d=e.scales[u],m=e.valToPos,g=a._space,_=m(10,u),y=m(9,u)-_>=g?ts:m(7,u)-_>=g?mf:m(5,u)-_>=g?df:xo;if(y==xo){let h=Ae(m(1,u)-_);if(h<g)return Xn(n.slice().reverse(),d.distr,y,at(g/h)).reverse()}return Xn(n,d.distr,y,1)}function wf(e,n,o,l,s){let a=e.axes[o],u=a.scale,d=a._space,m=e.valToPos,g=Ae(m(1,u)-m(2,u));return g<d?Xn(n.slice().reverse(),3,ts,at(d/g)).reverse():n}function Sf(e,n,o,l){return l==null?ii:n==null?"":fi(n)}const Mo={show:!0,scale:"y",stroke:ni,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Xo,side:3,grid:hi,ticks:Zo,border:Qo,font:pi,lineGap:es,rotate:0};function _f(e,n){let o=3+(e||1)*2;return he(o*n,3)}function yf(e,n){let{scale:o,idxs:l}=e.series[0],s=e._data[0],a=e.valToPos(s[l[0]],o,!0),u=e.valToPos(s[l[1]],o,!0),d=Ae(u-a),m=e.series[n],g=d/(m.points.space*se);return l[1]-l[0]<=g}const bo={scale:null,auto:!0,sorted:0,min:ee,max:-ee},ls=(e,n,o,l,s)=>s,To={show:!0,auto:!0,sorted:0,gaps:ls,alpha:1,facets:[be({},bo,{scale:"x"}),be({},bo,{scale:"y"})]},Eo={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:ls,alpha:1,points:{show:yf,filter:null},values:null,min:ee,max:-ee,idxs:[],path:null,clip:null};function kf(e,n,o,l,s){return o/10}const ns={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},vf=be({},ns,{time:!1,ori:1}),Ao={};function is(e,n){let o=Ao[e];return o||(o={key:e,plots:[],sub(l){o.plots.push(l)},unsub(l){o.plots=o.plots.filter(s=>s!=l)},pub(l,s,a,u,d,m,g){for(let _=0;_<o.plots.length;_++)o.plots[_]!=s&&o.plots[_].pub(l,s,a,u,d,m,g)}},e!=null&&(Ao[e]=o)),o}const Al=1,ei=2;function ll(e,n,o){const l=e.mode,s=e.series[n],a=l==2?e._data[n]:e._data,u=e.scales,d=e.bbox;let m=a[0],g=l==2?a[1]:a[n],_=l==2?u[s.facets[0].scale]:u[e.series[0].scale],y=l==2?u[s.facets[1].scale]:u[s.scale],h=d.left,E=d.top,R=d.width,A=d.height,z=e.valToPosH,B=e.valToPosV;return _.ori==0?o(s,m,g,_,y,z,B,h,E,R,A,wn,Ll,_n,ss,fs):o(s,m,g,_,y,B,z,E,h,A,R,Sn,Pl,gi,rs,us)}function mi(e,n){let o=0,l=0,s=oe(e.bands,ui);for(let a=0;a<s.length;a++){let u=s[a];u.series[0]==n?o=u.dir:u.series[1]==n&&(u.dir==1?l|=1:l|=2)}return[o,l==1?-1:l==2?1:l==3?2:0]}function xf(e,n,o,l,s){let a=e.mode,u=e.series[n],d=a==2?u.facets[1].scale:u.scale,m=e.scales[d];return s==-1?m.min:s==1?m.max:m.distr==3?m.dir==1?m.min:m.max:0}function Dt(e,n,o,l,s,a){return ll(e,n,(u,d,m,g,_,y,h,E,R,A,z)=>{let B=u.pxRound;const H=g.dir*(g.ori==0?1:-1),x=g.ori==0?Ll:Pl;let C,D;H==1?(C=o,D=l):(C=l,D=o);let W=B(y(d[C],g,A,E)),P=B(h(m[C],_,z,R)),j=B(y(d[D],g,A,E)),q=B(h(a==1?_.max:_.min,_,z,R)),F=new Path2D(s);return x(F,j,q),x(F,W,q),x(F,W,P),F})}function gn(e,n,o,l,s,a){let u=null;if(e.length>0){u=new Path2D;const d=n==0?_n:gi;let m=o;for(let y=0;y<e.length;y++){let h=e[y];if(h[1]>h[0]){let E=h[0]-m;E>0&&d(u,m,l,E,l+a),m=h[1]}}let g=o+s-m,_=10;g>0&&d(u,m,l-_/2,g,l+a+_)}return u}function Mf(e,n,o){let l=e[e.length-1];l&&l[0]==n?l[1]=o:e.push([n,o])}function di(e,n,o,l,s,a,u){let d=[],m=e.length;for(let g=s==1?o:l;g>=o&&g<=l;g+=s)if(n[g]===null){let y=g,h=g;if(s==1)for(;++g<=l&&n[g]===null;)h=g;else for(;--g>=o&&n[g]===null;)h=g;let E=a(e[y]),R=h==y?E:a(e[h]),A=y-s;E=u<=0&&A>=0&&A<m?a(e[A]):E;let B=h+s;R=u>=0&&B>=0&&B<m?a(e[B]):R,R>=E&&d.push([E,R])}return d}function Do(e){return e==0?zo:e==1?Ee:n=>Zt(n,e)}function os(e){let n=e==0?wn:Sn,o=e==0?(s,a,u,d,m,g)=>{s.arcTo(a,u,d,m,g)}:(s,a,u,d,m,g)=>{s.arcTo(u,a,m,d,g)},l=e==0?(s,a,u,d,m)=>{s.rect(a,u,d,m)}:(s,a,u,d,m)=>{s.rect(u,a,m,d)};return(s,a,u,d,m,g=0,_=0)=>{g==0&&_==0?l(s,a,u,d,m):(g=ht(g,d/2,m/2),_=ht(_,d/2,m/2),n(s,a+g,u),o(s,a+d,u,a+d,u+m,g),o(s,a+d,u+m,a,u+m,_),o(s,a,u+m,a,u,_),o(s,a,u,a+d,u,g),s.closePath())}}const wn=(e,n,o)=>{e.moveTo(n,o)},Sn=(e,n,o)=>{e.moveTo(o,n)},Ll=(e,n,o)=>{e.lineTo(n,o)},Pl=(e,n,o)=>{e.lineTo(o,n)},_n=os(0),gi=os(1),ss=(e,n,o,l,s,a)=>{e.arc(n,o,l,s,a)},rs=(e,n,o,l,s,a)=>{e.arc(o,n,l,s,a)},fs=(e,n,o,l,s,a,u)=>{e.bezierCurveTo(n,o,l,s,a,u)},us=(e,n,o,l,s,a,u)=>{e.bezierCurveTo(o,n,s,l,u,a)};function cs(e){return(n,o,l,s,a)=>ll(n,o,(u,d,m,g,_,y,h,E,R,A,z)=>{let{pxRound:B,points:H}=u,x,C;g.ori==0?(x=wn,C=ss):(x=Sn,C=rs);const D=he(H.width*se,3);let W=(H.size-H.width)/2*se,P=he(W*2,3),j=new Path2D,q=new Path2D,{left:F,top:v,width:O,height:Z}=n.bbox;_n(q,F-P,v-P,O+P*2,Z+P*2);const le=I=>{if(m[I]!=null){let ue=B(y(d[I],g,A,E)),J=B(h(m[I],_,z,R));x(j,ue+W,J),C(j,ue,J,W,0,un*2)}};if(a)a.forEach(le);else for(let I=l;I<=s;I++)le(I);return{stroke:D>0?j:null,fill:j,clip:q,flags:Al|ei}})}function as(e){return(n,o,l,s,a,u)=>{l!=s&&(a!=l&&u!=l&&e(n,o,l),a!=s&&u!=s&&e(n,o,s),e(n,o,u))}}const bf=as(Ll),Tf=as(Pl);function hs(e){const n=oe(e==null?void 0:e.alignGaps,0);return(o,l,s,a)=>ll(o,l,(u,d,m,g,_,y,h,E,R,A,z)=>{let B=u.pxRound,H=V=>B(y(V,g,A,E)),x=V=>B(h(V,_,z,R)),C,D;g.ori==0?(C=Ll,D=bf):(C=Pl,D=Tf);const W=g.dir*(g.ori==0?1:-1),P={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Al},j=P.stroke;let q=ee,F=-ee,v,O,Z,le=H(d[W==1?s:a]),I=Ml(m,s,a,1*W),ue=Ml(m,s,a,-1*W),J=H(d[I]),Ue=H(d[ue]),ve=!1;for(let V=W==1?s:a;V>=s&&V<=a;V+=W){let Se=H(d[V]),ie=m[V];Se==le?ie!=null?(O=x(ie),q==ee&&(C(j,Se,O),v=O),q=ht(O,q),F=Oe(O,F)):ie===null&&(ve=!0):(q!=ee&&(D(j,le,q,F,v,O),Z=le),ie!=null?(O=x(ie),C(j,Se,O),q=F=v=O):(q=ee,F=-ee,ie===null&&(ve=!0)),le=Se)}q!=ee&&q!=F&&Z!=le&&D(j,le,q,F,v,O);let[ne,fe]=mi(o,l);if(u.fill!=null||ne!=0){let V=P.fill=new Path2D(j),Se=u.fillTo(o,l,u.min,u.max,ne),ie=x(Se);C(V,Ue,ie),C(V,J,ie)}if(!u.spanGaps){let V=[];ve&&V.push(...di(d,m,s,a,W,H,n)),P.gaps=V=u.gaps(o,l,s,a,V),P.clip=gn(V,g.ori,E,R,A,z)}return fe!=0&&(P.band=fe==2?[Dt(o,l,s,a,j,-1),Dt(o,l,s,a,j,1)]:Dt(o,l,s,a,j,fe)),P})}function Ef(e){const n=oe(e.align,1),o=oe(e.ascDesc,!1),l=oe(e.alignGaps,0),s=oe(e.extend,!1);return(a,u,d,m)=>ll(a,u,(g,_,y,h,E,R,A,z,B,H,x)=>{let C=g.pxRound,{left:D,width:W}=a.bbox,P=ne=>C(R(ne,h,H,z)),j=ne=>C(A(ne,E,x,B)),q=h.ori==0?Ll:Pl;const F={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Al},v=F.stroke,O=h.dir*(h.ori==0?1:-1);d=Ml(y,d,m,1),m=Ml(y,d,m,-1);let Z=j(y[O==1?d:m]),le=P(_[O==1?d:m]),I=le,ue=le;s&&n==-1&&(ue=D,q(v,ue,Z)),q(v,le,Z);for(let ne=O==1?d:m;ne>=d&&ne<=m;ne+=O){let fe=y[ne];if(fe==null)continue;let V=P(_[ne]),Se=j(fe);n==1?q(v,V,Z):q(v,I,Se),q(v,V,Se),Z=Se,I=V}let J=I;s&&n==1&&(J=D+W,q(v,J,Z));let[Ue,ve]=mi(a,u);if(g.fill!=null||Ue!=0){let ne=F.fill=new Path2D(v),fe=g.fillTo(a,u,g.min,g.max,Ue),V=j(fe);q(ne,J,V),q(ne,ue,V)}if(!g.spanGaps){let ne=[];ne.push(...di(_,y,d,m,O,P,l));let fe=g.width*se/2,V=o||n==1?fe:-fe,Se=o||n==-1?-fe:fe;ne.forEach(ie=>{ie[0]+=V,ie[1]+=Se}),F.gaps=ne=g.gaps(a,u,d,m,ne),F.clip=gn(ne,h.ori,z,B,H,x)}return ve!=0&&(F.band=ve==2?[Dt(a,u,d,m,v,-1),Dt(a,u,d,m,v,1)]:Dt(a,u,d,m,v,ve)),F})}function Lo(e,n,o,l,s,a,u=ee){if(e.length>1){let d=null;for(let m=0,g=1/0;m<e.length;m++)if(n[m]!==void 0){if(d!=null){let _=Ae(e[m]-e[d]);_<g&&(g=_,u=Ae(o(e[m],l,s,a)-o(e[d],l,s,a)))}d=m}}return u}function Af(e){e=e||jl;const n=oe(e.size,[.6,ee,1]),o=e.align||0,l=e.gap||0;let s=e.radius;s=s==null?[0,0]:typeof s=="number"?[s,0]:s;const a=X(s),u=1-n[0],d=oe(n[1],ee),m=oe(n[2],1),g=oe(e.disp,jl),_=oe(e.each,E=>{}),{fill:y,stroke:h}=g;return(E,R,A,z)=>ll(E,R,(B,H,x,C,D,W,P,j,q,F,v)=>{let O=B.pxRound,Z=o,le=l*se,I=d*se,ue=m*se,J,Ue;C.ori==0?[J,Ue]=a(E,R):[Ue,J]=a(E,R);const ve=C.dir*(C.ori==0?1:-1);let ne=C.ori==0?_n:gi,fe=C.ori==0?_:(U,We,Ct,Ut,Rt,$e,pt)=>{_(U,We,Ct,Rt,Ut,pt,$e)},V=oe(E.bands,ui).find(U=>U.series[0]==R),Se=V!=null?V.dir:0,ie=B.fillTo(E,R,B.min,B.max,Se),Ke=O(P(ie,D,v,q)),Cl,Te,je,nt=F,ye=O(B.width*se),qe=!1,Lt=null,nl=null,Yt=null,il=null;y!=null&&(ye==0||h!=null)&&(qe=!0,Lt=y.values(E,R,A,z),nl=new Map,new Set(Lt).forEach(U=>{U!=null&&nl.set(U,new Path2D)}),ye>0&&(Yt=h.values(E,R,A,z),il=new Map,new Set(Yt).forEach(U=>{U!=null&&il.set(U,new Path2D)})));let{x0:Rl,size:bt}=g;if(Rl!=null&&bt!=null){Z=1,H=Rl.values(E,R,A,z),Rl.unit==2&&(H=H.map(Ct=>E.posToVal(j+Ct*F,C.key,!0)));let U=bt.values(E,R,A,z);bt.unit==2?Te=U[0]*F:Te=W(U[0],C,F,j)-W(0,C,F,j),nt=Lo(H,x,W,C,F,j,nt),je=nt-Te+le}else nt=Lo(H,x,W,C,F,j,nt),je=nt*u+le,Te=nt-je;je<1&&(je=0),ye>=Te/2&&(ye=0),je<5&&(O=zo);let it=je>0,$l=nt-je-(it?ye:0);Te=O(Zn($l,ue,I)),Cl=(Z==0?Te/2:Z==ve?0:Te)-Z*ve*((Z==0?le/2:0)+(it?ye/2:0));const _t={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},Pt=qe?null:new Path2D;let Y=null;if(V!=null)Y=E.data[V.series[1]];else{let{y0:U,y1:We}=g;U!=null&&We!=null&&(x=We.values(E,R,A,z),Y=U.values(E,R,A,z))}let $=J*Te,Ne=Ue*Te;for(let U=ve==1?A:z;U>=A&&U<=z;U+=ve){let We=x[U];if(We==null)continue;if(Y!=null){let yt=Y[U]??0;if(We-yt==0)continue;Ke=P(yt,D,v,q)}let Ct=C.distr!=2||g!=null?H[U]:U,Ut=W(Ct,C,F,j),Rt=P(oe(We,ie),D,v,q),$e=O(Ut-Cl),pt=O(Oe(Rt,Ke)),Qe=O(ht(Rt,Ke)),ot=pt-Qe;if(We!=null){let yt=We<0?Ne:$,Vt=We<0?$:Ne;qe?(ye>0&&Yt[U]!=null&&ne(il.get(Yt[U]),$e,Qe+tt(ye/2),Te,Oe(0,ot-ye),yt,Vt),Lt[U]!=null&&ne(nl.get(Lt[U]),$e,Qe+tt(ye/2),Te,Oe(0,ot-ye),yt,Vt)):ne(Pt,$e,Qe+tt(ye/2),Te,Oe(0,ot-ye),yt,Vt),fe(E,R,U,$e-ye/2,Qe,Te+ye,ot)}}return ye>0?_t.stroke=qe?il:Pt:qe||(_t._fill=B.width==0?B._fill:B._stroke??B._fill,_t.width=0),_t.fill=qe?nl:Pt,_t})}function Df(e,n){const o=oe(n==null?void 0:n.alignGaps,0);return(l,s,a,u)=>ll(l,s,(d,m,g,_,y,h,E,R,A,z,B)=>{let H=d.pxRound,x=J=>H(h(J,_,z,R)),C=J=>H(E(J,y,B,A)),D,W,P;_.ori==0?(D=wn,P=Ll,W=fs):(D=Sn,P=Pl,W=us);const j=_.dir*(_.ori==0?1:-1);a=Ml(g,a,u,1),u=Ml(g,a,u,-1);let q=x(m[j==1?a:u]),F=q,v=[],O=[];for(let J=j==1?a:u;J>=a&&J<=u;J+=j)if(g[J]!=null){let ve=m[J],ne=x(ve);v.push(F=ne),O.push(C(g[J]))}const Z={stroke:e(v,O,D,P,W,H),fill:null,clip:null,band:null,gaps:null,flags:Al},le=Z.stroke;let[I,ue]=mi(l,s);if(d.fill!=null||I!=0){let J=Z.fill=new Path2D(le),Ue=d.fillTo(l,s,d.min,d.max,I),ve=C(Ue);P(J,F,ve),P(J,q,ve)}if(!d.spanGaps){let J=[];J.push(...di(m,g,a,u,j,x,o)),Z.gaps=J=d.gaps(l,s,a,u,J),Z.clip=gn(J,_.ori,R,A,z,B)}return ue!=0&&(Z.band=ue==2?[Dt(l,s,a,u,le,-1),Dt(l,s,a,u,le,1)]:Dt(l,s,a,u,le,ue)),Z})}function Lf(e){return Df(Pf,e)}function Pf(e,n,o,l,s,a){const u=e.length;if(u<2)return null;const d=new Path2D;if(o(d,e[0],n[0]),u==2)l(d,e[1],n[1]);else{let m=Array(u),g=Array(u-1),_=Array(u-1),y=Array(u-1);for(let h=0;h<u-1;h++)_[h]=n[h+1]-n[h],y[h]=e[h+1]-e[h],g[h]=_[h]/y[h];m[0]=g[0];for(let h=1;h<u-1;h++)g[h]===0||g[h-1]===0||g[h-1]>0!=g[h]>0?m[h]=0:(m[h]=3*(y[h-1]+y[h])/((2*y[h]+y[h-1])/g[h-1]+(y[h]+2*y[h-1])/g[h]),isFinite(m[h])||(m[h]=0));m[u-1]=g[u-2];for(let h=0;h<u-1;h++)s(d,e[h]+y[h]/3,n[h]+m[h]*y[h]/3,e[h+1]-y[h]/3,n[h+1]-m[h+1]*y[h]/3,e[h+1],n[h+1])}return d}const ti=new Set;function Po(){for(let e of ti)e.syncRect(!0)}Dl&&(el(cr,xl,Po),el(ar,xl,Po,!0),el(cn,xl,()=>{Ye.pxRatio=se}));const Cf=hs(),Rf=cs();function Co(e,n,o,l){return(l?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((a,u)=>li(a,u,n,o))}function Vf(e,n){return e.map((o,l)=>l==0?{}:be({},n,o))}function li(e,n,o,l){return be({},n==0?o:l,e)}function ps(e,n,o){return n==null?Tl:[n,o]}const zf=ps;function Ff(e,n,o){return n==null?Tl:an(n,o,ri,!0)}function ms(e,n,o,l){return n==null?Tl:pn(n,o,e.scales[l].log,!1)}const Nf=ms;function ds(e,n,o,l){return n==null?Tl:si(n,o,e.scales[l].log,!1)}const Hf=ds;function Of(e,n,o,l,s){let a=Oe(uo(e),uo(n)),u=n-e,d=St(s/l*u,o);do{let m=o[d],g=l*m/u;if(g>=s&&a+(m<5?Bt.get(m):0)<=17)return[m,g]}while(++d<o.length);return[0,0]}function Ro(e){let n,o;return e=e.replace(/(\d+)px/,(l,s)=>(n=Ee((o=+s)*se))+"px"),[e,n,o]}function Wf(e){e.show&&[e.font,e.labelFont].forEach(n=>{let o=he(n[2]*se,1);n[0]=n[0].replace(/[0-9.]+px/,o+"px"),n[1]=o})}function Ye(e,n,o){const l={mode:oe(e.mode,1)},s=l.mode;function a(t,i){return((i.distr==3?At(t>0?t:i.clamp(l,t,i.min,i.max,i.key)):i.distr==4?Bn(t,i.asinh):i.distr==100?i.fwd(t):t)-i._min)/(i._max-i._min)}function u(t,i,r,f){let c=a(t,i);return f+r*(i.dir==-1?1-c:c)}function d(t,i,r,f){let c=a(t,i);return f+r*(i.dir==-1?c:1-c)}function m(t,i,r,f){return i.ori==0?u(t,i,r,f):d(t,i,r,f)}l.valToPosH=u,l.valToPosV=d;let g=!1;l.status=0;const _=l.root=ct(Ks);if(e.id!=null&&(_.id=e.id),et(_,e.class),e.title){let t=ct($s,_);t.textContent=e.title}const y=wt("canvas"),h=l.ctx=y.getContext("2d"),E=ct(Js,_);el("click",E,t=>{t.target===A&&(pe!=dl||we!=gl)&&Fe.click(l,t)},!0);const R=l.under=ct(Zs,E);E.appendChild(y);const A=l.over=ct(Qs,E);e=El(e);const z=+oe(e.pxAlign,1),B=Do(z);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(l,e)||e)});const H=e.ms||.001,x=l.series=s==1?Co(e.series||[],vo,Eo,!1):Vf(e.series||[null],To),C=l.axes=Co(e.axes||[],ko,Mo,!0),D=l.scales={},W=l.bands=e.bands||[];W.forEach(t=>{t.fill=X(t.fill||null),t.dir=oe(t.dir,-1)});const P=s==2?x[1].facets[0].scale:x[0].scale,j={axes:Ps,series:Ts},q=(e.drawOrder||["axes","series"]).map(t=>j[t]);function F(t){let i=D[t];if(i==null){let r=(e.scales||jl)[t]||jl;if(r.from!=null)F(r.from),D[t]=be({},D[r.from],r,{key:t});else{i=D[t]=be({},t==P?ns:vf,r),i.key=t;let f=i.time,c=i.range,p=It(c);if((t!=P||s==2&&!f)&&(p&&(c[0]==null||c[1]==null)&&(c={min:c[0]==null?so:{mode:1,hard:c[0],soft:c[0]},max:c[1]==null?so:{mode:1,hard:c[1],soft:c[1]}},p=!1),!p&&dn(c))){let w=c;c=(S,k,M)=>k==null?Tl:an(k,M,w)}i.range=X(c||(f?zf:t==P?i.distr==3?Nf:i.distr==4?Hf:ps:i.distr==3?ms:i.distr==4?ds:Ff)),i.auto=X(p?!1:i.auto),i.clamp=X(i.clamp||kf),i._min=i._max=null}}}F("x"),F("y"),s==1&&x.forEach(t=>{F(t.scale)}),C.forEach(t=>{F(t.scale)});for(let t in e.scales)F(t);const v=D[P],O=v.distr;let Z,le;v.ori==0?(et(_,js),Z=u,le=d):(et(_,qs),Z=d,le=u);const I={};for(let t in D){let i=D[t];(i.min!=null||i.max!=null)&&(I[t]={min:i.min,max:i.max},i.min=i.max=null)}const ue=e.tzDate||(t=>new Date(Ee(t/H))),J=e.fmtDate||ci,Ue=H==1?jr(ue):Jr(ue),ve=So(ue,wo(H==1?Kr:$r,J)),ne=yo(ue,_o(Qr,J)),fe=[],V=l.legend=be({},tf,e.legend),Se=V.show,ie=V.markers;V.idxs=fe,ie.width=X(ie.width),ie.dash=X(ie.dash),ie.stroke=X(ie.stroke),ie.fill=X(ie.fill);let Ke,Cl,Te,je=[],nt=[],ye,qe=!1,Lt={};if(V.live){const t=x[1]?x[1].values:null;qe=t!=null,ye=qe?t(l,1,0):{_:0};for(let i in ye)Lt[i]=ii}if(Se)if(Ke=wt("table",ir,_),Te=wt("tbody",null,Ke),V.mount(l,Ke),qe){Cl=wt("thead",null,Ke,Te);let t=wt("tr",null,Cl);wt("th",null,t);for(var nl in ye)wt("th",Ki,t).textContent=nl}else et(Ke,sr),V.live&&et(Ke,or);const Yt={show:!0},il={show:!1};function Rl(t,i){if(i==0&&(qe||!V.live||s==2))return Tl;let r=[],f=wt("tr",rr,Te,Te.childNodes[i]);et(f,t.class),t.show||et(f,Xt);let c=wt("th",null,f);if(ie.show){let S=ct(fr,c);if(i>0){let k=ie.width(l,i);k&&(S.style.border=k+"px "+ie.dash(l,i)+" "+ie.stroke(l,i)),S.style.background=ie.fill(l,i)}}let p=ct(Ki,c);p.textContent=t.label,i>0&&(ie.show||(p.style.color=t.width>0?ie.stroke(l,i):ie.fill(l,i)),it("click",c,S=>{if(N._lock)return;jt(S);let k=x.indexOf(t);if((S.ctrlKey||S.metaKey)!=V.isolate){let M=x.some((b,T)=>T>0&&T!=k&&b.show);x.forEach((b,T)=>{T>0&&kt(T,M?T==k?Yt:il:Yt,!0,xe.setSeries)})}else kt(k,{show:!t.show},!0,xe.setSeries)},!1),sl&&it(Zi,c,S=>{N._lock||(jt(S),kt(x.indexOf(t),Sl,!0,xe.setSeries))},!1));for(var w in ye){let S=wt("td",ur,f);S.textContent="--",r.push(S)}return[f,r]}const bt=new Map;function it(t,i,r,f=!0){const c=bt.get(i)||{},p=N.bind[t](l,i,r,f);p&&(el(t,i,c[t]=p),bt.set(i,c))}function $l(t,i,r){const f=bt.get(i)||{};for(let c in f)(t==null||c==t)&&(Jn(c,i,f[c]),delete f[c]);t==null&&bt.delete(i)}let _t=0,Pt=0,Y=0,$=0,Ne=0,U=0,We=Ne,Ct=U,Ut=Y,Rt=$,$e=0,pt=0,Qe=0,ot=0;l.bbox={};let yt=!1,Vt=!1,ol=!1,Kt=!1,Jl=!1,st=!1;function yn(t,i,r){(r||t!=l.width||i!=l.height)&&wi(t,i),al(!1),ol=!0,Vt=!0,hl()}function wi(t,i){l.width=_t=Y=t,l.height=Pt=$=i,Ne=U=0,_s(),ys();let r=l.bbox;$e=r.left=Zt(Ne*se,.5),pt=r.top=Zt(U*se,.5),Qe=r.width=Zt(Y*se,.5),ot=r.height=Zt($*se,.5)}const gs=3;function ws(){let t=!1,i=0;for(;!t;){i++;let r=Ds(i),f=Ls(i);t=i==gs||r&&f,t||(wi(l.width,l.height),Vt=!0)}}function Ss({width:t,height:i}){yn(t,i)}l.setSize=Ss;function _s(){let t=!1,i=!1,r=!1,f=!1;C.forEach((c,p)=>{if(c.show&&c._show){let{side:w,_size:S}=c,k=w%2,M=c.label!=null?c.labelSize:0,b=S+M;b>0&&(k?(Y-=b,w==3?(Ne+=b,f=!0):r=!0):($-=b,w==0?(U+=b,t=!0):i=!0))}}),qt[0]=t,qt[1]=r,qt[2]=i,qt[3]=f,Y-=Ft[1]+Ft[3],Ne+=Ft[3],$-=Ft[2]+Ft[0],U+=Ft[0]}function ys(){let t=Ne+Y,i=U+$,r=Ne,f=U;function c(p,w){switch(p){case 1:return t+=w,t-w;case 2:return i+=w,i-w;case 3:return r-=w,r+w;case 0:return f-=w,f+w}}C.forEach((p,w)=>{if(p.show&&p._show){let S=p.side;p._pos=c(S,p._size),p.label!=null&&(p._lpos=c(S,p.labelSize))}})}const N=l.cursor=be({},ff,{drag:{y:s==2}},e.cursor);if(N.dataIdx==null){let t=N.hover,i=t.skip=new Set(t.skip??[]);i.add(void 0);let r=t.prox=X(t.prox),f=t.bias??(t.bias=0);N.dataIdx=(c,p,w,S)=>{if(p==0)return w;let k=w,M=r(c,p,w,S)??ee,b=M>=0&&M<ee,T=v.ori==0?Y:$,G=N.left,ae=n[0],te=n[p];if(i.has(te[w])){k=null;let Q=null,K=null,L;if(f==0||f==-1)for(L=w;Q==null&&L-- >0;)i.has(te[L])||(Q=L);if(f==0||f==1)for(L=w;K==null&&L++<te.length;)i.has(te[L])||(K=L);if(Q!=null||K!=null)if(b){let ce=Q==null?-1/0:Z(ae[Q],v,T,0),ke=K==null?1/0:Z(ae[K],v,T,0),_e=G-ce,de=ke-G;_e<=de?_e<=M&&(k=Q):de<=M&&(k=K)}else k=K==null?Q:Q==null?K:w-Q<=K-w?Q:K}else b&&Ae(G-Z(ae[w],v,T,0))>M&&(k=null);return k}}const jt=t=>{N.event=t};N.idxs=fe,N._lock=!1;let He=N.points;He.show=X(He.show),He.size=X(He.size),He.stroke=X(He.stroke),He.width=X(He.width),He.fill=X(He.fill);const zt=l.focus=be({},e.focus||{alpha:.3},N.focus),sl=zt.prox>=0,rl=sl&&He.one;let rt=[],fl=[],ul=[];function Si(t,i){let r=He.show(l,i);if(r)return et(r,nr),et(r,t.class),Mt(r,-10,-10,Y,$),A.insertBefore(r,rt[i]),r}function _i(t,i){if(s==1||i>0){let r=s==1&&D[t.scale].time,f=t.value;t.value=r?ho(f)?yo(ue,_o(f,J)):f||ne:f||Sf,t.label=t.label||(r?cf:uf)}if(rl||i>0){t.width=t.width==null?1:t.width,t.paths=t.paths||Cf||kr,t.fillTo=X(t.fillTo||xf),t.pxAlign=+oe(t.pxAlign,z),t.pxRound=Do(t.pxAlign),t.stroke=X(t.stroke||null),t.fill=X(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let r=_f(Oe(1,t.width),1),f=t.points=be({},{size:r,width:Oe(1,r*.2),stroke:t.stroke,space:r*2,paths:Rf,_stroke:null,_fill:null},t.points);f.show=X(f.show),f.filter=X(f.filter),f.fill=X(f.fill),f.stroke=X(f.stroke),f.paths=X(f.paths),f.pxAlign=t.pxAlign}if(Se){let r=Rl(t,i);je.splice(i,0,r[0]),nt.splice(i,0,r[1]),V.values.push(null)}if(N.show){fe.splice(i,0,null);let r=null;rl?i==0&&(r=Si(t,i)):i>0&&(r=Si(t,i)),rt.splice(i,0,r),fl.splice(i,0,0),ul.splice(i,0,0)}Ve("addSeries",i)}function ks(t,i){i=i??x.length,t=s==1?li(t,i,vo,Eo):li(t,i,{},To),x.splice(i,0,t),_i(x[i],i)}l.addSeries=ks;function vs(t){if(x.splice(t,1),Se){V.values.splice(t,1),nt.splice(t,1);let i=je.splice(t,1)[0];$l(null,i.firstChild),i.remove()}N.show&&(fe.splice(t,1),rt.splice(t,1)[0].remove(),fl.splice(t,1),ul.splice(t,1)),Ve("delSeries",t)}l.delSeries=vs;const qt=[!1,!1,!1,!1];function xs(t,i){if(t._show=t.show,t.show){let r=t.side%2,f=D[t.scale];f==null&&(t.scale=r?x[1].scale:P,f=D[t.scale]);let c=f.time;t.size=X(t.size),t.space=X(t.space),t.rotate=X(t.rotate),It(t.incrs)&&t.incrs.forEach(w=>{!Bt.has(w)&&Bt.set(w,Ho(w))}),t.incrs=X(t.incrs||(f.distr==2?Br:c?H==1?Ur:qr:Qt)),t.splits=X(t.splits||(c&&f.distr==1?Ue:f.distr==3?Qn:f.distr==4?pf:hf)),t.stroke=X(t.stroke),t.grid.stroke=X(t.grid.stroke),t.ticks.stroke=X(t.ticks.stroke),t.border.stroke=X(t.border.stroke);let p=t.values;t.values=It(p)&&!It(p[0])?X(p):c?It(p)?So(ue,wo(p,J)):ho(p)?Zr(ue,p):p||ve:p||af,t.filter=X(t.filter||(f.distr>=3&&f.log==10?gf:f.distr==3&&f.log==2?wf:Fo)),t.font=Ro(t.font),t.labelFont=Ro(t.labelFont),t._size=t.size(l,null,i,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(qt[i]=!0,t._el=ct(Xs,E))}}function Vl(t,i,r,f){let[c,p,w,S]=r,k=i%2,M=0;return k==0&&(S||p)&&(M=i==0&&!c||i==2&&!w?Ee(ko.size/3):0),k==1&&(c||w)&&(M=i==1&&!p||i==3&&!S?Ee(Mo.size/2):0),M}const yi=l.padding=(e.padding||[Vl,Vl,Vl,Vl]).map(t=>X(oe(t,Vl))),Ft=l._padding=yi.map((t,i)=>t(l,i,qt,0));let ze,Le=null,Pe=null;const Zl=s==1?x[0].idxs:null;let mt=null,zl=!1;function ki(t,i){if(n=t??[],l.data=l._data=n,s==2){ze=0;for(let r=1;r<x.length;r++)ze+=n[r][0].length}else{n.length==0&&(l.data=l._data=n=[[]]),mt=n[0],ze=mt.length;let r=n;if(O==2){r=n.slice();let f=r[0]=Array(ze);for(let c=0;c<ze;c++)f[c]=c}l._data=n=r}if(al(!0),Ve("setData"),O==2&&(ol=!0),i!==!1){let r=v;r.auto(l,zl)?kn():Ht(P,r.min,r.max),Kt=Kt||N.left>=0,st=!0,hl()}}l.setData=ki;function kn(){zl=!0;let t,i;s==1&&(ze>0?(Le=Zl[0]=0,Pe=Zl[1]=ze-1,t=n[0][Le],i=n[0][Pe],O==2?(t=Le,i=Pe):t==i&&(O==3?[t,i]=pn(t,t,v.log,!1):O==4?[t,i]=si(t,t,v.log,!1):v.time?i=t+Ee(86400/H):[t,i]=an(t,i,ri,!0))):(Le=Zl[0]=t=null,Pe=Zl[1]=i=null)),Ht(P,t,i)}let Ql,cl,vn,xn,Mn,bn,Tn,En,An,Tt;function vi(t,i,r,f,c,p){t??(t=qi),r??(r=ui),f??(f="butt"),c??(c=qi),p??(p="round"),t!=Ql&&(h.strokeStyle=Ql=t),c!=cl&&(h.fillStyle=cl=c),i!=vn&&(h.lineWidth=vn=i),p!=Mn&&(h.lineJoin=Mn=p),f!=bn&&(h.lineCap=bn=f),r!=xn&&h.setLineDash(xn=r)}function xi(t,i,r,f){i!=cl&&(h.fillStyle=cl=i),t!=Tn&&(h.font=Tn=t),r!=En&&(h.textAlign=En=r),f!=An&&(h.textBaseline=An=f)}function Dn(t,i,r,f,c=0){if(f.length>0&&t.auto(l,zl)&&(i==null||i.min==null)){let p=oe(Le,0),w=oe(Pe,f.length-1),S=r.min==null?t.distr==3?dr(f,p,w):mr(f,p,w,c):[r.min,r.max];t.min=ht(t.min,r.min=S[0]),t.max=Oe(t.max,r.max=S[1])}}const Mi={min:null,max:null};function Ms(){for(let f in D){let c=D[f];I[f]==null&&(c.min==null||I[P]!=null&&c.auto(l,zl))&&(I[f]=Mi)}for(let f in D){let c=D[f];I[f]==null&&c.from!=null&&I[c.from]!=null&&(I[f]=Mi)}I[P]!=null&&al(!0);let t={};for(let f in I){let c=I[f];if(c!=null){let p=t[f]=El(D[f],Mr);if(c.min!=null)be(p,c);else if(f!=P||s==2)if(ze==0&&p.from==null){let w=p.range(l,null,null,f);p.min=w[0],p.max=w[1]}else p.min=ee,p.max=-ee}}if(ze>0){x.forEach((f,c)=>{if(s==1){let p=f.scale,w=I[p];if(w==null)return;let S=t[p];if(c==0){let k=S.range(l,S.min,S.max,p);S.min=k[0],S.max=k[1],Le=St(S.min,n[0]),Pe=St(S.max,n[0]),Pe-Le>1&&(n[0][Le]<S.min&&Le++,n[0][Pe]>S.max&&Pe--),f.min=mt[Le],f.max=mt[Pe]}else f.show&&f.auto&&Dn(S,w,f,n[c],f.sorted);f.idxs[0]=Le,f.idxs[1]=Pe}else if(c>0&&f.show&&f.auto){let[p,w]=f.facets,S=p.scale,k=w.scale,[M,b]=n[c],T=t[S],G=t[k];T!=null&&Dn(T,I[S],p,M,p.sorted),G!=null&&Dn(G,I[k],w,b,w.sorted),f.min=w.min,f.max=w.max}});for(let f in t){let c=t[f],p=I[f];if(c.from==null&&(p==null||p.min==null)){let w=c.range(l,c.min==ee?null:c.min,c.max==-ee?null:c.max,f);c.min=w[0],c.max=w[1]}}}for(let f in t){let c=t[f];if(c.from!=null){let p=t[c.from];if(p.min==null)c.min=c.max=null;else{let w=c.range(l,p.min,p.max,f);c.min=w[0],c.max=w[1]}}}let i={},r=!1;for(let f in t){let c=t[f],p=D[f];if(p.min!=c.min||p.max!=c.max){p.min=c.min,p.max=c.max;let w=p.distr;p._min=w==3?At(p.min):w==4?Bn(p.min,p.asinh):w==100?p.fwd(p.min):p.min,p._max=w==3?At(p.max):w==4?Bn(p.max,p.asinh):w==100?p.fwd(p.max):p.max,i[f]=r=!0}}if(r){x.forEach((f,c)=>{s==2?c>0&&i.y&&(f._paths=null):i[f.scale]&&(f._paths=null)});for(let f in i)ol=!0,Ve("setScale",f);N.show&&N.left>=0&&(Kt=st=!0)}for(let f in I)I[f]=null}function bs(t){let i=Zn(Le-1,0,ze-1),r=Zn(Pe+1,0,ze-1);for(;t[i]==null&&i>0;)i--;for(;t[r]==null&&r<ze-1;)r++;return[i,r]}function Ts(){ze>0&&(x.forEach((t,i)=>{if(i>0&&t.show&&(bi(i,!1),bi(i,!0),t._paths==null)){Tt!=t.alpha&&(h.globalAlpha=Tt=t.alpha);let r=s==2?[0,n[i][0].length-1]:bs(n[i]);t._paths=t.paths(l,i,r[0],r[1]),Tt!=1&&(h.globalAlpha=Tt=1)}}),x.forEach((t,i)=>{if(i>0&&t.show){Tt!=t.alpha&&(h.globalAlpha=Tt=t.alpha),t._paths!=null&&Ti(i,!1);{let r=t._paths!=null?t._paths.gaps:null,f=t.points.show(l,i,Le,Pe,r),c=t.points.filter(l,i,f,r);(f||c)&&(t.points._paths=t.points.paths(l,i,Le,Pe,c),Ti(i,!0))}Tt!=1&&(h.globalAlpha=Tt=1),Ve("drawSeries",i)}}))}function bi(t,i){let r=i?x[t].points:x[t];r._stroke=r.stroke(l,t),r._fill=r.fill(l,t)}function Ti(t,i){let r=i?x[t].points:x[t],{stroke:f,fill:c,clip:p,flags:w,_stroke:S=r._stroke,_fill:k=r._fill,_width:M=r.width}=r._paths;M=he(M*se,3);let b=null,T=M%2/2;i&&k==null&&(k=M>0?"#fff":S);let G=r.pxAlign==1&&T>0;if(G&&h.translate(T,T),!i){let ae=$e-M/2,te=pt-M/2,Q=Qe+M,K=ot+M;b=new Path2D,b.rect(ae,te,Q,K)}i?Ln(S,M,r.dash,r.cap,k,f,c,w,p):Es(t,S,M,r.dash,r.cap,k,f,c,w,b,p),G&&h.translate(-T,-T)}function Es(t,i,r,f,c,p,w,S,k,M,b){let T=!1;k!=0&&W.forEach((G,ae)=>{if(G.series[0]==t){let te=x[G.series[1]],Q=n[G.series[1]],K=(te._paths||jl).band;It(K)&&(K=G.dir==1?K[0]:K[1]);let L,ce=null;te.show&&K&&wr(Q,Le,Pe)?(ce=G.fill(l,ae)||p,L=te._paths.clip):K=null,Ln(i,r,f,c,ce,w,S,k,M,b,L,K),T=!0}}),T||Ln(i,r,f,c,p,w,S,k,M,b)}const Ei=Al|ei;function Ln(t,i,r,f,c,p,w,S,k,M,b,T){vi(t,i,r,f,c),(k||M||T)&&(h.save(),k&&h.clip(k),M&&h.clip(M)),T?(S&Ei)==Ei?(h.clip(T),b&&h.clip(b),en(c,w),Xl(t,p,i)):S&ei?(en(c,w),h.clip(T),Xl(t,p,i)):S&Al&&(h.save(),h.clip(T),b&&h.clip(b),en(c,w),h.restore(),Xl(t,p,i)):(en(c,w),Xl(t,p,i)),(k||M||T)&&h.restore()}function Xl(t,i,r){r>0&&(i instanceof Map?i.forEach((f,c)=>{h.strokeStyle=Ql=c,h.stroke(f)}):i!=null&&t&&h.stroke(i))}function en(t,i){i instanceof Map?i.forEach((r,f)=>{h.fillStyle=cl=f,h.fill(r)}):i!=null&&t&&h.fill(i)}function As(t,i,r,f){let c=C[t],p;if(f<=0)p=[0,0];else{let w=c._space=c.space(l,t,i,r,f),S=c._incrs=c.incrs(l,t,i,r,f,w);p=Of(i,r,S,f,w)}return c._found=p}function Pn(t,i,r,f,c,p,w,S,k,M){let b=w%2/2;z==1&&h.translate(b,b),vi(S,w,k,M,S),h.beginPath();let T,G,ae,te,Q=c+(f==0||f==3?-p:p);r==0?(G=c,te=Q):(T=c,ae=Q);for(let K=0;K<t.length;K++)i[K]!=null&&(r==0?T=ae=t[K]:G=te=t[K],h.moveTo(T,G),h.lineTo(ae,te));h.stroke(),z==1&&h.translate(-b,-b)}function Ds(t){let i=!0;return C.forEach((r,f)=>{if(!r.show)return;let c=D[r.scale];if(c.min==null){r._show&&(i=!1,r._show=!1,al(!1));return}else r._show||(i=!1,r._show=!0,al(!1));let p=r.side,w=p%2,{min:S,max:k}=c,[M,b]=As(f,S,k,w==0?Y:$);if(b==0)return;let T=c.distr==2,G=r._splits=r.splits(l,f,S,k,M,b,T),ae=c.distr==2?G.map(L=>mt[L]):G,te=c.distr==2?mt[G[1]]-mt[G[0]]:M,Q=r._values=r.values(l,r.filter(l,ae,f,b,te),f,b,te);r._rotate=p==2?r.rotate(l,Q,f,b):0;let K=r._size;r._size=at(r.size(l,Q,f,t)),K!=null&&r._size!=K&&(i=!1)}),i}function Ls(t){let i=!0;return yi.forEach((r,f)=>{let c=r(l,f,qt,t);c!=Ft[f]&&(i=!1),Ft[f]=c}),i}function Ps(){for(let t=0;t<C.length;t++){let i=C[t];if(!i.show||!i._show)continue;let r=i.side,f=r%2,c,p,w=i.stroke(l,t),S=r==0||r==3?-1:1;if(i.label){let Be=i.labelGap*S,Xe=Ee((i._lpos+Be)*se);xi(i.labelFont[0],w,"center",r==2?Gl:ji),h.save(),f==1?(c=p=0,h.translate(Xe,Ee(pt+ot/2)),h.rotate((r==3?-un:un)/2)):(c=Ee($e+Qe/2),p=Xe),h.fillText(i.label,c,p),h.restore()}let[k,M]=i._found;if(M==0)continue;let b=D[i.scale],T=f==0?Qe:ot,G=f==0?$e:pt,ae=Ee(i.gap*se),te=i._splits,Q=b.distr==2?te.map(Be=>mt[Be]):te,K=b.distr==2?mt[te[1]]-mt[te[0]]:k,L=i.ticks,ce=i.border,ke=L.show?Ee(L.size*se):0,_e=i._rotate*-un/180,de=B(i._pos*se),Me=(ke+ae)*S,Je=de+Me;p=f==0?Je:0,c=f==1?Je:0;let Ze=i.font[0],ft=i.align==1?kl:i.align==2?Gn:_e>0?kl:_e<0?Gn:f==0?"center":r==3?Gn:kl,dt=_e||f==1?"middle":r==2?Gl:ji;xi(Ze,w,ft,dt);let gt=i.font[1]*i.lineGap,Ge=te.map(Be=>B(m(Be,b,T,G))),xt=i._values;for(let Be=0;Be<xt.length;Be++){let Xe=xt[Be];if(Xe!=null){f==0?c=Ge[Be]:p=Ge[Be],Xe=""+Xe;let yl=Xe.indexOf(`
`)==-1?[Xe]:Xe.split(/\n/gm);for(let Gt=0;Gt<yl.length;Gt++){let ut=yl[Gt];_e?(h.save(),h.translate(c,p+Gt*gt),h.rotate(_e),h.fillText(ut,0,0),h.restore()):h.fillText(ut,c,p+Gt*gt)}}}L.show&&Pn(Ge,L.filter(l,Q,t,M,K),f,r,de,ke,he(L.width*se,3),L.stroke(l,t),L.dash,L.cap);let Ie=i.grid;Ie.show&&Pn(Ge,Ie.filter(l,Q,t,M,K),f,f==0?2:1,f==0?pt:$e,f==0?ot:Qe,he(Ie.width*se,3),Ie.stroke(l,t),Ie.dash,Ie.cap),ce.show&&Pn([de],[1],f==0?1:0,f==0?1:2,f==1?pt:$e,f==1?ot:Qe,he(ce.width*se,3),ce.stroke(l,t),ce.dash,ce.cap)}Ve("drawAxes")}function al(t){x.forEach((i,r)=>{r>0&&(i._paths=null,t&&(s==1?(i.min=null,i.max=null):i.facets.forEach(f=>{f.min=null,f.max=null})))})}let tn=!1,Cn=!1,Fl=[];function Cs(){Cn=!1;for(let t=0;t<Fl.length;t++)Ve(...Fl[t]);Fl.length=0}function hl(){tn||(Pr(Ai),tn=!0)}function Rs(t,i=!1){tn=!0,Cn=i,t(l),Ai(),i&&Fl.length>0&&queueMicrotask(Cs)}l.batch=Rs;function Ai(){if(yt&&(Ms(),yt=!1),ol&&(ws(),ol=!1),Vt){if(ge(R,kl,Ne),ge(R,Gl,U),ge(R,Bl,Y),ge(R,Yl,$),ge(A,kl,Ne),ge(A,Gl,U),ge(A,Bl,Y),ge(A,Yl,$),ge(E,Bl,_t),ge(E,Yl,Pt),y.width=Ee(_t*se),y.height=Ee(Pt*se),C.forEach(({_el:t,_show:i,_size:r,_pos:f,side:c})=>{if(t!=null)if(i){let p=c===3||c===0?r:0,w=c%2==1;ge(t,w?"left":"top",f-p),ge(t,w?"width":"height",r),ge(t,w?"top":"left",w?U:Ne),ge(t,w?"height":"width",w?$:Y),$n(t,Xt)}else et(t,Xt)}),Ql=cl=vn=Mn=bn=Tn=En=An=xn=null,Tt=1,Ol(!0),Ne!=We||U!=Ct||Y!=Ut||$!=Rt){al(!1);let t=Y/Ut,i=$/Rt;if(N.show&&!Kt&&N.left>=0){N.left*=t,N.top*=i,pl&&Mt(pl,Ee(N.left),0,Y,$),ml&&Mt(ml,0,Ee(N.top),Y,$);for(let r=0;r<rt.length;r++){let f=rt[r];f!=null&&(fl[r]*=t,ul[r]*=i,Mt(f,at(fl[r]),at(ul[r]),Y,$))}}if(me.show&&!Jl&&me.left>=0&&me.width>0){me.left*=t,me.width*=t,me.top*=i,me.height*=i;for(let r in Hn)ge(wl,r,me[r])}We=Ne,Ct=U,Ut=Y,Rt=$}Ve("setSize"),Vt=!1}_t>0&&Pt>0&&(h.clearRect(0,0,y.width,y.height),Ve("drawClear"),q.forEach(t=>t()),Ve("draw")),me.show&&Jl&&(ln(me),Jl=!1),N.show&&Kt&&(Jt(null,!0,!1),Kt=!1),V.show&&V.live&&st&&(Fn(),st=!1),g||(g=!0,l.status=1,Ve("ready")),zl=!1,tn=!1}l.redraw=(t,i)=>{ol=i||!1,t!==!1?Ht(P,v.min,v.max):hl()};function Rn(t,i){let r=D[t];if(r.from==null){if(ze==0){let f=r.range(l,i.min,i.max,t);i.min=f[0],i.max=f[1]}if(i.min>i.max){let f=i.min;i.min=i.max,i.max=f}if(ze>1&&i.min!=null&&i.max!=null&&i.max-i.min<1e-16)return;t==P&&r.distr==2&&ze>0&&(i.min=St(i.min,n[0]),i.max=St(i.max,n[0]),i.min==i.max&&i.max++),I[t]=i,yt=!0,hl()}}l.setScale=Rn;let Vn,zn,pl,ml,Di,Li,dl,gl,Pi,Ci,pe,we,Nt=!1;const Fe=N.drag;let Ce=Fe.x,Re=Fe.y;N.show&&(N.x&&(Vn=ct(tr,A)),N.y&&(zn=ct(lr,A)),v.ori==0?(pl=Vn,ml=zn):(pl=zn,ml=Vn),pe=N.left,we=N.top);const me=l.select=be({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),wl=me.show?ct(er,me.over?A:R):null;function ln(t,i){if(me.show){for(let r in t)me[r]=t[r],r in Hn&&ge(wl,r,t[r]);i!==!1&&Ve("setSelect")}}l.setSelect=ln;function Vs(t,i){let r=x[t],f=Se?je[t]:null;if(r.show)f&&$n(f,Xt);else{f&&et(f,Xt);let c=rl?rt[0]:rt[t];Mt(c,-10,-10,Y,$)}}function Ht(t,i,r){Rn(t,{min:i,max:r})}function kt(t,i,r,f){i.focus!=null&&Os(t),i.show!=null&&x.forEach((c,p)=>{p>0&&(t==p||t==null)&&(c.show=i.show,Vs(p,i.show),s==2?(Ht(c.facets[0].scale,null,null),Ht(c.facets[1].scale,null,null)):Ht(c.scale,null,null),hl())}),r!==!1&&Ve("setSeries",t,i),f&&Wl("setSeries",l,t,i)}l.setSeries=kt;function zs(t,i){be(W[t],i)}function Fs(t,i){t.fill=X(t.fill||null),t.dir=oe(t.dir,-1),i=i??W.length,W.splice(i,0,t)}function Ns(t){t==null?W.length=0:W.splice(t,1)}l.addBand=Fs,l.setBand=zs,l.delBand=Ns;function Hs(t,i){x[t].alpha=i,N.show&&rt[t]&&(rt[t].style.opacity=i),Se&&je[t]&&(je[t].style.opacity=i)}let Et,Ot,$t;const Sl={focus:!0};function Os(t){if(t!=$t){let i=t==null,r=zt.alpha!=1;x.forEach((f,c)=>{if(s==1||c>0){let p=i||c==0||c==t;f._focus=i?null:p,r&&Hs(c,p?1:zt.alpha)}}),$t=t,r&&hl()}}Se&&sl&&it(Qi,Ke,t=>{N._lock||(jt(t),$t!=null&&kt(null,Sl,!0,xe.setSeries))});function vt(t,i,r){let f=D[i];r&&(t=t/se-(f.ori==1?U:Ne));let c=Y;f.ori==1&&(c=$,t=c-t),f.dir==-1&&(t=c-t);let p=f._min,w=f._max,S=t/c,k=p+(w-p)*S,M=f.distr;return M==3?bl(10,k):M==4?_r(k,f.asinh):M==100?f.bwd(k):k}function Ws(t,i){let r=vt(t,P,i);return St(r,n[0],Le,Pe)}l.valToIdx=t=>St(t,n[0]),l.posToIdx=Ws,l.posToVal=vt,l.valToPos=(t,i,r)=>D[i].ori==0?u(t,D[i],r?Qe:Y,r?$e:0):d(t,D[i],r?ot:$,r?pt:0),l.setCursor=(t,i,r)=>{pe=t.left,we=t.top,Jt(null,i,r)};function Ri(t,i){ge(wl,kl,me.left=t),ge(wl,Bl,me.width=i)}function Vi(t,i){ge(wl,Gl,me.top=t),ge(wl,Yl,me.height=i)}let Nl=v.ori==0?Ri:Vi,Hl=v.ori==1?Ri:Vi;function Gs(){if(Se&&V.live)for(let t=s==2?1:0;t<x.length;t++){if(t==0&&qe)continue;let i=V.values[t],r=0;for(let f in i)nt[t][r++].firstChild.nodeValue=i[f]}}function Fn(t,i){if(t!=null&&(t.idxs?t.idxs.forEach((r,f)=>{fe[f]=r}):xr(t.idx)||fe.fill(t.idx),V.idx=fe[0]),Se&&V.live){for(let r=0;r<x.length;r++)(r>0||s==1&&!qe)&&Is(r,fe[r]);Gs()}st=!1,i!==!1&&Ve("setLegend")}l.setLegend=Fn;function Is(t,i){let r=x[t],f=t==0&&O==2?mt:n[t],c;qe?c=r.values(l,t,i)??Lt:(c=r.value(l,i==null?null:f[i],t,i),c=c==null?Lt:{_:c}),V.values[t]=c}function Jt(t,i,r){Pi=pe,Ci=we,[pe,we]=N.move(l,pe,we),N.left=pe,N.top=we,N.show&&(pl&&Mt(pl,Ee(pe),0,Y,$),ml&&Mt(ml,0,Ee(we),Y,$));let f,c=Le>Pe;Et=ee,Ot=null;let p=v.ori==0?Y:$,w=v.ori==1?Y:$;if(pe<0||ze==0||c){f=N.idx=null;for(let S=0;S<x.length;S++){let k=rt[S];k!=null&&Mt(k,-10,-10,Y,$)}sl&&kt(null,Sl,!0,t==null&&xe.setSeries),V.live&&(fe.fill(f),st=!0)}else{let S,k,M;s==1&&(S=v.ori==0?pe:we,k=vt(S,P),f=N.idx=St(k,n[0],Le,Pe),M=Z(n[0][f],v,p,0));let b=-10,T=-10,G=0,ae=0,te=!0,Q="",K="";for(let L=s==2?1:0;L<x.length;L++){let ce=x[L],ke=fe[L],_e=ke==null?null:s==1?n[L][ke]:n[L][1][ke],de=N.dataIdx(l,L,f,k),Me=de==null?null:s==1?n[L][de]:n[L][1][de];st=st||Me!=_e||de!=ke,fe[L]=de;let Je=de==f?M:Z(s==1?n[0][de]:n[L][0][de],v,p,0);if(L>0&&ce.show){let Ze=Me==null?-10:le(Me,s==1?D[ce.scale]:D[ce.facets[1].scale],w,0);if(sl&&Me!=null){let ft=v.ori==1?pe:we,dt=Ae(zt.dist(l,L,de,Ze,ft));if(dt<Et){let gt=zt.bias;if(gt!=0){let Ge=vt(ft,ce.scale),xt=Me>=0?1:-1,Ie=Ge>=0?1:-1;Ie==xt&&(Ie==1?gt==1?Me>=Ge:Me<=Ge:gt==1?Me<=Ge:Me>=Ge)&&(Et=dt,Ot=L)}else Et=dt,Ot=L}}if(st||rl){let ft,dt;v.ori==0?(ft=Je,dt=Ze):(ft=Ze,dt=Je);let gt,Ge,xt,Ie,Be,Xe,yl=!0,Gt=He.bbox;if(Gt!=null){yl=!1;let ut=Gt(l,L);xt=ut.left,Ie=ut.top,gt=ut.width,Ge=ut.height}else xt=ft,Ie=dt,gt=Ge=He.size(l,L);if(Xe=He.fill(l,L),Be=He.stroke(l,L),rl)L==Ot&&Et<=zt.prox&&(b=xt,T=Ie,G=gt,ae=Ge,te=yl,Q=Xe,K=Be);else{let ut=rt[L];ut!=null&&(fl[L]=xt,ul[L]=Ie,oo(ut,gt,Ge,yl),no(ut,Xe,Be),Mt(ut,at(xt),at(Ie),Y,$))}}}}if(rl){let L=zt.prox,ce=$t==null?Et<=L:Et>L||Ot!=$t;if(st||ce){let ke=rt[0];fl[0]=b,ul[0]=T,oo(ke,G,ae,te),no(ke,Q,K),Mt(ke,at(b),at(T),Y,$)}}}if(me.show&&Nt)if(t!=null){let[S,k]=xe.scales,[M,b]=xe.match,[T,G]=t.cursor.sync.scales,ae=t.cursor.drag;if(Ce=ae._x,Re=ae._y,Ce||Re){let{left:te,top:Q,width:K,height:L}=t.select,ce=t.scales[T].ori,ke=t.posToVal,_e,de,Me,Je,Ze,ft=S!=null&&M(S,T),dt=k!=null&&b(k,G);ft&&Ce?(ce==0?(_e=te,de=K):(_e=Q,de=L),Me=D[S],Je=Z(ke(_e,T),Me,p,0),Ze=Z(ke(_e+de,T),Me,p,0),Nl(ht(Je,Ze),Ae(Ze-Je))):Nl(0,p),dt&&Re?(ce==1?(_e=te,de=K):(_e=Q,de=L),Me=D[k],Je=le(ke(_e,G),Me,w,0),Ze=le(ke(_e+de,G),Me,w,0),Hl(ht(Je,Ze),Ae(Ze-Je))):Hl(0,w)}else nn()}else{let S=Ae(Pi-Di),k=Ae(Ci-Li);if(v.ori==1){let G=S;S=k,k=G}Ce=Fe.x&&S>=Fe.dist,Re=Fe.y&&k>=Fe.dist;let M=Fe.uni;M!=null?Ce&&Re&&(Ce=S>=M,Re=k>=M,!Ce&&!Re&&(k>S?Re=!0:Ce=!0)):Fe.x&&Fe.y&&(Ce||Re)&&(Ce=Re=!0);let b,T;Ce&&(v.ori==0?(b=dl,T=pe):(b=gl,T=we),Nl(ht(b,T),Ae(T-b)),Re||Hl(0,w)),Re&&(v.ori==1?(b=dl,T=pe):(b=gl,T=we),Hl(ht(b,T),Ae(T-b)),Ce||Nl(0,p)),!Ce&&!Re&&(Nl(0,0),Hl(0,0))}if(Fe._x=Ce,Fe._y=Re,t==null){if(r){if(Ui!=null){let[S,k]=xe.scales;xe.values[0]=S!=null?vt(v.ori==0?pe:we,S):null,xe.values[1]=k!=null?vt(v.ori==1?pe:we,k):null}Wl($i,l,pe,we,Y,$,f)}if(sl){let S=r&&xe.setSeries,k=zt.prox;$t==null?Et<=k&&kt(Ot,Sl,!0,S):Et>k?kt(null,Sl,!0,S):Ot!=$t&&kt(Ot,Sl,!0,S)}}st&&(V.idx=f,Fn()),i!==!1&&Ve("setCursor")}let Wt=null;Object.defineProperty(l,"rect",{get(){return Wt==null&&Ol(!1),Wt}});function Ol(t=!1){t?Wt=null:(Wt=A.getBoundingClientRect(),Ve("syncRect",Wt))}function zi(t,i,r,f,c,p,w){N._lock||Nt&&t!=null&&t.movementX==0&&t.movementY==0||(Nn(t,i,r,f,c,p,w,!1,t!=null),t!=null?Jt(null,!0,!0):Jt(i,!0,!1))}function Nn(t,i,r,f,c,p,w,S,k){if(Wt==null&&Ol(!1),jt(t),t!=null)r=t.clientX-Wt.left,f=t.clientY-Wt.top;else{if(r<0||f<0){pe=-10,we=-10;return}let[M,b]=xe.scales,T=i.cursor.sync,[G,ae]=T.values,[te,Q]=T.scales,[K,L]=xe.match,ce=i.axes[0].side%2==1,ke=v.ori==0?Y:$,_e=v.ori==1?Y:$,de=ce?p:c,Me=ce?c:p,Je=ce?f:r,Ze=ce?r:f;if(te!=null?r=K(M,te)?m(G,D[M],ke,0):-10:r=ke*(Je/de),Q!=null?f=L(b,Q)?m(ae,D[b],_e,0):-10:f=_e*(Ze/Me),v.ori==1){let ft=r;r=f,f=ft}}k&&((r<=1||r>=Y-1)&&(r=Zt(r,Y)),(f<=1||f>=$-1)&&(f=Zt(f,$))),S?(Di=r,Li=f,[dl,gl]=N.move(l,r,f)):(pe=r,we=f)}const Hn={width:0,height:0,left:0,top:0};function nn(){ln(Hn,!1)}let Fi,Ni,Hi,Oi;function Wi(t,i,r,f,c,p,w){Nt=!0,Ce=Re=Fe._x=Fe._y=!1,Nn(t,i,r,f,c,p,w,!0,!1),t!=null&&(it(In,jn,Gi,!1),Wl(Ji,l,dl,gl,Y,$,null));let{left:S,top:k,width:M,height:b}=me;Fi=S,Ni=k,Hi=M,Oi=b,nn()}function Gi(t,i,r,f,c,p,w){Nt=Fe._x=Fe._y=!1,Nn(t,i,r,f,c,p,w,!1,!0);let{left:S,top:k,width:M,height:b}=me,T=M>0||b>0,G=Fi!=S||Ni!=k||Hi!=M||Oi!=b;if(T&&G&&ln(me),Fe.setScale&&T&&G){let ae=S,te=M,Q=k,K=b;if(v.ori==1&&(ae=k,te=b,Q=S,K=M),Ce&&Ht(P,vt(ae,P),vt(ae+te,P)),Re)for(let L in D){let ce=D[L];L!=P&&ce.from==null&&ce.min!=ee&&Ht(L,vt(Q+K,L),vt(Q,L))}nn()}else N.lock&&(N._lock=!N._lock,Jt(null,!0,!1));t!=null&&($l(In,jn),Wl(In,l,pe,we,Y,$,null))}function Bs(t,i,r,f,c,p,w){if(N._lock)return;jt(t);let S=Nt;if(Nt){let k=!0,M=!0,b=10,T,G;v.ori==0?(T=Ce,G=Re):(T=Re,G=Ce),T&&G&&(k=pe<=b||pe>=Y-b,M=we<=b||we>=$-b),T&&k&&(pe=pe<dl?0:Y),G&&M&&(we=we<gl?0:$),Jt(null,!0,!0),Nt=!1}pe=-10,we=-10,Jt(null,!0,!0),S&&(Nt=S)}function Ii(t,i,r,f,c,p,w){N._lock||(jt(t),kn(),nn(),t!=null&&Wl(Xi,l,pe,we,Y,$,null))}function Bi(){C.forEach(Wf),yn(l.width,l.height,!0)}el(cn,xl,Bi);const _l={};_l.mousedown=Wi,_l.mousemove=zi,_l.mouseup=Gi,_l.dblclick=Ii,_l.setSeries=(t,i,r,f)=>{let c=xe.match[2];r=c(l,i,r),r!=-1&&kt(r,f,!0,!1)},N.show&&(it(Ji,A,Wi),it($i,A,zi),it(Zi,A,t=>{jt(t),Ol(!1)}),it(Qi,A,Bs),it(Xi,A,Ii),ti.add(l),l.syncRect=Ol);const on=l.hooks=e.hooks||{};function Ve(t,i,r){Cn?Fl.push([t,i,r]):t in on&&on[t].forEach(f=>{f.call(null,l,i,r)})}(e.plugins||[]).forEach(t=>{for(let i in t.hooks)on[i]=(on[i]||[]).concat(t.hooks[i])});const Yi=(t,i,r)=>r,xe=be({key:null,setSeries:!1,filters:{pub:co,sub:co},scales:[P,x[1]?x[1].scale:null],match:[ao,ao,Yi],values:[null,null]},N.sync);xe.match.length==2&&xe.match.push(Yi),N.sync=xe;const Ui=xe.key,On=is(Ui);function Wl(t,i,r,f,c,p,w){xe.filters.pub(t,i,r,f,c,p,w)&&On.pub(t,i,r,f,c,p,w)}On.sub(l);function Ys(t,i,r,f,c,p,w){xe.filters.sub(t,i,r,f,c,p,w)&&_l[t](null,i,r,f,c,p,w)}l.pub=Ys;function Us(){On.unsub(l),ti.delete(l),bt.clear(),Jn(cn,xl,Bi),_.remove(),Ke==null||Ke.remove(),Ve("destroy")}l.destroy=Us;function Wn(){Ve("init",e,n),ki(n||e.data,!1),I[P]?Rn(P,I[P]):kn(),Jl=me.show&&(me.width>0||me.height>0),Kt=st=!0,yn(e.width,e.height)}return x.forEach(_i),C.forEach(xs),o?o instanceof HTMLElement?(o.appendChild(_),Wn()):o(l,Wn):Wn(),l}Ye.assign=be;Ye.fmtNum=fi;Ye.rangeNum=an;Ye.rangeLog=pn;Ye.rangeAsinh=si;Ye.orient=ll;Ye.pxRatio=se;Ye.join=Lr;Ye.fmtDate=ci,Ye.tzDate=Gr;Ye.sync=is;{Ye.addGap=Mf,Ye.clipGaps=gn;let e=Ye.paths={points:cs};e.linear=hs,e.stepped=Ef,e.bars=Af,e.spline=Lf}export{Ye as u};
